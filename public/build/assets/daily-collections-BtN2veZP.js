import{b as y,u as D,j as e}from"./app-C36bihvT.js";import{C as i,a as d,b as m,c as x}from"./card-BHrraKyP.js";import{F as h}from"./createLucideIcon-XfsHsazo.js";import{I as j}from"./index-DFXOyceB.js";import{L as u}from"./label-pihz-xdu.js";import{T,a as _,b as r,c as l,d as F,e as a}from"./table-D_gRW9S0.js";import{D as v,a as H,b as w,c as S,d as R}from"./dialog-RGyyvdl5.js";import{A}from"./app-layout-GngZEOIY.js";import{P as G}from"./plus-Ds0UD5j6.js";import{D as P}from"./dollar-sign-CU52emNg.js";import"./index-BUfac13D.js";import"./index-B7v61762.js";function V(){const{daily_collections:t=[]}=y().props,{data:o,setData:n,post:p,processing:g,errors:L,reset:f}=D({customer_name:"",amount_collected:"",payment_method:"",notes:""}),b=[{title:"Daily Collections",href:"/daily-collections"}];function C(s){s.preventDefault(),p(route("daily-collections.store"),{onSuccess:()=>f()})}const c=t.reduce((s,N)=>s+parseFloat(N.amount_collected),0);return e.jsx(A,{breadcrumbs:b,children:e.jsxs("div",{className:"p-6 space-y-6 bg-gray-100 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Daily Collections"}),e.jsxs(v,{children:[e.jsx(H,{asChild:!0,children:e.jsxs(h,{children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Record Collection"]})}),e.jsxs(w,{children:[e.jsx(S,{children:e.jsx(R,{children:"Record Daily Collection"})}),e.jsxs("form",{onSubmit:C,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"customer",className:"text-right",children:"Customer"}),e.jsx(j,{id:"customer",className:"col-span-3",placeholder:"Customer name",value:o.customer_name,onChange:s=>n("customer_name",s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"amount",className:"text-right",children:"Amount (GH₵)"}),e.jsx(j,{id:"amount",type:"number",className:"col-span-3",placeholder:"0.00",value:o.amount_collected,onChange:s=>n("amount_collected",s.target.value)})]}),e.jsx(h,{type:"submit",disabled:g,children:"Record Collection"})]})]})]})]}),e.jsxs(i,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Total Collections Today"}),e.jsx(P,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(x,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["GH₵",c.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",t.length," customers"]})]})]}),e.jsxs(i,{children:[e.jsx(d,{children:e.jsx(m,{children:"Daily Collections"})}),e.jsx(x,{children:e.jsxs(T,{children:[e.jsx(_,{children:e.jsxs(r,{children:[e.jsx(l,{children:"Time"}),e.jsx(l,{children:"Customer Name"}),e.jsx(l,{children:"Amount Collected"}),e.jsx(l,{children:"Payment Method"}),e.jsx(l,{children:"Notes"})]})}),e.jsxs(F,{children:[t.map(s=>e.jsxs(r,{children:[e.jsx(a,{children:s.time}),e.jsx(a,{className:"font-medium",children:s.customer_name}),e.jsxs(a,{className:"font-medium text-green-600",children:["GH₵",parseFloat(s.amount_collected).toFixed(2)]}),e.jsx(a,{children:s.payment_method}),e.jsx(a,{children:s.notes})]},s.id)),e.jsxs(r,{className:"bg-green-50",children:[e.jsx(a,{colSpan:2,className:"font-bold",children:"Total Collected"}),e.jsxs(a,{className:"font-bold text-green-600",children:["GH₵",c.toFixed(2)]}),e.jsx(a,{colSpan:2})]})]})]})})]})]})})}export{V as default};
