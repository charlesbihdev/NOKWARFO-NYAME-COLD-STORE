import{j as e,u as B,r as _,a as X}from"./app-Bicvdzaq.js";import{B as w}from"./badge-BBoBq8_m.js";import{c as Q,F as f}from"./createLucideIcon-CjhkbSKr.js";import{C as T,c as F,a as R,b as J}from"./card-7QsND64p.js";import{T as K,a as Y,b as E,c as D,d as Z,e as b}from"./table-CdVtybk0.js";import{T as ee,A as se,U as H,C as ae,M as te}from"./app-layout-ClZ5XtJB.js";import{I as m}from"./InputError-u4fE3LEH.js";import{D as L,b as $,c as G,d as z,e as V}from"./dialog-kOxqKTVd.js";import{I as g}from"./index-DuMDjP7Y.js";import{L as x}from"./label-D4Pr0DB7.js";import{T as A}from"./textarea-Cqe5dgg6.js";import{S as ne,a as ie,b as le,c as ce,d as de}from"./select-BqvgbUUE.js";import{P as U}from"./plus-AcRfdIds.js";import{T as W}from"./trash-2-i6uI8R_s.js";import{T as re}from"./trending-down-7quAK0tm.js";import{D as oe}from"./dollar-sign-G-B9yEso.js";import{P as me,M as xe}from"./phone-BCaorwAw.js";import{S as he}from"./square-pen-umeStPrp.js";import{H as pe}from"./history-DJ_miKcv.js";import"./index-dJniqGDa.js";import"./index-BZN2j33M.js";import"./index-B0wu8Ctx.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M5 12h14",key:"1ays0h"}]],je=Q("Minus",ue);function ge({supplier:c}){const j=parseFloat(c.total_owed||0)||0,n=parseFloat(c.total_paid||0)||0,t=parseFloat(c.total_outstanding||0)||0,a=c.transactions_count||0,l=()=>t>0?"text-red-600":t<0?"text-green-600":"text-gray-600",h=()=>t>0?e.jsx(ee,{className:"h-3 w-3"}):t<0?e.jsx(re,{className:"h-3 w-3"}):e.jsx(je,{className:"h-3 w-3"}),o=d=>`GHC ${(parseFloat(d)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex items-center gap-1 font-medium ${l()}`,children:[h(),e.jsxs("span",{className:"text-sm",children:[t>0&&"Outstanding: ",t<0&&"Credit: ",t===0&&"Settled: ",o(t)]})]}),a>0&&e.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Owed:"}),e.jsx("span",{children:o(j)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Paid:"}),e.jsx("span",{children:o(n)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Transactions:"}),e.jsx("span",{children:a})]}),c.last_transaction_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Last Activity:"}),e.jsx("span",{children:c.last_transaction_date})]})]}),e.jsxs("div",{className:"flex gap-1",children:[t>0&&e.jsx(w,{className:"text-xs bg-red-600 text-white hover:bg-red-700",children:"Outstanding"}),t<0&&e.jsx(w,{variant:"secondary",className:"text-xs",children:"Overpaid"}),t===0&&a>0&&e.jsx(w,{variant:"outline",className:"text-xs",children:"Settled"}),a===0&&e.jsx(w,{variant:"outline",className:"text-xs",children:"No Transactions"})]})]})}function fe({isOpen:c,onClose:j,errors:n={}}){const{data:t,setData:a,post:l,processing:h,reset:o}=B({name:"",contact_person:"",phone:"",email:"",address:"",additional_info:""});function d(r){r.preventDefault(),l(route("suppliers.store"),{onSuccess:()=>{o(),j()},preserveScroll:!0,preserveState:!0,only:["suppliers","errors","flash"]})}return e.jsx(L,{open:c,onOpenChange:j,children:e.jsxs($,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[e.jsxs(G,{children:[e.jsx(z,{children:"Add New Supplier"}),e.jsx(V,{children:"Enter the details for the new supplier. All fields marked with * are required."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"name",children:"Supplier Name *"}),e.jsx(g,{id:"name",placeholder:"Enter supplier name",value:t.name,onChange:r=>a("name",r.target.value),required:!0}),n.name&&e.jsx(m,{message:n.name,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"contact_person",children:"Contact Person"}),e.jsx(g,{id:"contact_person",placeholder:"Contact person name",value:t.contact_person,onChange:r=>a("contact_person",r.target.value),required:!0}),n.contact_person&&e.jsx(m,{message:n.contact_person,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"phone",children:"Phone Number"}),e.jsx(g,{id:"phone",placeholder:"+233 XX XXX XXXX",value:t.phone,onChange:r=>a("phone",r.target.value),type:"tel"}),n.phone&&e.jsx(m,{message:n.phone,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"Email Address"}),e.jsx(g,{id:"email",placeholder:"supplier@example.com",value:t.email,onChange:r=>a("email",r.target.value),type:"email"}),n.email&&e.jsx(m,{message:n.email,className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"address",children:"Address"}),e.jsx(A,{id:"address",placeholder:"Business address",value:t.address,onChange:r=>a("address",r.target.value),rows:2}),n.address&&e.jsx(m,{message:n.address,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"additional_info",children:"Additional Information"}),e.jsx(A,{id:"additional_info",placeholder:"Any additional notes or information",value:t.additional_info,onChange:r=>a("additional_info",r.target.value),rows:3}),n.additional_info&&e.jsx(m,{message:n.additional_info,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),e.jsx(f,{onClick:d,disabled:h,children:h?"Creating...":"Add Supplier"})]})]})]})})}function ve({isOpen:c,onClose:j,supplier:n,products:t=[],errors:a={}}){const[l,h]=_.useState([{product_name:"",quantity:1,unit_price:0}]),{data:o,setData:d,post:r,processing:p,reset:C,clearErrors:S}=B({transaction_date:new Date().toISOString().split("T")[0],notes:"",items:[{product_name:"",quantity:1,unit_price:0}],payment_amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:""});_.useEffect(()=>{if(c){const s=[{product_name:"",quantity:1,unit_price:0}];h(s),C(),S(),d(i=>({...i,transaction_date:new Date().toISOString().split("T")[0],notes:"",items:s,payment_amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:""}))}},[c,C,S]);function O(s){s.preventDefault(),n&&(d({...o,items:l}),r(route("suppliers.create-credit-transaction",n.id),{onSuccess:()=>{C(),S(),h([{product_name:"",quantity:1,unit_price:0}]),j()},preserveScroll:!0,preserveState:!0,only:["suppliers","errors","flash"]}))}function P(){C(),S(),h([{product_name:"",quantity:1,unit_price:0}]),j()}function q(){const s=[...l,{product_name:"",quantity:1,unit_price:0}];h(s),d("items",s)}function M(s){if(l.length>1){const i=l.filter((v,u)=>u!==s);h(i),d("items",i)}}function I(s,i,v){const u=[...l];u[s]={...u[s],[i]:v},h(u),d("items",u)}function k(s,i){const v=t.find(u=>u.id==i);if(v){const u=[...l];u[s]={...u[s],product_name:v.name,unit_price:v.unit_cost_price||0},h(u),d("items",u)}}if(!n)return null;const y=l.reduce((s,i)=>s+parseFloat(i.quantity||0)*parseFloat(i.unit_price||0),0);return e.jsx(L,{open:c,onOpenChange:j,children:e.jsxs($,{className:"max-h-[85vh] max-w-2xl overflow-y-auto",children:[e.jsx(G,{children:e.jsx(z,{children:"Add Transaction"})}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsx("div",{className:"rounded-lg bg-gray-50 p-3",children:e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Supplier: ",n.name]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"transaction_date",children:"Transaction Date *"}),e.jsx(g,{id:"transaction_date",type:"date",value:o.transaction_date,onChange:s=>d("transaction_date",s.target.value),required:!0}),a.transaction_date&&e.jsx("p",{className:"text-sm text-red-600",children:a.transaction_date})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{children:"Goods Items *"}),e.jsxs(f,{type:"button",variant:"outline",size:"sm",onClick:q,className:"h-8",children:[e.jsx(U,{className:"mr-1 h-3 w-3"}),"Add Item"]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 px-3 text-xs font-medium text-gray-600",children:[e.jsx("div",{className:"col-span-5",children:"Product Name"}),e.jsx("div",{className:"col-span-3 text-center",children:"Quantity"}),e.jsx("div",{className:"col-span-3 text-center",children:"Unit Price (GHC)"}),e.jsx("div",{className:"col-span-1"})]}),l.map((s,i)=>{var v,u;return e.jsxs("div",{className:"grid grid-cols-12 gap-2 rounded-lg border p-3",children:[e.jsxs("div",{className:"col-span-5",children:[e.jsxs(ne,{value:s.product_name&&((u=(v=t.find(N=>N.name===s.product_name))==null?void 0:v.id)==null?void 0:u.toString())||"",onValueChange:N=>k(i,N),children:[e.jsx(ie,{children:e.jsx(le,{placeholder:"Select a product"})}),e.jsx(ce,{children:t.map(N=>e.jsx(de,{value:N.id.toString(),children:N.name},N.id))})]}),a[`items.${i}.product_name`]&&e.jsx(m,{message:a[`items.${i}.product_name`],className:"mt-1"})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(g,{type:"number",placeholder:"Qty",value:s.quantity,onChange:N=>I(i,"quantity",N.target.value),min:"1",required:!0}),a[`items.${i}.quantity`]&&e.jsx(m,{message:a[`items.${i}.quantity`],className:"mt-1"})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(g,{type:"number",step:"0.01",placeholder:"Unit Price",value:s.unit_price,onChange:N=>I(i,"unit_price",N.target.value),min:"0.01",required:!0}),a[`items.${i}.unit_price`]&&e.jsx(m,{message:a[`items.${i}.unit_price`],className:"mt-1"})]}),e.jsx("div",{className:"col-span-1",children:l.length>1&&e.jsx(f,{type:"button",variant:"outline",size:"sm",onClick:()=>M(i),className:"h-8 w-8 p-0 text-red-600",children:e.jsx(W,{className:"h-3 w-3"})})})]},i)})]}),e.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"text-blue-600",children:["GHC ",y.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),e.jsxs("div",{className:"space-y-3 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{className:"text-base font-medium",children:"Make Payment (Optional)"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Pay now to reduce outstanding balance"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"payment_amount",children:"Payment Amount (GHC)"}),e.jsx(g,{id:"payment_amount",type:"number",step:"0.01",min:"0",max:y,placeholder:"0.00",value:o.payment_amount||"",onChange:s=>{const i=s.target.value;d("payment_amount",i)}}),a.payment_amount&&e.jsx(m,{message:a.payment_amount,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"payment_date",children:"Payment Date"}),e.jsx(g,{id:"payment_date",type:"date",value:o.payment_date,onChange:s=>d("payment_date",s.target.value)}),a.payment_date&&e.jsx(m,{message:a.payment_date,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"payment_method",children:"Payment Method"}),e.jsx(g,{id:"payment_method",type:"text",placeholder:"Cash, Bank Transfer, etc.",value:o.payment_method,onChange:s=>d("payment_method",s.target.value)}),a.payment_method&&e.jsx(m,{message:a.payment_method,className:"mt-1"})]})]}),parseFloat(o.payment_amount||0)>0&&e.jsx("div",{className:"rounded-lg bg-green-50 p-3",children:e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{children:"Outstanding Balance After Payment:"}),e.jsxs("span",{className:"text-green-600",children:["GHC ",(y-parseFloat(o.payment_amount||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"notes",children:"Notes"}),e.jsx(A,{id:"notes",placeholder:"Additional information about this transaction",value:o.notes,onChange:s=>d("notes",s.target.value),rows:2}),a.notes&&e.jsx(m,{message:a.notes,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),e.jsx(f,{type:"submit",disabled:p,children:p?"Creating...":"Create Transaction"})]})]})]})})}function Ne({isOpen:c,onClose:j,supplier:n,errors:t={}}){const{data:a,setData:l,put:h,processing:o,reset:d}=B({name:"",contact_person:"",phone:"",email:"",address:"",additional_info:""});_.useEffect(()=>{n&&l({name:n.name||"",contact_person:n.contact_person||"",phone:n.phone||"",email:n.email||"",address:n.address||"",additional_info:n.additional_info||""})},[n]);function r(){n&&h(route("suppliers.update",n.id),{onSuccess:()=>{d(),j()},preserveScroll:!0,preserveState:!0,only:["suppliers","errors","flash"]})}return n?e.jsx(L,{open:c,onOpenChange:j,children:e.jsxs($,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[e.jsxs(G,{children:[e.jsx(z,{children:"Edit Supplier"}),e.jsx(V,{children:"Update the supplier information. All fields marked with * are required."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"edit-name",children:"Supplier Name *"}),e.jsx(g,{id:"edit-name",placeholder:"Enter supplier name",value:a.name,onChange:p=>l("name",p.target.value),required:!0}),t.name&&e.jsx(m,{message:t.name,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"edit-contact_person",children:"Contact Person"}),e.jsx(g,{id:"edit-contact_person",placeholder:"Contact person name",value:a.contact_person,onChange:p=>l("contact_person",p.target.value)}),t.contact_person&&e.jsx(m,{message:t.contact_person,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"edit-phone",children:"Phone Number"}),e.jsx(g,{id:"edit-phone",placeholder:"+233 XX XXX XXXX",value:a.phone,onChange:p=>l("phone",p.target.value),type:"tel"}),t.phone&&e.jsx(m,{message:t.phone,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"edit-email",children:"Email Address"}),e.jsx(g,{id:"edit-email",placeholder:"supplier@example.com",value:a.email,onChange:p=>l("email",p.target.value),type:"email"}),t.email&&e.jsx(m,{message:t.email,className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"edit-address",children:"Address"}),e.jsx(A,{id:"edit-address",placeholder:"Business address",value:a.address,onChange:p=>l("address",p.target.value),rows:2}),t.address&&e.jsx(m,{message:t.address,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"edit-additional_info",children:"Additional Information"}),e.jsx(A,{id:"edit-additional_info",placeholder:"Any additional notes or information",value:a.additional_info,onChange:p=>l("additional_info",p.target.value),rows:3}),t.additional_info&&e.jsx(m,{message:t.additional_info,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),e.jsx(f,{onClick:r,disabled:o,children:o?"Updating...":"Update Supplier"})]})]})]})}):null}function $e({suppliers:c=[],products:j=[],errors:n={}}){const[t,a]=_.useState(!1),[l,h]=_.useState(!1),[o,d]=_.useState(!1),[r,p]=_.useState(null),[C,S]=_.useState(null),O=[{title:"Suppliers",href:"/suppliers"}];function P(s){p(s),h(!0)}function q(s){confirm("Are you sure you want to delete this supplier?")&&X.delete(route("suppliers.destroy",s),{preserveScroll:!0,preserveState:!0,only:["suppliers","flash","errors"]})}function M(s){S(s),d(!0)}function I(s){X.get(route("suppliers.transactions",s.id))}function k(s){X.patch(route("suppliers.toggle-status",s.id),{},{preserveScroll:!0,preserveState:!0,only:["suppliers","flash"]})}const y={totalSuppliers:c.length,activeSuppliers:c.filter(s=>s.is_active).length,totalOutstanding:c.reduce((s,i)=>{const v=parseFloat(i.total_outstanding||0)||0;return s+v},0),suppliersWithDebt:c.filter(s=>(parseFloat(s.total_outstanding||0)||0)>0).length};return e.jsx(se,{breadcrumbs:O,children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Management"}),e.jsxs(f,{onClick:()=>a(!0),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx(T,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Suppliers"}),e.jsx("p",{className:"text-2xl font-bold",children:y.totalSuppliers})]})]})})}),e.jsx(T,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Suppliers"}),e.jsx("p",{className:"text-2xl font-bold",children:y.activeSuppliers})]})]})})}),e.jsx(T,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-5 w-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Outstanding"}),e.jsxs("p",{className:"text-2xl font-bold",children:["GHC ",y.totalOutstanding.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})}),e.jsx(T,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"With Outstanding Debt"}),e.jsx("p",{className:"text-2xl font-bold",children:y.suppliersWithDebt})]})]})})})]}),e.jsxs(T,{children:[e.jsx(R,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Supplier Directory"]})}),e.jsx(F,{children:e.jsxs(K,{children:[e.jsx(Y,{children:e.jsxs(E,{children:[e.jsx(D,{children:"Supplier Details"}),e.jsx(D,{children:"Contact Info"}),e.jsx(D,{children:"Financial Status"}),e.jsx(D,{children:"Status"}),e.jsx(D,{children:"Actions"})]})}),e.jsxs(Z,{children:[c.map(s=>e.jsxs(E,{children:[e.jsx(b,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.contact_person&&e.jsx("p",{className:"text-sm text-gray-500",children:s.contact_person})]})}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-1",children:[s.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(me,{className:"h-3 w-3"}),s.phone]}),s.email&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(xe,{className:"h-3 w-3"}),s.email]}),s.address&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(te,{className:"h-3 w-3"}),e.jsx("span",{className:"max-w-32 truncate",children:s.address})]})]})}),e.jsx(b,{children:e.jsx(ge,{supplier:s})}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{variant:s.is_active?"default":"secondary",className:"cursor-pointer",onClick:()=>k(s),children:s.is_active?"Active":"Inactive"}),s.has_outstanding_debt&&e.jsx(w,{className:"text-xs bg-red-600 text-white hover:bg-red-700",children:"Debt"})]})}),e.jsx(b,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx(f,{variant:"outline",size:"sm",onClick:()=>P(s),children:e.jsx(he,{className:"h-3 w-3"})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>I(s),title:"View Transactions",children:e.jsx(pe,{className:"h-3 w-3"})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>M(s),title:"Add Transaction",className:"text-blue-600",children:e.jsx(U,{className:"h-3 w-3"})}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>q(s.id),className:"text-red-600",disabled:s.has_outstanding_debt,title:s.has_outstanding_debt?"Cannot delete supplier with outstanding debt":"Delete supplier",children:e.jsx(W,{className:"h-3 w-3"})})]})})]},s.id)),c.length===0&&e.jsx(E,{children:e.jsx(b,{colSpan:5,className:"text-muted-foreground py-8 text-center",children:"No suppliers found. Add your first supplier to get started."})})]})]})})]}),e.jsx(fe,{isOpen:t,onClose:()=>a(!1),errors:n}),e.jsx(Ne,{isOpen:l,onClose:()=>h(!1),supplier:r,errors:n}),e.jsx(ve,{isOpen:o,onClose:()=>{d(!1),S(null)},supplier:C,products:j,errors:n})]})})}export{$e as default};
