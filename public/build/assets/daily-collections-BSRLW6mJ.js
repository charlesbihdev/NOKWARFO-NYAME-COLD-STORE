import{K as y,m as D,j as e}from"./app-Cr2q6RgE.js";import{C as i,a as d,b as m,c as x}from"./card-BfpklwD7.js";import{F as h}from"./createLucideIcon-BWJBnjvx.js";import{I as j}from"./index-CG6i6Mhb.js";import{L as u}from"./label-CENo8H-f.js";import{T,a as _,b as r,c as a,d as v,e as l}from"./table-Cpg4yUgs.js";import{D as F,a as H,b as w,c as S,d as R}from"./dialog-MAc-lJ1S.js";import{A}from"./app-layout-DY7q61lp.js";import{P as G}from"./plus-CbzCAqvV.js";import{D as L}from"./dollar-sign-COv1sK9A.js";import"./index-Cuxjp_Nf.js";import"./index-9UfKOC-3.js";function V(){const{daily_collections:t=[]}=y().props,{data:o,setData:n,post:p,processing:g,errors:P,reset:f}=D({customer_name:"",amount_collected:"",payment_method:"",notes:""}),b=[{title:"Daily Collections",href:"/daily-collections"}];function C(s){s.preventDefault(),p(route("daily-collections.store"),{onSuccess:()=>f()})}const c=t.reduce((s,N)=>s+parseFloat(N.amount_collected),0);return e.jsx(A,{breadcrumbs:b,children:e.jsxs("div",{className:"p-6 space-y-6 bg-gray-100 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Daily Collections"}),e.jsxs(F,{children:[e.jsx(H,{asChild:!0,children:e.jsxs(h,{children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Record Collection"]})}),e.jsxs(w,{children:[e.jsx(S,{children:e.jsx(R,{children:"Record Daily Collection"})}),e.jsxs("form",{onSubmit:C,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"customer",className:"text-right",children:"Customer"}),e.jsx(j,{id:"customer",className:"col-span-3",placeholder:"Customer name",value:o.customer_name,onChange:s=>n("customer_name",s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(u,{htmlFor:"amount",className:"text-right",children:"Amount (GH₵)"}),e.jsx(j,{id:"amount",type:"number",className:"col-span-3",placeholder:"0.00",value:o.amount_collected,onChange:s=>n("amount_collected",s.target.value)})]}),e.jsx(h,{type:"submit",disabled:g,children:"Record Collection"})]})]})]})]}),e.jsxs(i,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Total Collections Today"}),e.jsx(L,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(x,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["GH₵",c.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",t.length," customers"]})]})]}),e.jsxs(i,{children:[e.jsx(d,{children:e.jsx(m,{children:"Daily Collections"})}),e.jsx(x,{children:e.jsxs(T,{children:[e.jsx(_,{children:e.jsxs(r,{children:[e.jsx(a,{children:"Time"}),e.jsx(a,{children:"Customer Name"}),e.jsx(a,{children:"Amount Collected"}),e.jsx(a,{children:"Payment Method"}),e.jsx(a,{children:"Notes"})]})}),e.jsxs(v,{children:[t.map(s=>e.jsxs(r,{children:[e.jsx(l,{children:s.time}),e.jsx(l,{className:"font-medium",children:s.customer_name}),e.jsxs(l,{className:"font-medium text-green-600",children:["GH₵",parseFloat(s.amount_collected).toFixed(2)]}),e.jsx(l,{children:s.payment_method}),e.jsx(l,{children:s.notes})]},s.id)),e.jsxs(r,{className:"bg-green-50",children:[e.jsx(l,{colSpan:2,className:"font-bold",children:"Total Collected"}),e.jsxs(l,{className:"font-bold text-green-600",children:["GH₵",c.toFixed(2)]}),e.jsx(l,{colSpan:2})]})]})]})})]})]})})}export{V as default};
