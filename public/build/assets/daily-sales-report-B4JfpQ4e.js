import{j as e,r as v,a as w}from"./app-C91agm-K.js";import{A as E,P as D}from"./app-layout-BryGhyHM.js";import{C as P,a as C,b as S,c as _}from"./card-bQtTgRYf.js";import{T as A,a as H,b as c,c as x,d as G,e as s}from"./table-BlXjy_ah.js";import{D as Q}from"./DateRangePicker-B1zk98kA.js";import{D as q}from"./dollar-sign-CIdT3-1E.js";import{C as I}from"./calendar-B6X1MODu.js";import"./createLucideIcon-BtIOmvPk.js";import"./input-WI2R0PGo.js";import"./index-DOYZj-e2.js";function f({title:o,products:t,totalQty:u,totalAmount:n,totalAmountColor:l,showAmountPaid:r=!1,totalAmountPaid:d,onPageChange:g}){const j=()=>e.jsxs("nav",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{disabled:!t.prev_page_url,onClick:()=>g(t.current_page-1),className:`rounded border px-3 py-1 ${t.prev_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Previous"}),e.jsx("span",{className:"rounded border px-3 py-1",children:t.current_page}),e.jsx("button",{disabled:!t.next_page_url,onClick:()=>g(t.current_page+1),className:`rounded border px-3 py-1 ${t.next_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Next"})]});return e.jsxs(P,{children:[e.jsx(C,{children:e.jsx(S,{children:o})}),e.jsxs(_,{children:[e.jsxs(A,{children:[e.jsx(H,{children:e.jsxs(c,{children:[e.jsx(x,{children:"Product"}),e.jsx(x,{children:"Quantity"}),e.jsx(x,{children:"Total Amount"}),r&&e.jsx(x,{children:"Amount Paid"})]})}),e.jsxs(G,{children:[t.data.length===0?e.jsx(c,{children:e.jsx(s,{colSpan:r?4:3,className:"text-center text-gray-500",children:"No records found"})}):t.data.map((i,b)=>e.jsxs(c,{children:[e.jsx(s,{className:"font-medium",children:i.product}),e.jsx(s,{children:i.qty}),e.jsxs(s,{className:"font-medium",children:["GH₵",Number(i.total_amount||0).toFixed(2)]}),r&&e.jsxs(s,{className:"font-medium",children:["GH₵",Number(i.amount_paid||0).toFixed(2)]})]},b)),e.jsxs(c,{className:`bg-${l==="text-green-600"?"green":l==="text-orange-600"?"orange":"yellow"}-50`,children:[e.jsx(s,{className:"font-bold",children:"Total Products"}),e.jsx(s,{className:"font-bold",children:u}),e.jsxs(s,{className:`font-bold ${l}`,children:["GH₵",Number(n||0).toFixed(2)]}),r&&e.jsxs(s,{className:"font-bold text-green-600",children:["GH₵",Number(d||0).toFixed(2)]})]})]})]}),j()]})]})}function $({title:o,sales:t,amountTotal:u,amountColor:n,onPageChange:l}){const r=()=>e.jsxs("nav",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{disabled:!t.prev_page_url,onClick:()=>l(t.current_page-1),className:`rounded border px-3 py-1 ${t.prev_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Previous"}),e.jsx("span",{className:"rounded border px-3 py-1",children:t.current_page}),e.jsx("button",{disabled:!t.next_page_url,onClick:()=>l(t.current_page+1),className:`rounded border px-3 py-1 ${t.next_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Next"})]});return e.jsxs(P,{children:[e.jsx(C,{children:e.jsx(S,{children:o})}),e.jsxs(_,{children:[e.jsxs(A,{children:[e.jsx(H,{children:e.jsxs(c,{children:[e.jsx(x,{children:"Time"}),e.jsx(x,{children:"Customer"}),e.jsx(x,{children:"Products"}),e.jsx(x,{children:"Amount"})]})}),e.jsxs(G,{children:[t.data.length===0?e.jsx(c,{children:e.jsx(s,{colSpan:4,className:"text-center text-gray-500",children:"No records found"})}):t.data.map((d,g)=>e.jsxs(c,{children:[e.jsx(s,{children:d.time}),e.jsx(s,{className:"font-medium",children:d.customer}),e.jsx(s,{children:d.products}),e.jsxs(s,{className:"font-medium",children:["GH₵",Number(d.amount||0).toFixed(2)]})]},g)),e.jsxs(c,{className:n==="text-green-600"?"bg-green-50":"bg-orange-50",children:[e.jsxs(s,{colSpan:3,className:"font-bold",children:["Total ",o]}),e.jsxs(s,{className:`font-bold ${n}`,children:["GH₵",Number(u||0).toFixed(2)]})]})]})]}),r()]})]})}function p({title:o,icon:t,amount:u,subtitle:n,color:l}){return e.jsxs(P,{children:[e.jsxs(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(S,{className:"text-sm font-medium",children:o}),e.jsx(t,{className:`h-4 w-4 ${l}`})]}),e.jsxs(_,{children:[e.jsx("div",{className:`text-2xl font-bold ${l}`,children:u}),e.jsx("p",{className:"text-muted-foreground text-xs",children:n})]})]})}function Y({cash_sales:o,credit_sales:t,products_bought:u,credited_products:n,partial_products:l,summary:r,start_date:d,end_date:g}){var y,T;const j=new Date().toISOString().slice(0,10),[i,b]=v.useState(d||j),[N,F]=v.useState(g||j),k=(a,h)=>{const R=h==="start"?a:i,B=h==="end"?a:N;h==="start"&&b(a),h==="end"&&F(a),w.get(route("daily-sales-report.index"),{start_date:R,end_date:B,cash_page:1,credit_page:1,bought_page:1,credited_page:1,partial_page:1},{preserveState:!0,preserveScroll:!0,replace:!0})},m=(a,h)=>{w.get(route("daily-sales-report.index"),{start_date:i,end_date:N,[a]:h},{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsx(E,{breadcrumbs:[{title:"Daily Sales Report",href:"/daily-sales-report"}],children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Daily Sales Report"})}),e.jsx(Q,{startDate:i,endDate:N,onChange:k}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[e.jsx(p,{title:"Cash Sales",icon:q,amount:`GH₵${Number(r.cashTotal||0).toFixed(2)}`,subtitle:`${Number(((y=o==null?void 0:o.data)==null?void 0:y.length)||0)} transactions`,color:"text-green-600"}),e.jsx(p,{title:"Credit Sales",icon:D,amount:`GH₵${Number(r.creditTotal||0).toFixed(2)}`,subtitle:`${Number(((T=t==null?void 0:t.data)==null?void 0:T.length)||0)} transactions`,color:"text-orange-600"}),e.jsx(p,{title:"Grand Total",icon:I,amount:`GH₵${Number(r.grandTotal||0).toFixed(2)}`,subtitle:"Cash + Credit",color:"text-blue-600"}),e.jsx(p,{title:"Products Sold",icon:D,amount:r.totalProductsSold||"0",subtitle:"Total units",color:"text-purple-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx($,{title:"Cash Sales",sales:o,amountTotal:r.cashTotal,amountColor:"text-green-600",onPageChange:a=>m("cash_page",a)}),e.jsx($,{title:"Credit Sales",sales:t,amountTotal:r.creditTotal,amountColor:"text-orange-600",onPageChange:a=>m("credit_page",a)})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx(f,{title:"Products Bought (Cash Sales by Product)",products:u,totalQty:r.totalProductsBought,totalAmount:r.totalProductsBoughtAmount,totalAmountColor:"text-green-600",onPageChange:a=>m("bought_page",a)}),e.jsx(f,{title:"Credited Products (Credit Sales by Product)",products:n,totalQty:r.totalCreditedProducts,totalAmount:r.totalCreditedProductsAmount,totalAmountColor:"text-orange-600",onPageChange:a=>m("credited_page",a)}),e.jsx(f,{title:"Partial Products (Partial product Sales)",products:l,totalQty:r.totalPartialProducts,totalAmount:r.totalPartialProductsAmount,totalAmountColor:"text-yellow-600",showAmountPaid:!0,totalAmountPaid:r.totalPartialProductsAmountPaid,onPageChange:a=>m("partial_page",a)})]})]})})}export{Y as default};
