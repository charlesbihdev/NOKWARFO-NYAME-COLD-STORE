import{j as e,r as v,S as w}from"./app-brHZu0uL.js";import{A as E,P as D}from"./app-layout-CKpUrB7V.js";import{C as P,a as y,b as C,c as S}from"./card-C6T3PTdL.js";import{T as A,a as F,b as i,c as x,d as H,e as s}from"./table-CFgdxSK2.js";import{D as Q}from"./DateRangePicker-DpMGMGW4.js";import{D as M}from"./dollar-sign-C6btI-sr.js";import{a as I}from"./createLucideIcon-CpQhYAdm.js";import"./index-djw2ZF6k.js";import"./index-GhegcahI.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q=I("Calendar",L);function f({title:o,products:t,totalQty:u,totalAmount:n,totalAmountColor:l,showAmountPaid:a=!1,totalAmountPaid:d,onPageChange:g}){const j=()=>e.jsxs("nav",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{disabled:!t.prev_page_url,onClick:()=>g(t.current_page-1),className:`rounded border px-3 py-1 ${t.prev_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Previous"}),e.jsx("span",{className:"rounded border px-3 py-1",children:t.current_page}),e.jsx("button",{disabled:!t.next_page_url,onClick:()=>g(t.current_page+1),className:`rounded border px-3 py-1 ${t.next_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Next"})]});return e.jsxs(P,{children:[e.jsx(y,{children:e.jsx(C,{children:o})}),e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsx(F,{children:e.jsxs(i,{children:[e.jsx(x,{children:"Product"}),e.jsx(x,{children:"Quantity"}),e.jsx(x,{children:"Total Amount"}),a&&e.jsx(x,{children:"Amount Paid"})]})}),e.jsxs(H,{children:[t.data.length===0?e.jsx(i,{children:e.jsx(s,{colSpan:a?4:3,className:"text-center text-gray-500",children:"No records found"})}):t.data.map((c,b)=>e.jsxs(i,{children:[e.jsx(s,{className:"font-medium",children:c.product}),e.jsx(s,{children:c.qty}),e.jsxs(s,{className:"font-medium",children:["GH₵",parseFloat(c.total_amount).toFixed(2)]}),a&&e.jsxs(s,{className:"font-medium",children:["GH₵",parseFloat(c.amount_paid||0).toFixed(2)]})]},b)),e.jsxs(i,{className:`bg-${l==="text-green-600"?"green":l==="text-orange-600"?"orange":"yellow"}-50`,children:[e.jsx(s,{className:"font-bold",children:"Total Products"}),e.jsx(s,{className:"font-bold",children:u}),e.jsxs(s,{className:`font-bold ${l}`,children:["GH₵",n.toFixed(2)]}),a&&e.jsxs(s,{className:"font-bold text-green-600",children:["GH₵",d.toFixed(2)]})]})]})]}),j()]})]})}function $({title:o,sales:t,amountTotal:u,amountColor:n,onPageChange:l}){const a=()=>e.jsxs("nav",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{disabled:!t.prev_page_url,onClick:()=>l(t.current_page-1),className:`rounded border px-3 py-1 ${t.prev_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Previous"}),e.jsx("span",{className:"rounded border px-3 py-1",children:t.current_page}),e.jsx("button",{disabled:!t.next_page_url,onClick:()=>l(t.current_page+1),className:`rounded border px-3 py-1 ${t.next_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Next"})]});return e.jsxs(P,{children:[e.jsx(y,{children:e.jsx(C,{children:o})}),e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsx(F,{children:e.jsxs(i,{children:[e.jsx(x,{children:"Time"}),e.jsx(x,{children:"Customer"}),e.jsx(x,{children:"Products"}),e.jsx(x,{children:"Amount"})]})}),e.jsxs(H,{children:[t.data.length===0?e.jsx(i,{children:e.jsx(s,{colSpan:4,className:"text-center text-gray-500",children:"No records found"})}):t.data.map((d,g)=>e.jsxs(i,{children:[e.jsx(s,{children:d.time}),e.jsx(s,{className:"font-medium",children:d.customer}),e.jsx(s,{children:d.products}),e.jsxs(s,{className:"font-medium",children:["GH₵",parseFloat(d.amount).toFixed(2)]})]},g)),e.jsxs(i,{className:n==="text-green-600"?"bg-green-50":"bg-orange-50",children:[e.jsxs(s,{colSpan:3,className:"font-bold",children:["Total ",o]}),e.jsxs(s,{className:`font-bold ${n}`,children:["GH₵",u.toFixed(2)]})]})]})]}),a()]})]})}function m({title:o,icon:t,amount:u,subtitle:n,color:l}){return e.jsxs(P,{children:[e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:o}),e.jsx(t,{className:`h-4 w-4 ${l}`})]}),e.jsxs(S,{children:[e.jsx("div",{className:`text-2xl font-bold ${l}`,children:u}),e.jsx("p",{className:"text-muted-foreground text-xs",children:n})]})]})}function Z({cash_sales:o,credit_sales:t,products_bought:u,credited_products:n,partial_products:l,summary:a,start_date:d,end_date:g}){var _,T;const j=new Date().toISOString().slice(0,10),[c,b]=v.useState(d||j),[N,k]=v.useState(g||j),G=(r,h)=>{const R=h==="start"?r:c,B=h==="end"?r:N;h==="start"&&b(r),h==="end"&&k(r),w.get(route("daily-sales-report.index"),{start_date:R,end_date:B,cash_page:1,credit_page:1,bought_page:1,credited_page:1,partial_page:1},{preserveState:!0,preserveScroll:!0,replace:!0})},p=(r,h)=>{w.get(route("daily-sales-report.index"),{start_date:c,end_date:N,[r]:h},{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsx(E,{breadcrumbs:[{title:"Daily Sales Report",href:"/daily-sales-report"}],children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Daily Sales Report"})}),e.jsx(Q,{startDate:c,endDate:N,onChange:G}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[e.jsx(m,{title:"Cash Sales",icon:M,amount:`GH₵${Number(a.cashTotal||0).toFixed(2)}`,subtitle:`${Number(((_=o==null?void 0:o.data)==null?void 0:_.length)||0)} transactions`,color:"text-green-600"}),e.jsx(m,{title:"Credit Sales",icon:D,amount:`GH₵${Number(a.creditTotal||0).toFixed(2)}`,subtitle:`${Number(((T=t==null?void 0:t.data)==null?void 0:T.length)||0)} transactions`,color:"text-orange-600"}),e.jsx(m,{title:"Grand Total",icon:q,amount:`GH₵${Number(a.grandTotal||0).toFixed(2)}`,subtitle:"Cash + Credit",color:"text-blue-600"}),e.jsx(m,{title:"Products Sold",icon:D,amount:Number(a.totalProductsSold||0),subtitle:"Total units",color:"text-purple-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx($,{title:"Cash Sales",sales:o,amountTotal:a.cashTotal,amountColor:"text-green-600",onPageChange:r=>p("cash_page",r)}),e.jsx($,{title:"Credit Sales",sales:t,amountTotal:a.creditTotal,amountColor:"text-orange-600",onPageChange:r=>p("credit_page",r)})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx(f,{title:"Products Bought (Cash Sales by Product)",products:u,totalQty:a.totalProductsBought,totalAmount:a.totalProductsBoughtAmount,totalAmountColor:"text-green-600",onPageChange:r=>p("bought_page",r)}),e.jsx(f,{title:"Credited Products (Credit Sales by Product)",products:n,totalQty:a.totalCreditedProducts,totalAmount:a.totalCreditedProductsAmount,totalAmountColor:"text-orange-600",onPageChange:r=>p("credited_page",r)}),e.jsx(f,{title:"Partial Products (Partial product Sales)",products:l,totalQty:a.totalPartialProducts,totalAmount:a.totalPartialProductsAmount,totalAmountColor:"text-yellow-600",showAmountPaid:!0,totalAmountPaid:a.totalPartialProductsAmountPaid,onPageChange:r=>p("partial_page",r)})]})]})})}export{Z as default};
