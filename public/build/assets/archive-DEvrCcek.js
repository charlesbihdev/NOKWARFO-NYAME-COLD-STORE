import{r as f,j as e,U as M,b as J,a as b}from"./app-CJAfpu_B.js";import{c as Q,a as E,F as N}from"./createLucideIcon-Cg7ANiR-.js";import{C as T,a as C,b as y,c as A}from"./card-CqjrLppC.js";import{T as w,a as _,b as j,c as n,d as R,e as i}from"./table-GVnBoJML.js";import{c as W,a as S,P as X}from"./index-Ca9tWU42.js";import{c as D,R as Y,I as Z}from"./index-U8jmZo2A.js";import{P as v}from"./input-Dk-R2vtg.js";import{u as ee}from"./index-DLss49vn.js";import{u as se}from"./index-CzC18CvF.js";import{u as te}from"./index-Dqg2lGr_.js";import{A as re,a as ae,P as ne,U as L}from"./app-layout-BYjCDRLU.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],P=Q("RotateCcw",ie);var g="Tabs",[oe,we]=W(g,[D]),G=D(),[ce,F]=oe(g),V=f.forwardRef((t,r)=>{const{__scopeTabs:o,value:a,onValueChange:l,defaultValue:u,orientation:c="horizontal",dir:x,activationMode:s="automatic",...p}=t,h=ee(x),[d,m]=se({prop:a,onChange:l,defaultProp:u??"",caller:g});return e.jsx(ce,{scope:o,baseId:te(),value:d,onValueChange:m,orientation:c,dir:h,activationMode:s,children:e.jsx(v.div,{dir:h,"data-orientation":c,...p,ref:r})})});V.displayName=g;var H="TabsList",$=f.forwardRef((t,r)=>{const{__scopeTabs:o,loop:a=!0,...l}=t,u=F(H,o),c=G(o);return e.jsx(Y,{asChild:!0,...c,orientation:u.orientation,dir:u.dir,loop:a,children:e.jsx(v.div,{role:"tablist","aria-orientation":u.orientation,...l,ref:r})})});$.displayName=H;var B="TabsTrigger",z=f.forwardRef((t,r)=>{const{__scopeTabs:o,value:a,disabled:l=!1,...u}=t,c=F(B,o),x=G(o),s=U(c.baseId,a),p=q(c.baseId,a),h=a===c.value;return e.jsx(Z,{asChild:!0,...x,focusable:!l,active:h,children:e.jsx(v.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:s,...u,ref:r,onMouseDown:S(t.onMouseDown,d=>{!l&&d.button===0&&d.ctrlKey===!1?c.onValueChange(a):d.preventDefault()}),onKeyDown:S(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&c.onValueChange(a)}),onFocus:S(t.onFocus,()=>{const d=c.activationMode!=="manual";!h&&!l&&d&&c.onValueChange(a)})})})});z.displayName=B;var K="TabsContent",O=f.forwardRef((t,r)=>{const{__scopeTabs:o,value:a,forceMount:l,children:u,...c}=t,x=F(K,o),s=U(x.baseId,a),p=q(x.baseId,a),h=a===x.value,d=f.useRef(h);return f.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),e.jsx(X,{present:l||h,children:({present:m})=>e.jsx(v.div,{"data-state":h?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":s,hidden:!m,id:p,tabIndex:0,...c,ref:r,style:{...t.style,animationDuration:d.current?"0s":void 0},children:m&&u})})});O.displayName=K;function U(t,r){return`${t}-trigger-${r}`}function q(t,r){return`${t}-content-${r}`}var le=V,de=$,ue=z,he=O;const xe=le,me=M.forwardRef(function({className:r,...o},a){return e.jsx(de,{ref:a,className:E("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...o})}),I=M.forwardRef(function({className:r,...o},a){return e.jsx(ue,{ref:a,className:E("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...o})}),k=M.forwardRef(function({className:r,...o},a){return e.jsx(he,{ref:a,className:E("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...o})});function _e(){const{products:t=[],customers:r=[],suppliers:o=[]}=J().props,a=[{title:"Archive",href:"/archive"}];function l(s){confirm("Are you sure you want to restore this product?")&&b.patch(route("archive.restore-product",s),{},{preserveScroll:!0,preserveState:!0,only:["products","customers","suppliers","flash"]})}function u(s){confirm("Are you sure you want to restore this customer?")&&b.patch(route("archive.restore-customer",s),{},{preserveScroll:!0,preserveState:!0,only:["products","customers","suppliers","flash"]})}function c(s){confirm("Are you sure you want to restore this supplier?")&&b.patch(route("archive.restore-supplier",s),{},{preserveScroll:!0,preserveState:!0,only:["products","customers","suppliers","flash"]})}const x=t.length+r.length+o.length;return e.jsx(re,{breadcrumbs:a,children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Archive"}),e.jsx("p",{className:"text-muted-foreground",children:"View and restore archived items"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ae,{className:"h-5 w-5"}),e.jsxs("span",{children:[x," archived items"]})]})]}),e.jsxs(xe,{defaultValue:"products",className:"w-full",children:[e.jsxs(me,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[e.jsxs(I,{value:"products",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Products (",t.length,")"]}),e.jsxs(I,{value:"customers",className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Customers (",r.length,")"]}),e.jsxs(I,{value:"suppliers",className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Suppliers (",o.length,")"]})]}),e.jsx(k,{value:"products",children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsx(y,{children:"Archived Products"})}),e.jsx(A,{children:t.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No archived products"}):e.jsxs(w,{children:[e.jsx(_,{children:e.jsxs(j,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Supplier"}),e.jsx(n,{children:"Sales Count"}),e.jsx(n,{children:"Stock Movements"}),e.jsx(n,{children:"Archived Date"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(R,{children:t.map(s=>e.jsxs(j,{children:[e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.category||"N/A"}),e.jsx(i,{children:s.supplier_name||"N/A"}),e.jsx(i,{children:s.sale_items_count}),e.jsx(i,{children:s.stock_movements_count}),e.jsx(i,{children:s.updated_at}),e.jsx(i,{className:"text-right",children:e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>l(s.id),className:"text-green-600 hover:text-green-700",children:[e.jsx(P,{className:"h-4 w-4 mr-1"}),"Restore"]})})]},s.id))})]})})]})}),e.jsx(k,{value:"customers",children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsx(y,{children:"Archived Customers"})}),e.jsx(A,{children:r.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No archived customers"}):e.jsxs(w,{children:[e.jsx(_,{children:e.jsxs(j,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Phone"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Sales Count"}),e.jsx(n,{children:"Outstanding Balance"}),e.jsx(n,{children:"Archived Date"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(R,{children:r.map(s=>e.jsxs(j,{children:[e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.phone||"N/A"}),e.jsx(i,{children:s.email||"N/A"}),e.jsx(i,{children:s.sales_count}),e.jsx(i,{children:s.outstanding_balance>0?e.jsxs("span",{className:"text-red-600 font-medium",children:["GHC ",s.outstanding_balance.toLocaleString()]}):"GHC 0"}),e.jsx(i,{children:s.updated_at}),e.jsx(i,{className:"text-right",children:e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>u(s.id),className:"text-green-600 hover:text-green-700",children:[e.jsx(P,{className:"h-4 w-4 mr-1"}),"Restore"]})})]},s.id))})]})})]})}),e.jsx(k,{value:"suppliers",children:e.jsxs(T,{children:[e.jsx(C,{children:e.jsx(y,{children:"Archived Suppliers"})}),e.jsx(A,{children:o.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No archived suppliers"}):e.jsxs(w,{children:[e.jsx(_,{children:e.jsxs(j,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Contact Person"}),e.jsx(n,{children:"Phone"}),e.jsx(n,{children:"Transactions"}),e.jsx(n,{children:"Payments"}),e.jsx(n,{children:"Outstanding"}),e.jsx(n,{children:"Archived Date"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(R,{children:o.map(s=>e.jsxs(j,{children:[e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.contact_person||"N/A"}),e.jsx(i,{children:s.phone||"N/A"}),e.jsx(i,{children:s.transactions_count}),e.jsx(i,{children:s.payments_count}),e.jsx(i,{children:s.total_outstanding>0?e.jsxs("span",{className:"text-red-600 font-medium",children:["GHC ",s.total_outstanding.toLocaleString()]}):"GHC 0"}),e.jsx(i,{children:s.updated_at}),e.jsx(i,{className:"text-right",children:e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>c(s.id),className:"text-green-600 hover:text-green-700",children:[e.jsx(P,{className:"h-4 w-4 mr-1"}),"Restore"]})})]},s.id))})]})})]})})]})]})})}export{_e as default};
