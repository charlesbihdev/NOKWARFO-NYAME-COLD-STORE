import{r as v,m as U,j as e,S as R}from"./app-COqzPMy5.js";import{I as t}from"./InputError-Df0Lv_bR.js";import{B as G}from"./badge-ADVJ_YW3.js";import{F as o}from"./createLucideIcon-LT4MX-cb.js";import{C as J,a as K,b as Q,c as W}from"./card-CCQmDvCK.js";import{D as A,a as X,b as T,c as w,d as F,e as E}from"./dialog-pKinHHCf.js";import{I as d}from"./index-nK48AnY7.js";import{L as l}from"./label-CDCc0DoC.js";import{S as m,a as h,b as p,c as x,d as u}from"./select-DsM65Jjs.js";import{T as Y,a as Z,b as N,c as n,d as $,e as c}from"./table-DG3t_xGd.js";import{A as ee,P as se}from"./app-layout-DD-HAQPh.js";import{P as re}from"./plus-BsepSxuj.js";import{S as ae}from"./square-pen-Ce5JSSmi.js";import{T as ie}from"./trash-2-CEOZH8Mz.js";import"./index-BEdK_Top.js";import"./index-oranzmmW.js";import"./index-Bh9O1xrs.js";function Se({products:f=[],suppliers:y=[],errors:te={}}){var C,P;const[q,g]=v.useState(!1),[I,j]=v.useState(!1),[k,_]=v.useState(null),{data:i,setData:a,post:B,put:L,processing:S,reset:b,errors:r}=U({name:"",description:"",category:"",supplier_id:"",lines_per_carton:1}),O=[{title:"Products",href:"/products"}];function M(s){s.preventDefault(),B(route("products.store"),{onSuccess:()=>{b(),g(!1)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function V(s){_(s),a({name:s.name,description:s.description||"",category:s.category,supplier_id:s.supplier_id?s.supplier_id.toString():"",lines_per_carton:s.lines_per_carton}),j(!0)}function z(s){s.preventDefault(),L(route("products.update",k.id),{onSuccess:()=>{b(),j(!1),_(null)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function H(s){confirm("Are you sure you want to delete this product?")&&R.delete(route("products.destroy",s),{preserveScroll:!0,preserveState:!0,only:["products","flash"]})}return e.jsx(ee,{breadcrumbs:O,children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"mb-4 rounded border border-blue-200 bg-blue-50 p-4 text-blue-900",children:[e.jsx("strong",{children:"Note:"})," This page is for managing your ",e.jsx("b",{children:"product catalog"})," only.",e.jsx("br",{}),e.jsxs("ul",{className:"mt-2 list-disc pl-6",children:[e.jsx("li",{children:"Add, edit, or remove product details (name, price, supplier, etc.) here."}),e.jsx("li",{children:e.jsxs("b",{children:["All stock changes (add, remove, adjust) are done in ",e.jsx("u",{children:"Inventory Management"}),", not here."]})}),e.jsx("li",{children:"Think of this as your “master list” of what you could possibly have in your store."})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Products"}),e.jsxs(A,{open:q,onOpenChange:g,children:[e.jsx(X,{asChild:!0,children:e.jsxs(o,{onClick:()=>g(!0),children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),e.jsxs(T,{className:"max-w-2xl",children:[e.jsxs(w,{children:[e.jsx(F,{children:"Add New Product"}),e.jsx(E,{children:"Enter the product details. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:M,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(d,{id:"name",placeholder:"Enter product name",value:i.name,onChange:s=>a("name",s.target.value),required:!0}),r.name&&e.jsx(t,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(m,{value:(C=i.lines_per_carton)==null?void 0:C.toString(),onValueChange:s=>a("lines_per_carton",s),required:!0,children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select lines per carton"})}),e.jsx(x,{children:[1,2,3,4,5].map(s=>e.jsx(u,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(t,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(d,{id:"description",placeholder:"Product description",value:i.description,onChange:s=>a("description",s.target.value)}),r.description&&e.jsx(t,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(d,{id:"category",placeholder:"e.g., Frozen, Chilled, Beverages",value:i.category,onChange:s=>a("category",s.target.value),required:!0}),r.category&&e.jsx(t,{message:r.category,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"supplier",className:"text-right",children:"Supplier *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(m,{value:i.supplier_id,onValueChange:s=>a("supplier_id",s),required:!0,children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select supplier"})}),e.jsx(x,{children:y.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),r.supplier_id&&e.jsx(t,{message:r.supplier_id,className:"mt-2"})]})]}),e.jsx(o,{type:"submit",disabled:S,children:"Add Product"})]})]})]})]}),e.jsx(A,{open:I,onOpenChange:j,children:e.jsxs(T,{className:"max-w-2xl",children:[e.jsxs(w,{children:[e.jsx(F,{children:"Edit Product"}),e.jsx(E,{children:"Update the product information. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:z,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(d,{id:"edit-name",placeholder:"Enter product name",value:i.name,onChange:s=>a("name",s.target.value),required:!0}),r.name&&e.jsx(t,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(m,{value:(P=i.lines_per_carton)==null?void 0:P.toString(),onValueChange:s=>a("lines_per_carton",s),required:!0,children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select lines per carton"})}),e.jsx(x,{children:[1,2,3,4,5].map(s=>e.jsx(u,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(t,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(d,{id:"edit-description",placeholder:"Product description",value:i.description,onChange:s=>a("description",s.target.value)}),r.description&&e.jsx(t,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(d,{id:"edit-category",placeholder:"e.g., Frozen, Chilled, Beverages",value:i.category,onChange:s=>a("category",s.target.value),required:!0}),r.category&&e.jsx(t,{message:r.category,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-supplier",className:"text-right",children:"Supplier *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(m,{value:i.supplier_id,onValueChange:s=>a("supplier_id",s),required:!0,children:[e.jsx(h,{children:e.jsx(p,{placeholder:"Select supplier"})}),e.jsx(x,{children:y.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),r.supplier_id&&e.jsx(t,{message:r.supplier_id,className:"mt-2"})]})]}),e.jsx(o,{type:"submit",disabled:S,children:"Update Product"})]})]})}),e.jsxs(J,{children:[e.jsx(K,{children:e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Product Directory"]})}),e.jsx(W,{children:e.jsxs(Y,{children:[e.jsx(Z,{children:e.jsxs(N,{children:[e.jsx(n,{children:"Product Name"}),e.jsx(n,{children:"Lines per Carton"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Supplier"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Actions"})]})}),e.jsxs($,{children:[f.map(s=>{var D;return e.jsxs(N,{children:[e.jsx(c,{className:"font-medium",children:s.name}),e.jsx(c,{children:s.lines_per_carton}),e.jsx(c,{children:s.category}),e.jsx(c,{children:((D=s.supplier)==null?void 0:D.name)||"N/A"}),e.jsx(c,{children:e.jsx(G,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx(c,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>V(s),children:e.jsx(ae,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>H(s.id),children:e.jsx(ie,{className:"h-4 w-4"})})]})})]},s.id)}),f.length===0&&e.jsx(N,{children:e.jsx(c,{colSpan:5,className:"text-muted-foreground py-8 text-center",children:"No products found. Add your first product to get started."})})]})]})})]})]})})}export{Se as default};
