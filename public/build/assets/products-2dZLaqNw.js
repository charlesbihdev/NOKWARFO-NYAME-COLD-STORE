import{r as h,u as z,j as e,a as U}from"./app-BnH38fZV.js";import{I as i}from"./InputError-CeJnxIMn.js";import{B as V}from"./badge-C9xz2nTi.js";import{F as d}from"./createLucideIcon-BtnL1mUF.js";import{C as R,a as G,b as $,c as J}from"./card-CpmHGbsc.js";import{D as f,a as K,b as y,c as C,d as b,e as P}from"./dialog-Dq9d3o5K.js";import{I as l}from"./input-Cog3RW_M.js";import{L as c}from"./label-AhG-VvZ5.js";import{S,a as D,b as F,c as T,d as A}from"./select-BsAlRgDI.js";import{T as Q,a as W,b as x,c as o,d as X,e as n}from"./table-DbdgEq6_.js";import{A as Y,P as Z}from"./app-layout-CGJfXk6C.js";import{P as ee}from"./plus-B_i5jZEa.js";import{S as se}from"./square-pen-D4M5yto8.js";import{T as re}from"./trash-2-DZTaycrW.js";import"./index-B6yMYTsw.js";import"./index-B1pbROxw.js";import"./index-DEWqjkgW.js";function ye({products:u=[],suppliers:te=[],errors:ae={}}){var N,v;const[w,p]=h.useState(!1),[E,m]=h.useState(!1),[q,g]=h.useState(null),{data:a,setData:t,post:I,put:k,processing:j,reset:_,errors:r}=z({name:"",description:"",category:"",supplier_id:"",lines_per_carton:1,cost_price_per_carton:""}),B=[{title:"Products",href:"/products"}];function L(s){s.preventDefault(),I(route("products.store"),{onSuccess:()=>{_(),p(!1)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function O(s){g(s),t({name:s.name,description:s.description||"",category:s.category,supplier_id:s.supplier_id?s.supplier_id.toString():"",lines_per_carton:s.lines_per_carton,cost_price_per_carton:s.cost_price_per_carton||""}),m(!0)}function H(s){s.preventDefault(),k(route("products.update",q.id),{onSuccess:()=>{_(),m(!1),g(null)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function M(s){confirm("Are you sure you want to delete this product?")&&U.delete(route("products.destroy",s),{preserveScroll:!0,preserveState:!0,only:["products","flash"]})}return e.jsx(Y,{breadcrumbs:B,children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"mb-4 rounded border border-blue-200 bg-blue-50 p-4 text-blue-900",children:[e.jsx("strong",{children:"Note:"})," This page is for managing your ",e.jsx("b",{children:"product catalog"})," only.",e.jsx("br",{}),e.jsxs("ul",{className:"mt-2 list-disc pl-6",children:[e.jsx("li",{children:"Add, edit, or remove product details (name, price, supplier, etc.) here."}),e.jsx("li",{children:e.jsxs("b",{children:["All stock changes (add, remove, adjust) are done in ",e.jsx("u",{children:"Inventory Management"}),", not here."]})}),e.jsx("li",{children:"Think of this as your “master list” of what you could possibly have in your store."})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Products"}),e.jsxs(f,{open:w,onOpenChange:p,children:[e.jsx(K,{asChild:!0,children:e.jsxs(d,{onClick:()=>p(!0),children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),e.jsxs(y,{className:"max-w-2xl",children:[e.jsxs(C,{children:[e.jsx(b,{children:"Add New Product"}),e.jsx(P,{children:"Enter the product details. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:L,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"name",placeholder:"Enter product name",value:a.name,onChange:s=>t("name",s.target.value),required:!0}),r.name&&e.jsx(i,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(S,{value:(N=a.lines_per_carton)==null?void 0:N.toString(),onValueChange:s=>t("lines_per_carton",s),required:!0,children:[e.jsx(D,{children:e.jsx(F,{placeholder:"Select lines per carton"})}),e.jsx(T,{children:[1,2,3,4,5].map(s=>e.jsx(A,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(i,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"cost_price_per_carton",className:"text-right",children:"Cost Price/Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"cost_price_per_carton",type:"number",step:"0.01",min:"0",placeholder:"e.g., 120.00",value:a.cost_price_per_carton,onChange:s=>t("cost_price_per_carton",s.target.value),required:!0}),e.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:"The cost price you pay per carton from the supplier"}),r.cost_price_per_carton&&e.jsx(i,{message:r.cost_price_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"description",placeholder:"Product description",value:a.description,onChange:s=>t("description",s.target.value)}),r.description&&e.jsx(i,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"category",placeholder:"e.g., Frozen, Chilled, Beverages",value:a.category,onChange:s=>t("category",s.target.value),required:!0}),r.category&&e.jsx(i,{message:r.category,className:"mt-2"})]})]}),e.jsx(d,{type:"submit",disabled:j,children:"Add Product"})]})]})]})]}),e.jsx(f,{open:E,onOpenChange:m,children:e.jsxs(y,{className:"max-w-2xl",children:[e.jsxs(C,{children:[e.jsx(b,{children:"Edit Product"}),e.jsx(P,{children:"Update the product information. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:H,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"edit-name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"edit-name",placeholder:"Enter product name",value:a.name,onChange:s=>t("name",s.target.value),required:!0}),r.name&&e.jsx(i,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(S,{value:(v=a.lines_per_carton)==null?void 0:v.toString(),onValueChange:s=>t("lines_per_carton",s),required:!0,children:[e.jsx(D,{children:e.jsx(F,{placeholder:"Select lines per carton"})}),e.jsx(T,{children:[1,2,3,4,5].map(s=>e.jsx(A,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(i,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"edit-cost_price_per_carton",className:"text-right",children:"Cost Price/Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"edit-cost_price_per_carton",type:"number",step:"0.01",min:"0",placeholder:"e.g., 120.00",value:a.cost_price_per_carton,onChange:s=>t("cost_price_per_carton",s.target.value),required:!0}),e.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:"The cost price you pay per carton from the supplier"}),r.cost_price_per_carton&&e.jsx(i,{message:r.cost_price_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"edit-description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"edit-description",placeholder:"Product description",value:a.description,onChange:s=>t("description",s.target.value)}),r.description&&e.jsx(i,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(c,{htmlFor:"edit-category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(l,{id:"edit-category",placeholder:"e.g., Frozen, Chilled, Beverages",value:a.category,onChange:s=>t("category",s.target.value),required:!0}),r.category&&e.jsx(i,{message:r.category,className:"mt-2"})]})]}),e.jsx(d,{type:"submit",disabled:j,children:"Update Product"})]})]})}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Product Directory"]})}),e.jsx(J,{children:e.jsxs(Q,{children:[e.jsx(W,{children:e.jsxs(x,{children:[e.jsx(o,{children:"Product Name"}),e.jsx(o,{children:"Lines per Carton"}),e.jsx(o,{children:"Cost Price/Carton"}),e.jsx(o,{children:"Category"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Actions"})]})}),e.jsxs(X,{children:[u.map(s=>e.jsxs(x,{children:[e.jsx(n,{className:"font-medium",children:s.name}),e.jsx(n,{children:s.lines_per_carton}),e.jsx(n,{className:s.cost_price_per_carton?"":"text-orange-600",children:s.cost_price_per_carton?`GH₵${parseFloat(s.cost_price_per_carton).toFixed(2)}`:"Not set"}),e.jsx(n,{children:s.category}),e.jsx(n,{children:e.jsx(V,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx(n,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>O(s),children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>M(s.id),children:e.jsx(re,{className:"h-4 w-4"})})]})})]},s.id)),u.length===0&&e.jsx(x,{children:e.jsx(n,{colSpan:6,className:"text-muted-foreground py-8 text-center",children:"No products found. Add your first product to get started."})})]})]})})]})]})})}export{ye as default};
