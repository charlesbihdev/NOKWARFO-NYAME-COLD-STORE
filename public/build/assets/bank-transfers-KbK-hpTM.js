import{j as e,r as c,u as ve,b as Ot,L as Ae,a as je}from"./app-B_kQv4aY.js";import{B as Lt,u as _e,c as Ue,R as Gt,a as Bt,D as Kt,C as Ut,b as $t,A as Ht}from"./app-layout-DX9L-Y6w.js";import{D as zt}from"./DateRangePicker-CGlYI1Su.js";import{c as $e,a as U,F as M,u as X,b as Vt,d as He}from"./createLucideIcon-C5ljYmur.js";import{R as Yt,T as Wt,C as Xt,g as qt,X as be,h as Zt,i as Jt,P as Qt,O as en,D as ze,a as tn,b as Ve,c as Ye,d as We,u as we,j as nn,k as rn,l as on,m as sn,F as an}from"./dialog-BZc2kcxj.js";import{I as O,P as L,d as cn}from"./input-B2iTHLCI.js";import{L as A}from"./label-C5hnfgCk.js";import{S as ln,a as dn,b as un,c as mn,d as xn,e as Xe,u as qe}from"./select-KCUHeRM7.js";import{C as pn,a as fn,b as hn,c as gn}from"./card-e5Aik1wQ.js";import{T as vn,a as jn,b as he,c as P,d as bn,e as T}from"./table-CBhLVvf8.js";import{T as Ze}from"./trash-2-DFISG06M.js";import{B as wn}from"./badge-BdBs-Ef2.js";import{c as Ce,a as j,P as le}from"./index-CFl9bjSW.js";import{u as Je}from"./index-BTwFlrjG.js";import{A as yn,a as Nn,b as _n,c as Cn,d as Mn,e as Sn,f as Dn,g as Rn}from"./alert-dialog-Djvx6Nln.js";import{C as Oe}from"./index-Wmt4qxeA.js";import{P as Le}from"./plus-Du6TEDmk.js";import{P as In}from"./pencil-RhmXKTmd.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],En=$e("Ellipsis",Tn);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ge=$e("Tag",kn);function Pn({...t}){return e.jsx(Yt,{"data-slot":"sheet",...t})}function Fn({...t}){return e.jsx(Wt,{"data-slot":"sheet-trigger",...t})}function An({...t}){return e.jsx(Qt,{"data-slot":"sheet-portal",...t})}function On({className:t,...n}){return e.jsx(en,{"data-slot":"sheet-overlay",className:U("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...n})}function Ln({className:t,children:n,side:r="right",...o}){return e.jsxs(An,{children:[e.jsx(On,{}),e.jsxs(Xt,{"data-slot":"sheet-content",className:U("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...o,children:[n,e.jsxs(qt,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(be,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Gn({className:t,...n}){return e.jsx("div",{"data-slot":"sheet-header",className:U("flex flex-col gap-1.5 p-4",t),...n})}function Bn({className:t,...n}){return e.jsx(Zt,{"data-slot":"sheet-title",className:U("text-foreground font-semibold",t),...n})}function Kn({className:t,...n}){return e.jsx(Jt,{"data-slot":"sheet-description",className:U("text-muted-foreground text-sm",t),...n})}function Un({statistics:t,startDate:n,endDate:r}){const[o,s]=c.useState(!1);if(!t)return null;const a=l=>{const u=new Date().toISOString().split("T")[0];return l===u},m=()=>n===r?a(n)?"Today":new Date(n).toLocaleDateString():`${new Date(n).toLocaleDateString()} - ${new Date(r).toLocaleDateString()}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-4 text-lg font-semibold text-gray-700",children:["Period Summary (",m(),")"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-green-100",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Money IN"}),e.jsxs("p",{className:"text-base font-semibold text-green-600",children:["GH₵",parseFloat(t.total_credit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Credit/Deposits"})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-red-100",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Money OUT"}),e.jsxs("p",{className:"text-base font-semibold text-red-600",children:["GH₵",parseFloat(t.total_debit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Debit/Expenses"})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-md ${parseFloat(t.net_flow)>=0?"bg-green-100":"bg-orange-100"}`,children:e.jsx("svg",{className:`h-6 w-6 ${parseFloat(t.net_flow)>=0?"text-green-600":"text-orange-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Net Flow"}),e.jsxs("p",{className:`text-base font-semibold ${parseFloat(t.net_flow)>=0?"text-green-600":"text-orange-600"}`,children:[parseFloat(t.net_flow)>=0?"+":"","GH₵",Math.abs(parseFloat(t.net_flow)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400",children:parseFloat(t.net_flow)>=0?"Profit":"Loss"})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-blue-100",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Today's Activity"}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsxs("span",{className:"text-xs font-semibold text-green-600",children:["+GH₵",parseFloat(t.today_credit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("span",{className:"text-xs font-semibold text-red-600",children:["-GH₵",parseFloat(t.today_debit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.today_count," transaction",t.today_count!==1?"s":""," today"]})]})]})})]})]}),t.tag_breakdown&&t.tag_breakdown.length>0&&e.jsxs("div",{className:"rounded-lg bg-white shadow",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Where is Your Money Going?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Detailed breakdown of transactions by category"})]}),e.jsx("button",{onClick:()=>s(!o),className:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-all hover:bg-gray-50 hover:border-gray-400",children:o?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Hide Details"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Show Details"]})})]}),o&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Money IN"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Money OUT"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Transactions"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Net Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.tag_breakdown.map((l,u)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 flex-shrink-0",children:e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-blue-600",children:e.jsx("span",{className:"text-sm font-bold text-white",children:l.tag_name.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.tag_name})})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap text-right text-green-600",children:["+GH₵",parseFloat(l.total_credit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap text-right text-red-600",children:["-GH₵",parseFloat(l.total_debit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap text-center",children:e.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:[l.transaction_count," txn",l.transaction_count>1?"s":""]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap text-right",children:e.jsxs("span",{className:`font-semibold ${parseFloat(l.net_amount)>=0?"text-green-600":"text-orange-600"}`,children:[parseFloat(l.net_amount)>=0?"+":"","GH₵",Math.abs(parseFloat(l.net_amount)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},u))})]})})]})]})}function $n({tags:t,lastBalance:n,isOpen:r,setIsOpen:o}){const{data:s,setData:a,post:m,processing:l,errors:u,reset:x}=ve({date:new Date().toISOString().split("T")[0],previous_balance:n.toString(),credit:"0",total_balance:n.toString(),debit:"0",tag_id:"",current_balance:n.toString(),notes:""});c.useEffect(()=>{a(i=>({...i,previous_balance:n.toString(),total_balance:n.toString(),current_balance:n.toString()}))},[n]),c.useEffect(()=>{const i=parseFloat(s.previous_balance)||0,f=parseFloat(s.credit)||0,v=parseFloat(s.debit)||0,g=i+f,y=g-v;a(p=>({...p,total_balance:g.toFixed(2),current_balance:y.toFixed(2)}))},[s.previous_balance,s.credit,s.debit]);function d(i){i.preventDefault(),m(route("bank-transfers.store"),{preserveScroll:!0,preserveState:!0,only:["bank_transfers","last_balance","statistics","errors","flash"],onSuccess:()=>{x(),o(!1)}})}return e.jsxs(ze,{open:r,onOpenChange:o,children:[e.jsx(tn,{asChild:!0,children:e.jsx(M,{children:"Record Transfer"})}),e.jsxs(Ve,{className:"max-h-[96vh] max-w-2xl overflow-y-auto",children:[e.jsx(Ye,{children:e.jsx(We,{children:"Record Bank Transfer"})}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"date",children:"Date"}),e.jsx(O,{id:"date",type:"date",value:s.date,onChange:i=>a("date",i.target.value)}),u.date&&e.jsx("div",{className:"text-sm text-red-500",children:u.date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"previous_balance",children:"Previous Balance"}),e.jsx(O,{id:"previous_balance",type:"number",step:"0.01",value:s.previous_balance,onChange:i=>a("previous_balance",i.target.value)}),u.previous_balance&&e.jsx("div",{className:"text-sm text-red-500",children:u.previous_balance})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"credit",children:"Credit Amount"}),e.jsx(O,{id:"credit",type:"number",step:"0.01",value:s.credit,onChange:i=>a("credit",i.target.value)}),u.credit&&e.jsx("div",{className:"text-sm text-red-500",children:u.credit})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"total_balance",children:"Total Balance"}),e.jsx(O,{id:"total_balance",type:"number",step:"0.01",value:s.total_balance,readOnly:!0,className:"cursor-not-allowed bg-gray-200"}),u.total_balance&&e.jsx("div",{className:"text-sm text-red-500",children:u.total_balance})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"debit",children:"Debit Amount"}),e.jsx(O,{id:"debit",type:"number",step:"0.01",value:s.debit,onChange:i=>a("debit",i.target.value)}),u.debit&&e.jsx("div",{className:"text-sm text-red-500",children:u.debit})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"tag",children:"Tag"}),e.jsxs(ln,{value:s.tag_id,onValueChange:i=>a("tag_id",i),children:[e.jsx(dn,{children:e.jsx(un,{placeholder:"Select a tag"})}),e.jsx(mn,{children:t.map(i=>e.jsx(xn,{value:i.id.toString(),children:i.name},i.id))})]}),u.tag_id&&e.jsx("div",{className:"text-sm text-red-500",children:u.tag_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{htmlFor:"current_balance",children:"Current Balance"}),e.jsx(O,{id:"current_balance",type:"number",step:"0.01",value:s.current_balance,readOnly:!0,className:"cursor-not-allowed bg-gray-200"}),u.current_balance&&e.jsx("div",{className:"text-sm text-red-500",children:u.current_balance})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(A,{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",className:"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring min-h-[60px] w-full rounded-md border px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",value:s.notes,onChange:i=>a("notes",i.target.value),placeholder:"Enter any additional notes...",rows:2}),u.notes&&e.jsx("div",{className:"text-sm text-red-500",children:u.notes})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(M,{type:"submit",disabled:l,children:l?"Recording...":"Record Transfer"})]})]})]})]})}function Hn({bankTransfers:t,onDeleteClick:n}){const{start_date:r,end_date:o}=Ot().props,s=a=>{if(!a)return"#";const m=new URL(a);return m.searchParams.set("start_date",r||""),m.searchParams.set("end_date",o||""),m.toString()};return e.jsxs(pn,{children:[e.jsx(fn,{children:e.jsxs(hn,{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-5 w-5"}),"Bank Transfer Ledger"]})}),e.jsxs(gn,{children:[e.jsxs(vn,{children:[e.jsx(jn,{children:e.jsxs(he,{children:[e.jsx(P,{children:"Date"}),e.jsx(P,{children:"Previous Balance"}),e.jsx(P,{children:"Credit"}),e.jsx(P,{children:"Total Balance"}),e.jsx(P,{children:"Debit"}),e.jsx(P,{children:"Tag"}),e.jsx(P,{children:"Current Balance"}),e.jsx(P,{children:"Notes"}),e.jsx(P,{children:"Actions"})]})}),e.jsx(bn,{children:t.data.length>0?t.data.map(a=>e.jsxs(he,{children:[e.jsx(T,{children:a.date}),e.jsxs(T,{children:["GH₵",a.previous_balance||0]}),e.jsxs(T,{className:"text-green-600",children:["GH₵",a.credit||0]}),e.jsxs(T,{children:["GH₵",a.total_balance||0]}),e.jsxs(T,{className:"text-red-600",children:["GH₵",a.debit||0]}),e.jsx(T,{children:a.tag?a.tag.name:"No tag"}),e.jsxs(T,{className:"font-medium",children:["GH₵",a.current_balance||0]}),e.jsx(T,{className:"max-w-[200px]",children:e.jsx("span",{className:"truncate",children:a.notes||"-"})}),e.jsx(T,{className:"max-w-[200px]",children:e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>n(a.id),className:"h-8 w-8 bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700",children:e.jsx(Ze,{className:"h-4 w-4"})})})]},a.id)):e.jsx(he,{children:e.jsx(T,{colSpan:9,className:"text-muted-foreground text-center",children:"No bank transfers recorded for the selected date range"})})})]}),e.jsxs("div",{className:"my-3 flex items-center justify-center gap-4",children:[t.prev_page_url&&e.jsx(Ae,{preserveScroll:!0,preserveState:!0,href:s(t.prev_page_url),className:"rounded border px-4 py-2 hover:bg-gray-100",children:"« Previous"}),e.jsxs("span",{className:"px-4 py-2 font-medium",children:["Page ",t.current_page]}),t.next_page_url&&e.jsx(Ae,{preserveScroll:!0,preserveState:!0,href:s(t.next_page_url),className:"rounded border px-4 py-2 hover:bg-gray-100",children:"Next »"})]})]})]})}function zn({isOpen:t,onClose:n,onConfirm:r}){return e.jsx(ze,{open:t,onOpenChange:o=>!o&&n(),children:e.jsxs(Ve,{children:[e.jsx(Ye,{children:e.jsx(We,{children:"Delete Bank Transfer"})}),e.jsx("div",{className:"py-4",children:e.jsx("p",{children:"Are you sure you want to delete this bank transfer record? This action cannot be undone."})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(M,{variant:"outline",onClick:n,children:"Cancel"}),e.jsx(M,{className:"text-white",variant:"destructive",onClick:r,children:"Delete"})]})]})})}var ge="rovingFocusGroup.onEntryFocus",Vn={bubbles:!1,cancelable:!0},ne="RovingFocusGroup",[ye,Qe,Yn]=Xe(ne),[Wn,et]=Ce(ne,[Yn]),[Xn,qn]=Wn(ne),tt=c.forwardRef((t,n)=>e.jsx(ye.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ye.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Zn,{...t,ref:n})})}));tt.displayName=ne;var Zn=c.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:a,currentTabStopId:m,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:x,preventScrollOnEntryFocus:d=!1,...i}=t,f=c.useRef(null),v=X(n,f),g=qe(a),[y,p]=Je({prop:m,defaultProp:l??null,onChange:u,caller:ne}),[b,R]=c.useState(!1),w=_e(x),N=Qe(r),G=c.useRef(!1),[z,B]=c.useState(0);return c.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(ge,w),()=>_.removeEventListener(ge,w)},[w]),e.jsx(Xn,{scope:r,orientation:o,dir:g,loop:s,currentTabStopId:y,onItemFocus:c.useCallback(_=>p(_),[p]),onItemShiftTab:c.useCallback(()=>R(!0),[]),onFocusableItemAdd:c.useCallback(()=>B(_=>_+1),[]),onFocusableItemRemove:c.useCallback(()=>B(_=>_-1),[]),children:e.jsx(L.div,{tabIndex:b||z===0?-1:0,"data-orientation":o,...i,ref:v,style:{outline:"none",...t.style},onMouseDown:j(t.onMouseDown,()=>{G.current=!0}),onFocus:j(t.onFocus,_=>{const V=!G.current;if(_.target===_.currentTarget&&V&&!b){const K=new CustomEvent(ge,Vn);if(_.currentTarget.dispatchEvent(K),!K.defaultPrevented){const q=N().filter(E=>E.focusable),Z=q.find(E=>E.active),se=q.find(E=>E.id===y),xe=[Z,se,...q].filter(Boolean).map(E=>E.ref.current);ot(xe,d)}}G.current=!1}),onBlur:j(t.onBlur,()=>R(!1))})})}),nt="RovingFocusGroupItem",rt=c.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:a,children:m,...l}=t,u=we(),x=a||u,d=qn(nt,r),i=d.currentTabStopId===x,f=Qe(r),{onFocusableItemAdd:v,onFocusableItemRemove:g,currentTabStopId:y}=d;return c.useEffect(()=>{if(o)return v(),()=>g()},[o,v,g]),e.jsx(ye.ItemSlot,{scope:r,id:x,focusable:o,active:s,children:e.jsx(L.span,{tabIndex:i?0:-1,"data-orientation":d.orientation,...l,ref:n,onMouseDown:j(t.onMouseDown,p=>{o?d.onItemFocus(x):p.preventDefault()}),onFocus:j(t.onFocus,()=>d.onItemFocus(x)),onKeyDown:j(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const b=er(p,d.orientation,d.dir);if(b!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=f().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const N=w.indexOf(p.currentTarget);w=d.loop?tr(w,N+1):w.slice(N+1)}setTimeout(()=>ot(w))}}),children:typeof m=="function"?m({isCurrentTabStop:i,hasTabStop:y!=null}):m})})});rt.displayName=nt;var Jn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qn(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function er(t,n,r){const o=Qn(t.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Jn[o]}function ot(t,n=!1){const r=document.activeElement;for(const o of t)if(o===r||(o.focus({preventScroll:n}),document.activeElement!==r))return}function tr(t,n){return t.map((r,o)=>t[(n+o)%t.length])}var nr=tt,rr=rt,Ne=["Enter"," "],or=["ArrowDown","PageUp","Home"],st=["ArrowUp","PageDown","End"],sr=[...or,...st],ar={ltr:[...Ne,"ArrowRight"],rtl:[...Ne,"ArrowLeft"]},cr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},re="Menu",[ee,ir,lr]=Xe(re),[$,at]=Ce(re,[lr,Ue,et]),de=Ue(),ct=et(),[dr,H]=$(re),[ur,oe]=$(re),it=t=>{const{__scopeMenu:n,open:r=!1,children:o,dir:s,onOpenChange:a,modal:m=!0}=t,l=de(n),[u,x]=c.useState(null),d=c.useRef(!1),i=_e(a),f=qe(s);return c.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(Gt,{...l,children:e.jsx(dr,{scope:n,open:r,onOpenChange:i,content:u,onContentChange:x,children:e.jsx(ur,{scope:n,onClose:c.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:d,dir:f,modal:m,children:o})})})};it.displayName=re;var mr="MenuAnchor",Me=c.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t,s=de(r);return e.jsx(Bt,{...s,...o,ref:n})});Me.displayName=mr;var Se="MenuPortal",[xr,lt]=$(Se,{forceMount:void 0}),dt=t=>{const{__scopeMenu:n,forceMount:r,children:o,container:s}=t,a=H(Se,n);return e.jsx(xr,{scope:n,forceMount:r,children:e.jsx(le,{present:r||a.open,children:e.jsx(nn,{asChild:!0,container:s,children:o})})})};dt.displayName=Se;var D="MenuContent",[pr,De]=$(D),ut=c.forwardRef((t,n)=>{const r=lt(D,t.__scopeMenu),{forceMount:o=r.forceMount,...s}=t,a=H(D,t.__scopeMenu),m=oe(D,t.__scopeMenu);return e.jsx(ee.Provider,{scope:t.__scopeMenu,children:e.jsx(le,{present:o||a.open,children:e.jsx(ee.Slot,{scope:t.__scopeMenu,children:m.modal?e.jsx(fr,{...s,ref:n}):e.jsx(hr,{...s,ref:n})})})})}),fr=c.forwardRef((t,n)=>{const r=H(D,t.__scopeMenu),o=c.useRef(null),s=X(n,o);return c.useEffect(()=>{const a=o.current;if(a)return rn(a)},[]),e.jsx(Re,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:j(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),hr=c.forwardRef((t,n)=>{const r=H(D,t.__scopeMenu);return e.jsx(Re,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),gr=Vt("MenuContent.ScrollLock"),Re=c.forwardRef((t,n)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:m,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:x,onPointerDownOutside:d,onFocusOutside:i,onInteractOutside:f,onDismiss:v,disableOutsideScroll:g,...y}=t,p=H(D,r),b=oe(D,r),R=de(r),w=ct(r),N=ir(r),[G,z]=c.useState(null),B=c.useRef(null),_=X(n,B,p.onContentChange),V=c.useRef(0),K=c.useRef(""),q=c.useRef(0),Z=c.useRef(null),se=c.useRef("right"),ae=c.useRef(0),xe=g?sn:c.Fragment,E=g?{as:gr,allowPinchZoom:!0}:void 0,At=h=>{var W,Pe;const S=K.current+h,I=N().filter(k=>!k.disabled),F=document.activeElement,pe=(W=I.find(k=>k.ref.current===F))==null?void 0:W.textValue,fe=I.map(k=>k.textValue),ke=Rr(fe,S,pe),J=(Pe=I.find(k=>k.textValue===ke))==null?void 0:Pe.ref.current;(function k(Fe){K.current=Fe,window.clearTimeout(V.current),Fe!==""&&(V.current=window.setTimeout(()=>k(""),1e3))})(S),J&&setTimeout(()=>J.focus())};c.useEffect(()=>()=>window.clearTimeout(V.current),[]),on();const Y=c.useCallback(h=>{var I,F;return se.current===((I=Z.current)==null?void 0:I.side)&&Tr(h,(F=Z.current)==null?void 0:F.area)},[]);return e.jsx(pr,{scope:r,searchRef:K,onItemEnter:c.useCallback(h=>{Y(h)&&h.preventDefault()},[Y]),onItemLeave:c.useCallback(h=>{var S;Y(h)||((S=B.current)==null||S.focus(),z(null))},[Y]),onTriggerLeave:c.useCallback(h=>{Y(h)&&h.preventDefault()},[Y]),pointerGraceTimerRef:q,onPointerGraceIntentChange:c.useCallback(h=>{Z.current=h},[]),children:e.jsx(xe,{...E,children:e.jsx(an,{asChild:!0,trapped:s,onMountAutoFocus:j(a,h=>{var S;h.preventDefault(),(S=B.current)==null||S.focus({preventScroll:!0})}),onUnmountAutoFocus:m,children:e.jsx(Kt,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:x,onPointerDownOutside:d,onFocusOutside:i,onInteractOutside:f,onDismiss:v,children:e.jsx(nr,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:o,currentTabStopId:G,onCurrentTabStopIdChange:z,onEntryFocus:j(u,h=>{b.isUsingKeyboardRef.current||h.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Ut,{role:"menu","aria-orientation":"vertical","data-state":St(p.open),"data-radix-menu-content":"",dir:b.dir,...R,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:j(y.onKeyDown,h=>{const I=h.target.closest("[data-radix-menu-content]")===h.currentTarget,F=h.ctrlKey||h.altKey||h.metaKey,pe=h.key.length===1;I&&(h.key==="Tab"&&h.preventDefault(),!F&&pe&&At(h.key));const fe=B.current;if(h.target!==fe||!sr.includes(h.key))return;h.preventDefault();const J=N().filter(W=>!W.disabled).map(W=>W.ref.current);st.includes(h.key)&&J.reverse(),Sr(J)}),onBlur:j(t.onBlur,h=>{h.currentTarget.contains(h.target)||(window.clearTimeout(V.current),K.current="")}),onPointerMove:j(t.onPointerMove,te(h=>{const S=h.target,I=ae.current!==h.clientX;if(h.currentTarget.contains(S)&&I){const F=h.clientX>ae.current?"right":"left";se.current=F,ae.current=h.clientX}}))})})})})})})});ut.displayName=D;var vr="MenuGroup",Ie=c.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t;return e.jsx(L.div,{role:"group",...o,ref:n})});Ie.displayName=vr;var jr="MenuLabel",mt=c.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t;return e.jsx(L.div,{...o,ref:n})});mt.displayName=jr;var ce="MenuItem",Be="menu.itemSelect",ue=c.forwardRef((t,n)=>{const{disabled:r=!1,onSelect:o,...s}=t,a=c.useRef(null),m=oe(ce,t.__scopeMenu),l=De(ce,t.__scopeMenu),u=X(n,a),x=c.useRef(!1),d=()=>{const i=a.current;if(!r&&i){const f=new CustomEvent(Be,{bubbles:!0,cancelable:!0});i.addEventListener(Be,v=>o==null?void 0:o(v),{once:!0}),cn(i,f),f.defaultPrevented?x.current=!1:m.onClose()}};return e.jsx(xt,{...s,ref:u,disabled:r,onClick:j(t.onClick,d),onPointerDown:i=>{var f;(f=t.onPointerDown)==null||f.call(t,i),x.current=!0},onPointerUp:j(t.onPointerUp,i=>{var f;x.current||(f=i.currentTarget)==null||f.click()}),onKeyDown:j(t.onKeyDown,i=>{const f=l.searchRef.current!=="";r||f&&i.key===" "||Ne.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});ue.displayName=ce;var xt=c.forwardRef((t,n)=>{const{__scopeMenu:r,disabled:o=!1,textValue:s,...a}=t,m=De(ce,r),l=ct(r),u=c.useRef(null),x=X(n,u),[d,i]=c.useState(!1),[f,v]=c.useState("");return c.useEffect(()=>{const g=u.current;g&&v((g.textContent??"").trim())},[a.children]),e.jsx(ee.ItemSlot,{scope:r,disabled:o,textValue:s??f,children:e.jsx(rr,{asChild:!0,...l,focusable:!o,children:e.jsx(L.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:x,onPointerMove:j(t.onPointerMove,te(g=>{o?m.onItemLeave(g):(m.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:j(t.onPointerLeave,te(g=>m.onItemLeave(g))),onFocus:j(t.onFocus,()=>i(!0)),onBlur:j(t.onBlur,()=>i(!1))})})})}),br="MenuCheckboxItem",pt=c.forwardRef((t,n)=>{const{checked:r=!1,onCheckedChange:o,...s}=t;return e.jsx(jt,{scope:t.__scopeMenu,checked:r,children:e.jsx(ue,{role:"menuitemcheckbox","aria-checked":ie(r)?"mixed":r,...s,ref:n,"data-state":Ee(r),onSelect:j(s.onSelect,()=>o==null?void 0:o(ie(r)?!0:!r),{checkForDefaultPrevented:!1})})})});pt.displayName=br;var ft="MenuRadioGroup",[wr,yr]=$(ft,{value:void 0,onValueChange:()=>{}}),ht=c.forwardRef((t,n)=>{const{value:r,onValueChange:o,...s}=t,a=_e(o);return e.jsx(wr,{scope:t.__scopeMenu,value:r,onValueChange:a,children:e.jsx(Ie,{...s,ref:n})})});ht.displayName=ft;var gt="MenuRadioItem",vt=c.forwardRef((t,n)=>{const{value:r,...o}=t,s=yr(gt,t.__scopeMenu),a=r===s.value;return e.jsx(jt,{scope:t.__scopeMenu,checked:a,children:e.jsx(ue,{role:"menuitemradio","aria-checked":a,...o,ref:n,"data-state":Ee(a),onSelect:j(o.onSelect,()=>{var m;return(m=s.onValueChange)==null?void 0:m.call(s,r)},{checkForDefaultPrevented:!1})})})});vt.displayName=gt;var Te="MenuItemIndicator",[jt,Nr]=$(Te,{checked:!1}),bt=c.forwardRef((t,n)=>{const{__scopeMenu:r,forceMount:o,...s}=t,a=Nr(Te,r);return e.jsx(le,{present:o||ie(a.checked)||a.checked===!0,children:e.jsx(L.span,{...s,ref:n,"data-state":Ee(a.checked)})})});bt.displayName=Te;var _r="MenuSeparator",wt=c.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t;return e.jsx(L.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});wt.displayName=_r;var Cr="MenuArrow",yt=c.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t,s=de(r);return e.jsx($t,{...s,...o,ref:n})});yt.displayName=Cr;var Mr="MenuSub",[zo,Nt]=$(Mr),Q="MenuSubTrigger",_t=c.forwardRef((t,n)=>{const r=H(Q,t.__scopeMenu),o=oe(Q,t.__scopeMenu),s=Nt(Q,t.__scopeMenu),a=De(Q,t.__scopeMenu),m=c.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=a,x={__scopeMenu:t.__scopeMenu},d=c.useCallback(()=>{m.current&&window.clearTimeout(m.current),m.current=null},[]);return c.useEffect(()=>d,[d]),c.useEffect(()=>{const i=l.current;return()=>{window.clearTimeout(i),u(null)}},[l,u]),e.jsx(Me,{asChild:!0,...x,children:e.jsx(xt,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":St(r.open),...t,ref:He(n,s.onTriggerChange),onClick:i=>{var f;(f=t.onClick)==null||f.call(t,i),!(t.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:j(t.onPointerMove,te(i=>{a.onItemEnter(i),!i.defaultPrevented&&!t.disabled&&!r.open&&!m.current&&(a.onPointerGraceIntentChange(null),m.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:j(t.onPointerLeave,te(i=>{var v,g;d();const f=(v=r.content)==null?void 0:v.getBoundingClientRect();if(f){const y=(g=r.content)==null?void 0:g.dataset.side,p=y==="right",b=p?-5:5,R=f[p?"left":"right"],w=f[p?"right":"left"];a.onPointerGraceIntentChange({area:[{x:i.clientX+b,y:i.clientY},{x:R,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:R,y:f.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(i),i.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:j(t.onKeyDown,i=>{var v;const f=a.searchRef.current!=="";t.disabled||f&&i.key===" "||ar[o.dir].includes(i.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),i.preventDefault())})})})});_t.displayName=Q;var Ct="MenuSubContent",Mt=c.forwardRef((t,n)=>{const r=lt(D,t.__scopeMenu),{forceMount:o=r.forceMount,...s}=t,a=H(D,t.__scopeMenu),m=oe(D,t.__scopeMenu),l=Nt(Ct,t.__scopeMenu),u=c.useRef(null),x=X(n,u);return e.jsx(ee.Provider,{scope:t.__scopeMenu,children:e.jsx(le,{present:o||a.open,children:e.jsx(ee.Slot,{scope:t.__scopeMenu,children:e.jsx(Re,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:x,align:"start",side:m.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var i;m.isUsingKeyboardRef.current&&((i=u.current)==null||i.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:j(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:j(t.onEscapeKeyDown,d=>{m.onClose(),d.preventDefault()}),onKeyDown:j(t.onKeyDown,d=>{var v;const i=d.currentTarget.contains(d.target),f=cr[m.dir].includes(d.key);i&&f&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),d.preventDefault())})})})})})});Mt.displayName=Ct;function St(t){return t?"open":"closed"}function ie(t){return t==="indeterminate"}function Ee(t){return ie(t)?"indeterminate":t?"checked":"unchecked"}function Sr(t){const n=document.activeElement;for(const r of t)if(r===n||(r.focus(),document.activeElement!==n))return}function Dr(t,n){return t.map((r,o)=>t[(n+o)%t.length])}function Rr(t,n,r){const s=n.length>1&&Array.from(n).every(x=>x===n[0])?n[0]:n,a=r?t.indexOf(r):-1;let m=Dr(t,Math.max(a,0));s.length===1&&(m=m.filter(x=>x!==r));const u=m.find(x=>x.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function Ir(t,n){const{x:r,y:o}=t;let s=!1;for(let a=0,m=n.length-1;a<n.length;m=a++){const l=n[a],u=n[m],x=l.x,d=l.y,i=u.x,f=u.y;d>o!=f>o&&r<(i-x)*(o-d)/(f-d)+x&&(s=!s)}return s}function Tr(t,n){if(!n)return!1;const r={x:t.clientX,y:t.clientY};return Ir(r,n)}function te(t){return n=>n.pointerType==="mouse"?t(n):void 0}var Er=it,kr=Me,Pr=dt,Fr=ut,Ar=Ie,Or=mt,Lr=ue,Gr=pt,Br=ht,Kr=vt,Ur=bt,$r=wt,Hr=yt,zr=_t,Vr=Mt,me="DropdownMenu",[Yr,Vo]=Ce(me,[at]),C=at(),[Wr,Dt]=Yr(me),Rt=t=>{const{__scopeDropdownMenu:n,children:r,dir:o,open:s,defaultOpen:a,onOpenChange:m,modal:l=!0}=t,u=C(n),x=c.useRef(null),[d,i]=Je({prop:s,defaultProp:a??!1,onChange:m,caller:me});return e.jsx(Wr,{scope:n,triggerId:we(),triggerRef:x,contentId:we(),open:d,onOpenChange:i,onOpenToggle:c.useCallback(()=>i(f=>!f),[i]),modal:l,children:e.jsx(Er,{...u,open:d,onOpenChange:i,dir:o,modal:l,children:r})})};Rt.displayName=me;var It="DropdownMenuTrigger",Tt=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,disabled:o=!1,...s}=t,a=Dt(It,r),m=C(r);return e.jsx(kr,{asChild:!0,...m,children:e.jsx(L.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...s,ref:He(n,a.triggerRef),onPointerDown:j(t.onPointerDown,l=>{!o&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:j(t.onKeyDown,l=>{o||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Tt.displayName=It;var Xr="DropdownMenuPortal",Et=t=>{const{__scopeDropdownMenu:n,...r}=t,o=C(n);return e.jsx(Pr,{...o,...r})};Et.displayName=Xr;var kt="DropdownMenuContent",Pt=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=Dt(kt,r),a=C(r),m=c.useRef(!1);return e.jsx(Fr,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...o,ref:n,onCloseAutoFocus:j(t.onCloseAutoFocus,l=>{var u;m.current||(u=s.triggerRef.current)==null||u.focus(),m.current=!1,l.preventDefault()}),onInteractOutside:j(t.onInteractOutside,l=>{const u=l.detail.originalEvent,x=u.button===0&&u.ctrlKey===!0,d=u.button===2||x;(!s.modal||d)&&(m.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pt.displayName=kt;var qr="DropdownMenuGroup",Zr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Ar,{...s,...o,ref:n})});Zr.displayName=qr;var Jr="DropdownMenuLabel",Qr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Or,{...s,...o,ref:n})});Qr.displayName=Jr;var eo="DropdownMenuItem",Ft=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Lr,{...s,...o,ref:n})});Ft.displayName=eo;var to="DropdownMenuCheckboxItem",no=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Gr,{...s,...o,ref:n})});no.displayName=to;var ro="DropdownMenuRadioGroup",oo=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Br,{...s,...o,ref:n})});oo.displayName=ro;var so="DropdownMenuRadioItem",ao=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Kr,{...s,...o,ref:n})});ao.displayName=so;var co="DropdownMenuItemIndicator",io=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Ur,{...s,...o,ref:n})});io.displayName=co;var lo="DropdownMenuSeparator",uo=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx($r,{...s,...o,ref:n})});uo.displayName=lo;var mo="DropdownMenuArrow",xo=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Hr,{...s,...o,ref:n})});xo.displayName=mo;var po="DropdownMenuSubTrigger",fo=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(zr,{...s,...o,ref:n})});fo.displayName=po;var ho="DropdownMenuSubContent",go=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...o}=t,s=C(r);return e.jsx(Vr,{...s,...o,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});go.displayName=ho;var vo=Rt,jo=Tt,bo=Et,wo=Pt,yo=Ft;function No({...t}){return e.jsx(vo,{"data-slot":"dropdown-menu",...t})}function _o({...t}){return e.jsx(jo,{"data-slot":"dropdown-menu-trigger",...t})}function Co({className:t,sideOffset:n=4,...r}){return e.jsx(bo,{children:e.jsx(wo,{"data-slot":"dropdown-menu-content",sideOffset:n,className:U("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",t),...r})})}function Ke({className:t,inset:n,variant:r="default",...o}){return e.jsx(yo,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:U("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o})}function Mo({tags:t=[]}){const[n,r]=c.useState(!1),[o,s]=c.useState(!1),[a,m]=c.useState(null),[l,u]=c.useState(null),x=ve({name:""}),d=ve({name:""});function i(p){p.preventDefault(),x.data.name.trim()&&x.post(route("bank-transfer-tags.store"),{preserveScroll:!0,onSuccess:()=>{x.reset(),s(!1)}})}function f(p,b){p.preventDefault(),d.data.name.trim()&&d.put(route("bank-transfer-tags.update",b),{preserveScroll:!0,onSuccess:()=>{d.reset(),m(null)}})}function v(p){m(p.id),d.setData("name",p.name)}function g(){m(null),d.reset(),d.clearErrors()}function y(){l&&je.delete(route("bank-transfer-tags.destroy",l.id),{preserveScroll:!0,onSuccess:()=>u(null)})}return e.jsxs(e.Fragment,{children:[e.jsxs(Pn,{open:n,onOpenChange:r,children:[e.jsx(Fn,{asChild:!0,children:e.jsxs(M,{variant:"outline",className:"gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Manage Tags"]})}),e.jsxs(Ln,{className:"flex flex-col",children:[e.jsxs(Gn,{className:"px-2",children:[e.jsx(Bn,{children:"Manage Tags"}),e.jsx(Kn,{children:"Create, edit, and organize your transfer categories."})]}),e.jsxs("div",{className:"flex-1 overflow-hidden px-2",children:[e.jsx("div",{className:"mb-4",children:o?e.jsxs("form",{onSubmit:i,className:"space-y-2",children:[e.jsx(O,{placeholder:"Enter tag name...",value:x.data.name,onChange:p=>x.setData("name",p.target.value),className:x.errors.name?"border-red-500":"",autoFocus:!0}),x.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:x.errors.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{type:"submit",size:"sm",disabled:!x.data.name.trim()||x.processing,children:[e.jsx(Oe,{className:"mr-1 h-4 w-4"}),"Save"]}),e.jsxs(M,{type:"button",variant:"outline",size:"sm",onClick:()=>{s(!1),x.reset(),x.clearErrors()},children:[e.jsx(be,{className:"mr-1 h-4 w-4"}),"Cancel"]})]})]}):e.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s(!0),children:[e.jsx(Le,{className:"h-4 w-4"}),"Add New Tag"]})}),e.jsx("div",{className:"h-full overflow-y-auto pb-8 pr-2",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:e.jsx(Ge,{className:"h-6 w-6 text-gray-400"})}),e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-900",children:"No tags yet"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"Create your first tag to categorize your bank transfers."}),e.jsxs(M,{size:"sm",onClick:()=>s(!0),children:[e.jsx(Le,{className:"mr-1 h-4 w-4"}),"Create Tag"]})]}):e.jsx("div",{className:"space-y-2",children:t.map(p=>e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-white p-3 transition-colors hover:bg-gray-50",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-blue-600",children:e.jsx("span",{className:"text-sm font-bold text-white",children:p.name.charAt(0).toUpperCase()})}),e.jsx("div",{className:"min-w-0 flex-1",children:a===p.id?e.jsxs("form",{onSubmit:b=>f(b,p.id),className:"space-y-2",children:[e.jsx(O,{value:d.data.name,onChange:b=>d.setData("name",b.target.value),className:`h-8 ${d.errors.name?"border-red-500":""}`,autoFocus:!0}),d.errors.name&&e.jsx("p",{className:"text-xs text-red-500",children:d.errors.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(M,{type:"submit",size:"sm",className:"h-7 px-2",disabled:!d.data.name.trim()||d.processing||d.data.name===p.name,children:e.jsx(Oe,{className:"h-3 w-3"})}),e.jsx(M,{type:"button",variant:"outline",size:"sm",className:"h-7 px-2",onClick:g,children:e.jsx(be,{className:"h-3 w-3"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:p.name}),e.jsxs(wn,{variant:"secondary",className:"mt-1",children:[p.bank_transfers_count||0," transfer",(p.bank_transfers_count||0)!==1?"s":""]})]})}),a!==p.id&&e.jsxs(No,{children:[e.jsx(_o,{asChild:!0,children:e.jsxs(M,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[e.jsx(En,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(Co,{align:"end",children:[e.jsxs(Ke,{onClick:()=>v(p),children:[e.jsx(In,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(Ke,{onClick:()=>u(p),className:"text-red-600 focus:text-red-600",children:[e.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},p.id))})})]})]})]}),e.jsx(yn,{open:!!l,onOpenChange:p=>!p&&u(null),children:e.jsxs(Nn,{children:[e.jsxs(_n,{children:[e.jsx(Cn,{children:"Delete Tag"}),e.jsx(Mn,{children:(l==null?void 0:l.bank_transfers_count)>0?e.jsxs(e.Fragment,{children:["Are you sure you want to delete ",e.jsxs("strong",{children:['"',l==null?void 0:l.name,'"']}),"?",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("span",{className:"text-amber-600",children:["This tag is used by ",l==null?void 0:l.bank_transfers_count," transfer",(l==null?void 0:l.bank_transfers_count)!==1?"s":"",". Those transfers will become untagged."]})]}):e.jsxs(e.Fragment,{children:["Are you sure you want to delete ",e.jsxs("strong",{children:['"',l==null?void 0:l.name,'"']}),"?",e.jsx("br",{}),e.jsx("br",{}),"This action cannot be undone."]})})]}),e.jsxs(Sn,{children:[e.jsx(Dn,{children:"Cancel"}),e.jsx(Rn,{onClick:y,className:"bg-red-600 hover:bg-red-700",children:"Delete Tag"})]})]})})]})}function Yo({bank_transfers:t=[],tags:n=[],last_balance:r=0,start_date:o="",end_date:s="",statistics:a=null}){const[m,l]=c.useState(!1),[u,x]=c.useState(null),d=new Date,i=new Date(d.getFullYear(),d.getMonth(),1).toISOString().slice(0,10),f=new Date(d.getFullYear(),d.getMonth()+1,0).toISOString().slice(0,10),[v,g]=c.useState(o||i),[y,p]=c.useState(s||f),b=(w,N)=>{const G=N==="start"?w:v,z=N==="end"?w:y;N==="start"&&g(w),N==="end"&&p(w),je.get(route("bank-transfers.index"),{start_date:G,end_date:z,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})};function R(){u&&je.delete(route("bank-transfers.destroy",u),{method:"delete",preserveScroll:!0,preserveState:!1,onSuccess:()=>x(null)})}return e.jsx(Ht,{breadcrumbs:[{title:"Bank Transfers",href:"/bank-transfers"}],children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Bank Transfers"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Mo,{tags:n}),e.jsx($n,{tags:n,lastBalance:r,isOpen:m,setIsOpen:l})]})]}),e.jsx(zt,{startDate:v,endDate:y,onChange:b}),e.jsx(Un,{statistics:a,startDate:v,endDate:y}),e.jsx(Hn,{bankTransfers:t,onDeleteClick:x}),e.jsx(zn,{isOpen:!!u,onClose:()=>x(null),onConfirm:R})]})})}export{Yo as default};
