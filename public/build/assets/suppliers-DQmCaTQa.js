import{m as k,j as e,r as y,S as R}from"./app-BpmtrgAJ.js";import{B as F}from"./badge-CHkF5WgW.js";import{a as z,F as g}from"./createLucideIcon-BtU6mWEF.js";import{C,a as W,b as Q,c as S}from"./card-B6EbpDRe.js";import{T as K,a as Y,b as $,c as D,d as Z,e as w}from"./table-Cp40oFJw.js";import{S as ee,T as se,A as ae,U as G,C as te}from"./app-layout-NbsPAelc.js";import{I as m}from"./InputError-DOwpgiu0.js";import{D as I,b as M,c as O,d as q,e as E}from"./dialog-BKARCNR9.js";import{I as p}from"./index-CajV-bZ7.js";import{L as d}from"./label-D0VINY-Z.js";import{T,P as ne,M as ie,a as le}from"./textarea-qLUUXU-L.js";import{T as V}from"./trash-2-BQ5IKsJN.js";import{P as L}from"./plus-CtAb7UPg.js";import{D as U}from"./dollar-sign-FyFqtujE.js";import{T as ce}from"./trending-down-CL8FEa4V.js";import{S as re}from"./square-pen-D8Eswm7t.js";import"./index-CrOhjZ0b.js";import"./index-CkXSKaF3.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oe=z("CircleAlert",de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xe=z("History",me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M5 12h14",key:"1ays0h"}]],ue=z("Minus",he);function pe({isOpen:l,onClose:i,errors:t={}}){const{data:a,setData:n,post:c,processing:j,reset:x}=k({name:"",contact_person:"",phone:"",email:"",address:"",additional_info:""});function N(o){o.preventDefault(),c(route("suppliers.store"),{onSuccess:()=>{x(),i()},preserveScroll:!0,preserveState:!0,only:["suppliers","errors","flash"]})}return e.jsx(I,{open:l,onOpenChange:i,children:e.jsxs(M,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[e.jsxs(O,{children:[e.jsx(q,{children:"Add New Supplier"}),e.jsx(E,{children:"Enter the details for the new supplier. All fields marked with * are required."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Supplier Name *"}),e.jsx(p,{id:"name",placeholder:"Enter supplier name",value:a.name,onChange:o=>n("name",o.target.value),required:!0}),t.name&&e.jsx(m,{message:t.name,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"contact_person",children:"Contact Person"}),e.jsx(p,{id:"contact_person",placeholder:"Contact person name",value:a.contact_person,onChange:o=>n("contact_person",o.target.value),required:!0}),t.contact_person&&e.jsx(m,{message:t.contact_person,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"phone",children:"Phone Number"}),e.jsx(p,{id:"phone",placeholder:"+233 XX XXX XXXX",value:a.phone,onChange:o=>n("phone",o.target.value),type:"tel"}),t.phone&&e.jsx(m,{message:t.phone,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email Address"}),e.jsx(p,{id:"email",placeholder:"supplier@example.com",value:a.email,onChange:o=>n("email",o.target.value),type:"email"}),t.email&&e.jsx(m,{message:t.email,className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"address",children:"Address"}),e.jsx(T,{id:"address",placeholder:"Business address",value:a.address,onChange:o=>n("address",o.target.value),rows:2}),t.address&&e.jsx(m,{message:t.address,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"additional_info",children:"Additional Information"}),e.jsx(T,{id:"additional_info",placeholder:"Any additional notes or information",value:a.additional_info,onChange:o=>n("additional_info",o.target.value),rows:3}),t.additional_info&&e.jsx(m,{message:t.additional_info,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),e.jsx(g,{onClick:N,disabled:j,children:j?"Creating...":"Add Supplier"})]})]})]})})}function je({isOpen:l,onClose:i,supplier:t,errors:a={}}){const[n,c]=y.useState([{product_name:"",quantity:1,unit_price:0}]),{data:j,setData:x,post:N,processing:o,reset:h}=k({transaction_date:new Date().toISOString().split("T")[0],reference_number:"",type:"purchase",payment_amount:0,notes:"",items:[{product_name:"",quantity:1,unit_price:0}]});console.log(a),y.useEffect(()=>{if(l){const r=[{product_name:"",quantity:1,unit_price:0}];c(r),h(),x(u=>({...u,transaction_date:new Date().toISOString().split("T")[0],items:r,type:"purchase",payment_amount:0}))}},[l]);function _(){t&&N(route("suppliers.transactions.store",t.id),{onSuccess:()=>{h(),c([{product_name:"",quantity:1,unit_price:0}]),i()},preserveScroll:!0,preserveState:!0,only:["suppliers","errors","flash"]})}function b(){const r=[...n,{product_name:"",quantity:1,unit_price:0}];c(r),x("items",r)}function f(r){if(n.length>1){const u=n.filter((v,s)=>s!==r);c(u),x("items",u)}}function A(r,u,v){const s=[...n];s[r]={...s[r],[u]:v},c(s),x("items",s)}if(!t)return null;const X=n.reduce((r,u)=>r+parseFloat(u.quantity||0)*parseFloat(u.unit_price||0),0),B=parseFloat(j.payment_amount||0),P=parseFloat(t.current_balance||0),H=P+X-B;return e.jsx(I,{open:l,onOpenChange:i,children:e.jsxs(M,{className:"max-h-[90vh] max-w-4xl overflow-y-auto",children:[e.jsxs(O,{children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-blue-600"}),"Add Purchase Transaction - ",t.name]}),e.jsx(E,{children:"Fill in the transaction details below to record a supplier purchase."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"transaction_date",children:"Transaction Date"}),e.jsx(p,{id:"transaction_date",type:"date",value:j.transaction_date,onChange:r=>x("transaction_date",r.target.value)}),e.jsx(m,{message:a.transaction_date})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"reference_number",children:"Reference Number"}),e.jsx(p,{id:"reference_number",value:j.reference_number,onChange:r=>x("reference_number",r.target.value)}),e.jsx(m,{message:a.reference_number})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(d,{children:"Items"}),n.map((r,u)=>e.jsxs(C,{className:"mb-4",children:[e.jsxs(W,{className:"flex items-center justify-between",children:[e.jsxs(Q,{children:["Item ",u+1]}),e.jsx(g,{variant:"ghost",size:"icon",onClick:()=>f(u),disabled:n.length===1,children:e.jsx(V,{className:"h-4 w-4 text-red-500"})})]}),e.jsxs(S,{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Product Name"}),e.jsx(p,{value:r.product_name,onChange:v=>A(u,"product_name",v.target.value)}),e.jsx(m,{message:a[`items.${u}.product_name`]})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Quantity"}),e.jsx(p,{type:"number",min:"1",value:r.quantity,onChange:v=>A(u,"quantity",v.target.value)}),e.jsx(m,{message:a[`items.${u}.quantity`]})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Unit Price"}),e.jsx(p,{type:"number",min:"0",step:"0.01",value:r.unit_price,onChange:v=>A(u,"unit_price",v.target.value)}),e.jsx(m,{message:a[`items.${u}.unit_price`]})]})]})]},u)),e.jsxs(g,{type:"button",onClick:b,variant:"outline",className:"mt-2",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Item"]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"payment_amount",children:"Payment Made"}),e.jsx(p,{type:"number",id:"payment_amount",min:"0",step:"0.01",value:j.payment_amount,onChange:r=>x("payment_amount",r.target.value)}),e.jsx(m,{message:a.payment_amount})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Previous Debt"}),e.jsx(p,{value:P.toFixed(2),readOnly:!0})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Total Debt Balance"}),e.jsx(p,{value:H.toFixed(2),readOnly:!0})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(d,{htmlFor:"notes",children:"Notes"}),e.jsx(T,{id:"notes",rows:"3",value:j.notes,onChange:r=>x("notes",r.target.value)})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[e.jsx(g,{variant:"outline",onClick:i,children:"Cancel"}),e.jsx(g,{onClick:_,disabled:o,children:"Save Transaction"})]})]})})}function ge({isOpen:l,onClose:i,supplier:t,errors:a={}}){const{data:n,setData:c,put:j,processing:x,reset:N}=k({name:"",contact_person:"",phone:"",email:"",address:"",additional_info:""});y.useEffect(()=>{t&&c({name:t.name||"",contact_person:t.contact_person||"",phone:t.phone||"",email:t.email||"",address:t.address||"",additional_info:t.additional_info||""})},[t]);function o(){t&&j(route("suppliers.update",t.id),{onSuccess:()=>{N(),i()},preserveScroll:!0,preserveState:!0,only:["suppliers","errors","flash"]})}return t?e.jsx(I,{open:l,onOpenChange:i,children:e.jsxs(M,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[e.jsxs(O,{children:[e.jsx(q,{children:"Edit Supplier"}),e.jsx(E,{children:"Update the supplier information. All fields marked with * are required."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-name",children:"Supplier Name *"}),e.jsx(p,{id:"edit-name",placeholder:"Enter supplier name",value:n.name,onChange:h=>c("name",h.target.value),required:!0}),a.name&&e.jsx(m,{message:a.name,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-contact_person",children:"Contact Person"}),e.jsx(p,{id:"edit-contact_person",placeholder:"Contact person name",value:n.contact_person,onChange:h=>c("contact_person",h.target.value)}),a.contact_person&&e.jsx(m,{message:a.contact_person,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-phone",children:"Phone Number"}),e.jsx(p,{id:"edit-phone",placeholder:"+233 XX XXX XXXX",value:n.phone,onChange:h=>c("phone",h.target.value),type:"tel"}),a.phone&&e.jsx(m,{message:a.phone,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-email",children:"Email Address"}),e.jsx(p,{id:"edit-email",placeholder:"supplier@example.com",value:n.email,onChange:h=>c("email",h.target.value),type:"email"}),a.email&&e.jsx(m,{message:a.email,className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-address",children:"Address"}),e.jsx(T,{id:"edit-address",placeholder:"Business address",value:n.address,onChange:h=>c("address",h.target.value),rows:2}),a.address&&e.jsx(m,{message:a.address,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"edit-additional_info",children:"Additional Information"}),e.jsx(T,{id:"edit-additional_info",placeholder:"Any additional notes or information",value:n.additional_info,onChange:h=>c("additional_info",h.target.value),rows:3}),a.additional_info&&e.jsx(m,{message:a.additional_info,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),e.jsx(g,{onClick:o,disabled:x,children:x?"Updating...":"Update Supplier"})]})]})]})}):null}function fe({isOpen:l,onClose:i,supplier:t,errors:a={}}){const{data:n,setData:c,post:j,processing:x,reset:N}=k({payment_amount:"",transaction_date:new Date().toISOString().split("T")[0],reference_number:"",notes:""});y.useEffect(()=>{l&&(N(),c(f=>({...f,transaction_date:new Date().toISOString().split("T")[0]})))},[l]);function o(){t&&j(route("suppliers.payments.store",t.id),{onSuccess:()=>{N(),i()},preserveScroll:!0,preserveState:!0,only:["suppliers","errors","flash"]})}if(!t)return null;const h=parseFloat(t.current_balance||0),_=parseFloat(n.payment_amount||0),b=h-_;return e.jsx(I,{open:l,onOpenChange:i,children:e.jsxs(M,{className:"max-w-lg",children:[e.jsxs(O,{children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5 text-green-600"}),"Make Payment to ",t.name]}),e.jsx(E,{children:"Record a payment made to this supplier to reduce their outstanding balance."})]}),e.jsx(C,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Current Outstanding Balance:"}),e.jsxs("span",{className:"text-lg font-bold text-red-600",children:["GHC ",h.toFixed(2)]})]}),_>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Payment Amount:"}),e.jsxs("span",{className:"text-green-600",children:["- GHC ",_.toFixed(2)]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"New Balance:"}),e.jsxs("span",{className:`font-bold ${b>0?"text-red-600":b<0?"text-green-600":"text-gray-600"}`,children:["GHC ",b.toFixed(2)]})]})]}),_>h&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[e.jsx(oe,{className:"h-4 w-4"}),"Payment exceeds current debt. This will create a credit balance."]})]})})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"payment_amount",children:"Payment Amount *"}),e.jsx(p,{id:"payment_amount",placeholder:"0.00",value:n.payment_amount,onChange:f=>c("payment_amount",f.target.value),type:"number",step:"0.01",min:"0.01",max:h,required:!0}),a.payment_amount&&e.jsx(m,{message:a.payment_amount,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"transaction_date",children:"Payment Date *"}),e.jsx(p,{id:"transaction_date",value:n.transaction_date,onChange:f=>c("transaction_date",f.target.value),type:"date",required:!0}),a.transaction_date&&e.jsx(m,{message:a.transaction_date,className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"reference_number",children:"Reference Number"}),e.jsx(p,{id:"reference_number",placeholder:"e.g., CHQ001, TRANSFER123",value:n.reference_number,onChange:f=>c("reference_number",f.target.value)}),a.reference_number&&e.jsx(m,{message:a.reference_number,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"notes",children:"Notes"}),e.jsx(T,{id:"notes",placeholder:"Payment method, additional notes...",value:n.notes,onChange:f=>c("notes",f.target.value),rows:3}),a.notes&&e.jsx(m,{message:a.notes,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),e.jsx(g,{onClick:o,disabled:x||!n.payment_amount,children:x?"Recording Payment...":"Record Payment"})]})]})]})})}function ve({supplier:l}){const i=parseFloat(l.current_balance||0),t=parseFloat(l.total_purchases||0),a=parseFloat(l.total_payments||0),n=l.transactions_count||0,c=()=>i>0?"text-red-600":i<0?"text-green-600":"text-gray-600",j=()=>i>0?e.jsx(se,{className:"h-3 w-3"}):i<0?e.jsx(ce,{className:"h-3 w-3"}):e.jsx(ue,{className:"h-3 w-3"}),x=N=>`GHC ${Math.abs(N).toFixed(2)}`;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex items-center gap-1 font-medium ${c()}`,children:[j(),e.jsxs("span",{className:"text-sm",children:[i>0&&"Owes: ",i<0&&"Credit: ",i===0&&"Settled: ",x(i)]})]}),n>0&&e.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Purchases:"}),e.jsxs("span",{children:["GHC ",t.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Payments:"}),e.jsxs("span",{children:["GHC ",a.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Transactions:"}),e.jsx("span",{children:n})]}),l.last_transaction_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Last Activity:"}),e.jsx("span",{children:new Date(l.last_transaction_date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-1",children:[l.balance_status==="debt"&&e.jsx(F,{variant:"destructive",className:"text-xs",children:"Outstanding"}),l.balance_status==="credit"&&e.jsx(F,{variant:"secondary",className:"text-xs",children:"Overpaid"}),l.balance_status==="settled"&&n>0&&e.jsx(F,{variant:"outline",className:"text-xs",children:"Settled"}),n===0&&e.jsx(F,{variant:"outline",className:"text-xs",children:"No Transactions"})]})]})}function Xe({suppliers:l=[],errors:i={}}){const[t,a]=y.useState(!1),[n,c]=y.useState(!1),[j,x]=y.useState(!1),[N,o]=y.useState(!1),[h,_]=y.useState(null),[b,f]=y.useState(null),A=[{title:"Suppliers",href:"/suppliers"}];function X(s){_(s),c(!0)}function B(s){confirm("Are you sure you want to delete this supplier?")&&R.delete(route("suppliers.destroy",s),{preserveScroll:!0,preserveState:!0,only:["suppliers","flash","errors"]})}function P(s){f(s),x(!0)}function H(s){f(s),o(!0)}function r(s){R.get(route("suppliers.transactions",s.id))}function u(s){R.patch(route("suppliers.toggle-status",s.id),{},{preserveScroll:!0,preserveState:!0,only:["suppliers","flash"]})}const v={totalSuppliers:l.length,activeSuppliers:l.filter(s=>s.is_active).length,totalDebt:l.reduce((s,J)=>s+parseFloat(J.current_balance||0),0),suppliersWithDebt:l.filter(s=>parseFloat(s.current_balance||0)>0).length};return e.jsx(ae,{breadcrumbs:A,children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Management"}),e.jsxs(g,{onClick:()=>a(!0),children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx(C,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Suppliers"}),e.jsx("p",{className:"text-2xl font-bold",children:v.totalSuppliers})]})]})})}),e.jsx(C,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Suppliers"}),e.jsx("p",{className:"text-2xl font-bold",children:v.activeSuppliers})]})]})})}),e.jsx(C,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-5 w-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Outstanding"}),e.jsxs("p",{className:"text-2xl font-bold",children:["GHC ",v.totalDebt.toFixed(2)]})]})]})})}),e.jsx(C,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"With Outstanding Debt"}),e.jsx("p",{className:"text-2xl font-bold",children:v.suppliersWithDebt})]})]})})})]}),e.jsxs(C,{children:[e.jsx(W,{children:e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Supplier Directory"]})}),e.jsx(S,{children:e.jsxs(K,{children:[e.jsx(Y,{children:e.jsxs($,{children:[e.jsx(D,{children:"Supplier Details"}),e.jsx(D,{children:"Contact Info"}),e.jsx(D,{children:"Financial Status"}),e.jsx(D,{children:"Status"}),e.jsx(D,{children:"Actions"})]})}),e.jsxs(Z,{children:[l.map(s=>e.jsxs($,{children:[e.jsx(w,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.contact_person&&e.jsx("p",{className:"text-sm text-gray-500",children:s.contact_person})]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-1",children:[s.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(ne,{className:"h-3 w-3"}),s.phone]}),s.email&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(ie,{className:"h-3 w-3"}),s.email]}),s.address&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(le,{className:"h-3 w-3"}),e.jsx("span",{className:"max-w-32 truncate",children:s.address})]})]})}),e.jsx(w,{children:e.jsx(ve,{supplier:s})}),e.jsx(w,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{variant:s.is_active?"default":"secondary",className:"cursor-pointer",onClick:()=>u(s),children:s.is_active?"Active":"Inactive"}),s.has_outstanding_debt&&e.jsx(F,{variant:"destructive",className:"text-xs text-white",children:"Debt"})]})}),e.jsx(w,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:()=>X(s),children:e.jsx(re,{className:"h-3 w-3"})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>r(s),title:"View Transactions",children:e.jsx(xe,{className:"h-3 w-3"})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>H(s),title:"Add Purchase",className:"text-blue-600",children:e.jsx(L,{className:"h-3 w-3"})}),s.has_outstanding_debt&&e.jsx(g,{variant:"outline",size:"sm",onClick:()=>P(s),title:"Make Payment",className:"text-green-600",children:e.jsx(U,{className:"h-3 w-3"})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>B(s.id),className:"text-red-600",disabled:s.has_outstanding_debt,title:s.has_outstanding_debt?"Cannot delete supplier with outstanding debt":"Delete supplier",children:e.jsx(V,{className:"h-3 w-3"})})]})})]},s.id)),l.length===0&&e.jsx($,{children:e.jsx(w,{colSpan:5,className:"text-muted-foreground py-8 text-center",children:"No suppliers found. Add your first supplier to get started."})})]})]})})]}),e.jsx(pe,{isOpen:t,onClose:()=>a(!1),errors:i}),e.jsx(ge,{isOpen:n,onClose:()=>c(!1),supplier:h,errors:i}),e.jsx(fe,{isOpen:j,onClose:()=>x(!1),supplier:b,errors:i}),e.jsx(je,{isOpen:N,onClose:()=>o(!1),supplier:b,errors:i})]})})}export{Xe as default};
