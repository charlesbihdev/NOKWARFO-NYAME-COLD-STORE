import{j as e,b as D,r as m,a as H}from"./app-Bf1yXYu3.js";import{A as w,T as f}from"./app-layout-DYMxv3lH.js";import{D as A}from"./DateRangePicker-B0Q7Z_Kf.js";import{C as g,a as P,b as T,c as S}from"./card-CyYwfR1t.js";import{T as G,a as R,b as u,c as n,d as E,e as l}from"./table-BiKWLpiF.js";import{D as C}from"./dollar-sign-CtD1xMGt.js";import"./createLucideIcon-DzYmC230.js";import"./index-BtwiKp3V.js";import"./index-BTFNH9Ad.js";const b=({title:s,sales:o,profitColorClass:i,totalProfit:c,rowColorClass:d})=>e.jsxs(g,{children:[e.jsx(P,{children:e.jsx(T,{children:s})}),e.jsx(S,{children:e.jsxs(G,{children:[e.jsx(R,{children:e.jsxs(u,{children:[e.jsx(n,{children:"Product"}),e.jsx(n,{children:"Units Sold"}),e.jsx(n,{children:"Cost Price"}),e.jsx(n,{children:"Total Cost"}),e.jsx(n,{children:"Selling Price"}),e.jsx(n,{children:"Total Amount"}),e.jsx(n,{children:"Profit"})]})}),e.jsxs(E,{children:[o.map((r,p)=>e.jsxs(u,{children:[e.jsx(l,{className:"font-medium",children:r.product}),e.jsx(l,{children:r.total_product_sold}),e.jsxs(l,{children:["GH₵",parseFloat(r.unit_cost_price).toFixed(2)]}),e.jsxs(l,{children:["GH₵",parseFloat(r.total_cost_amount).toFixed(2)]}),e.jsxs(l,{children:["GH₵",parseFloat(r.selling_price).toFixed(2)]}),e.jsxs(l,{children:["GH₵",parseFloat(r.total_amount).toFixed(2)]}),e.jsxs(l,{className:`font-medium ${i}`,children:["GH₵",parseFloat(r.profit).toFixed(2)]})]},p)),e.jsxs(u,{className:d,children:[e.jsx(l,{colSpan:6,className:"font-bold",children:s.includes("Cash")?"Total Cash Profit":"Total Profit"}),e.jsxs(l,{className:`font-bold ${i}`,children:["GH₵",c.toFixed(2)]})]})]})]})})]});function $({iconNode:s,className:o}){return s?e.jsx(s,{className:o}):null}const x=({title:s,value:o,iconColor:i,description:c})=>e.jsxs(g,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(T,{className:"text-sm font-medium",children:s}),e.jsx($,{className:`h-4 w-4 ${i}`})]}),e.jsxs(S,{children:[e.jsxs("div",{className:`text-2xl font-bold ${i}`,children:["GH₵",o.toFixed(2)]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:c})]})]});function K(){const{total_product_sales:s=[],paid_product_sales:o=[]}=D().props,[i,c]=m.useState(""),[d,r]=m.useState(""),p=(t,a)=>{const y=a==="start"?t:i,v=a==="end"?t:d;a==="start"&&c(t),a==="end"&&r(t),H.get(route("profit-analysis.index"),{start_date:y,end_date:v},{preserveState:!0,preserveScroll:!0,replace:!0})},N=[{title:"Profit Analysis",href:"/profit-analysis"}],h=s.reduce((t,a)=>t+parseFloat(a.profit),0),j=o.reduce((t,a)=>t+parseFloat(a.profit),0),_=s.reduce((t,a)=>t+parseFloat(a.total_amount),0),F=s.reduce((t,a)=>t+parseFloat(a.total_cost_amount),0);return e.jsx(w,{breadcrumbs:N,children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Profit Analysis"})}),e.jsx("div",{className:"mb-6 flex items-center space-x-4",children:e.jsx(A,{startDate:i,endDate:d,onChange:p})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[e.jsx(x,{title:"Total Sales Profit",value:h,icon:f,iconColor:"text-green-600",description:"Cash + Credit"}),e.jsx(x,{title:"Cash Sales Profit",value:j,icon:C,iconColor:"text-blue-600",description:"Cash only"}),e.jsx(x,{title:"Total Revenue",value:_,icon:f,iconColor:"text-purple-600",description:"All sales"}),e.jsx(x,{title:"Total Cost",value:F,icon:C,iconColor:"text-red-600",description:"Product costs"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx(b,{title:"Total Product Sales (Cash + Credit)",sales:s,rowColorClass:"bg-green-50",profitColorClass:"text-green-600",totalProfit:h}),e.jsx(b,{title:"Paid Product Sales (Cash Only)",sales:o,rowColorClass:"bg-blue-50",profitColorClass:"text-blue-600",totalProfit:j})]})]})})}export{K as default};
