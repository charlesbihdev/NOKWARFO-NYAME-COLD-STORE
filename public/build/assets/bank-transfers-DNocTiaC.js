import{j as e,r as c,u as ue,b as Ct,L as Ce,a as me}from"./app-CJAfpu_B.js";import{B as St,c as Te,u as Ie,R as Dt,b as kt,D as Rt,C as Pt,d as Et,A as Tt}from"./app-layout-BYjCDRLU.js";import{D as It}from"./DateRangePicker-Cup-kuQ_.js";import{c as Ae,a as A,F as N,u as V,b as At,d as Fe}from"./createLucideIcon-Cg7ANiR-.js";import{R as Ft,T as Ot,C as Lt,g as Gt,X as xe,h as Bt,i as Ut,P as Kt,O as $t,D as Oe,a as Ht,b as Le,c as Ge,d as Be,j as zt,k as Vt,u as Wt,l as Yt,F as Xt}from"./dialog-CAA-wllh.js";import{I as T,P as U,d as qt}from"./input-Dk-R2vtg.js";import{L as E}from"./label-Bg7Q41yp.js";import{S as Zt,a as Jt,b as Qt,c as en,d as tn}from"./select-Bk5mqKH1.js";import{C as nn,a as rn,b as sn,c as an}from"./card-CqjrLppC.js";import{T as on,a as cn,b as de,c as R,d as ln,e as S}from"./table-GVnBoJML.js";import{T as Ue}from"./trash-2-DWws5xuW.js";import{B as dn}from"./badge-CV-W2Fb_.js";import{c as Ke,P as te,a as j}from"./index-Ca9tWU42.js";import{u as un}from"./index-CzC18CvF.js";import{c as mn,u as xn}from"./index-DLss49vn.js";import{c as $e,I as pn,R as hn}from"./index-U8jmZo2A.js";import{u as Se}from"./index-Dqg2lGr_.js";import{A as fn,a as gn,b as vn,c as jn,d as bn,e as wn,f as Nn,g as yn}from"./alert-dialog-BICkT8TW.js";import{C as De}from"./index-BWkE5G2Y.js";import{P as ke}from"./plus-BdnMlgTQ.js";import{P as _n}from"./pencil-BqDgQiWM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Cn=Ae("Ellipsis",Mn);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Re=Ae("Tag",Sn);function Dn({...t}){return e.jsx(Ft,{"data-slot":"sheet",...t})}function kn({...t}){return e.jsx(Ot,{"data-slot":"sheet-trigger",...t})}function Rn({...t}){return e.jsx(Kt,{"data-slot":"sheet-portal",...t})}function Pn({className:t,...n}){return e.jsx($t,{"data-slot":"sheet-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...n})}function En({className:t,children:n,side:r="right",...s}){return e.jsxs(Rn,{children:[e.jsx(Pn,{}),e.jsxs(Lt,{"data-slot":"sheet-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[n,e.jsxs(Gt,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(xe,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Tn({className:t,...n}){return e.jsx("div",{"data-slot":"sheet-header",className:A("flex flex-col gap-1.5 p-4",t),...n})}function In({className:t,...n}){return e.jsx(Bt,{"data-slot":"sheet-title",className:A("text-foreground font-semibold",t),...n})}function An({className:t,...n}){return e.jsx(Ut,{"data-slot":"sheet-description",className:A("text-muted-foreground text-sm",t),...n})}function Fn({statistics:t,startDate:n,endDate:r}){const[s,a]=c.useState(!1);if(!t)return null;const o=l=>{const d=new Date().toISOString().split("T")[0];return l===d},m=()=>n===r?o(n)?"Today":new Date(n).toLocaleDateString():`${new Date(n).toLocaleDateString()} - ${new Date(r).toLocaleDateString()}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-4 text-lg font-semibold text-gray-700",children:["Period Summary (",m(),")"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-green-100",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Money IN"}),e.jsxs("p",{className:"text-base font-semibold text-green-600",children:["GH₵",parseFloat(t.total_credit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Credit/Deposits"})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-red-100",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Money OUT"}),e.jsxs("p",{className:"text-base font-semibold text-red-600",children:["GH₵",parseFloat(t.total_debit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Debit/Expenses"})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-md ${parseFloat(t.net_flow)>=0?"bg-green-100":"bg-orange-100"}`,children:e.jsx("svg",{className:`h-6 w-6 ${parseFloat(t.net_flow)>=0?"text-green-600":"text-orange-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Net Flow"}),e.jsxs("p",{className:`text-base font-semibold ${parseFloat(t.net_flow)>=0?"text-green-600":"text-orange-600"}`,children:[parseFloat(t.net_flow)>=0?"+":"","GH₵",Math.abs(parseFloat(t.net_flow)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400",children:parseFloat(t.net_flow)>=0?"Profit":"Loss"})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-6 shadow border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-blue-100",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Today's Activity"}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsxs("span",{className:"text-xs font-semibold text-green-600",children:["+GH₵",parseFloat(t.today_credit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("span",{className:"text-xs font-semibold text-red-600",children:["-GH₵",parseFloat(t.today_debit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.today_count," transaction",t.today_count!==1?"s":""," today"]})]})]})})]})]}),t.tag_breakdown&&t.tag_breakdown.length>0&&e.jsxs("div",{className:"rounded-lg bg-white shadow",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Where is Your Money Going?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Detailed breakdown of transactions by category"})]}),e.jsx("button",{onClick:()=>a(!s),className:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-all hover:bg-gray-50 hover:border-gray-400",children:s?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Hide Details"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Show Details"]})})]}),s&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Money IN"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Money OUT"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Transactions"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Net Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.tag_breakdown.map((l,d)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 flex-shrink-0",children:e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-blue-600",children:e.jsx("span",{className:"text-sm font-bold text-white",children:l.tag_name.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.tag_name})})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap text-right text-green-600",children:["+GH₵",parseFloat(l.total_credit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap text-right text-red-600",children:["-GH₵",parseFloat(l.total_debit).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap text-center",children:e.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:[l.transaction_count," txn",l.transaction_count>1?"s":""]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap text-right",children:e.jsxs("span",{className:`font-semibold ${parseFloat(l.net_amount)>=0?"text-green-600":"text-orange-600"}`,children:[parseFloat(l.net_amount)>=0?"+":"","GH₵",Math.abs(parseFloat(l.net_amount)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},d))})]})})]})]})}function On({tags:t,lastBalance:n,isOpen:r,setIsOpen:s}){const{data:a,setData:o,post:m,processing:l,errors:d,reset:x}=ue({date:new Date().toISOString().split("T")[0],previous_balance:n.toString(),credit:"0",total_balance:n.toString(),debit:"0",tag_id:"",current_balance:n.toString(),notes:""});c.useEffect(()=>{o(i=>({...i,previous_balance:n.toString(),total_balance:n.toString(),current_balance:n.toString()}))},[n]),c.useEffect(()=>{const i=parseFloat(a.previous_balance)||0,p=parseFloat(a.credit)||0,v=parseFloat(a.debit)||0,g=i+p,b=g-v;o(f=>({...f,total_balance:g.toFixed(2),current_balance:b.toFixed(2)}))},[a.previous_balance,a.credit,a.debit]);function u(i){i.preventDefault(),m(route("bank-transfers.store"),{preserveScroll:!0,preserveState:!0,only:["bank_transfers","last_balance","statistics","errors","flash"],onSuccess:()=>{x(),s(!1)}})}return e.jsxs(Oe,{open:r,onOpenChange:s,children:[e.jsx(Ht,{asChild:!0,children:e.jsx(N,{children:"Record Transfer"})}),e.jsxs(Le,{className:"max-h-[96vh] max-w-2xl overflow-y-auto",children:[e.jsx(Ge,{children:e.jsx(Be,{children:"Record Bank Transfer"})}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"date",children:"Date"}),e.jsx(T,{id:"date",type:"date",value:a.date,onChange:i=>o("date",i.target.value)}),d.date&&e.jsx("div",{className:"text-sm text-red-500",children:d.date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"previous_balance",children:"Previous Balance"}),e.jsx(T,{id:"previous_balance",type:"number",step:"0.01",value:a.previous_balance,onChange:i=>o("previous_balance",i.target.value)}),d.previous_balance&&e.jsx("div",{className:"text-sm text-red-500",children:d.previous_balance})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"credit",children:"Credit Amount"}),e.jsx(T,{id:"credit",type:"number",step:"0.01",value:a.credit,onChange:i=>o("credit",i.target.value)}),d.credit&&e.jsx("div",{className:"text-sm text-red-500",children:d.credit})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"total_balance",children:"Total Balance"}),e.jsx(T,{id:"total_balance",type:"number",step:"0.01",value:a.total_balance,readOnly:!0,className:"cursor-not-allowed bg-gray-200"}),d.total_balance&&e.jsx("div",{className:"text-sm text-red-500",children:d.total_balance})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"debit",children:"Debit Amount"}),e.jsx(T,{id:"debit",type:"number",step:"0.01",value:a.debit,onChange:i=>o("debit",i.target.value)}),d.debit&&e.jsx("div",{className:"text-sm text-red-500",children:d.debit})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"tag",children:"Tag"}),e.jsxs(Zt,{value:a.tag_id,onValueChange:i=>o("tag_id",i),children:[e.jsx(Jt,{children:e.jsx(Qt,{placeholder:"Select a tag"})}),e.jsx(en,{children:t.map(i=>e.jsx(tn,{value:i.id.toString(),children:i.name},i.id))})]}),d.tag_id&&e.jsx("div",{className:"text-sm text-red-500",children:d.tag_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"current_balance",children:"Current Balance"}),e.jsx(T,{id:"current_balance",type:"number",step:"0.01",value:a.current_balance,readOnly:!0,className:"cursor-not-allowed bg-gray-200"}),d.current_balance&&e.jsx("div",{className:"text-sm text-red-500",children:d.current_balance})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(E,{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",className:"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring min-h-[60px] w-full rounded-md border px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",value:a.notes,onChange:i=>o("notes",i.target.value),placeholder:"Enter any additional notes...",rows:2}),d.notes&&e.jsx("div",{className:"text-sm text-red-500",children:d.notes})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(N,{type:"submit",disabled:l,children:l?"Recording...":"Record Transfer"})]})]})]})]})}function Ln({bankTransfers:t,onDeleteClick:n}){const{start_date:r,end_date:s}=Ct().props,a=o=>{if(!o)return"#";const m=new URL(o);return m.searchParams.set("start_date",r||""),m.searchParams.set("end_date",s||""),m.toString()};return e.jsxs(nn,{children:[e.jsx(rn,{children:e.jsxs(sn,{className:"flex items-center gap-2",children:[e.jsx(St,{className:"h-5 w-5"}),"Bank Transfer Ledger"]})}),e.jsxs(an,{children:[e.jsxs(on,{children:[e.jsx(cn,{children:e.jsxs(de,{children:[e.jsx(R,{children:"Date"}),e.jsx(R,{children:"Previous Balance"}),e.jsx(R,{children:"Credit"}),e.jsx(R,{children:"Total Balance"}),e.jsx(R,{children:"Debit"}),e.jsx(R,{children:"Tag"}),e.jsx(R,{children:"Current Balance"}),e.jsx(R,{children:"Notes"}),e.jsx(R,{children:"Actions"})]})}),e.jsx(ln,{children:t.data.length>0?t.data.map(o=>e.jsxs(de,{children:[e.jsx(S,{children:o.date}),e.jsxs(S,{children:["GH₵",o.previous_balance||0]}),e.jsxs(S,{className:"text-green-600",children:["GH₵",o.credit||0]}),e.jsxs(S,{children:["GH₵",o.total_balance||0]}),e.jsxs(S,{className:"text-red-600",children:["GH₵",o.debit||0]}),e.jsx(S,{children:o.tag?o.tag.name:"No tag"}),e.jsxs(S,{className:"font-medium",children:["GH₵",o.current_balance||0]}),e.jsx(S,{className:"max-w-[200px]",children:e.jsx("span",{className:"truncate",children:o.notes||"-"})}),e.jsx(S,{className:"max-w-[200px]",children:e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>n(o.id),className:"h-8 w-8 bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700",children:e.jsx(Ue,{className:"h-4 w-4"})})})]},o.id)):e.jsx(de,{children:e.jsx(S,{colSpan:9,className:"text-muted-foreground text-center",children:"No bank transfers recorded for the selected date range"})})})]}),e.jsxs("div",{className:"my-3 flex items-center justify-center gap-4",children:[t.prev_page_url&&e.jsx(Ce,{preserveScroll:!0,preserveState:!0,href:a(t.prev_page_url),className:"rounded border px-4 py-2 hover:bg-gray-100",children:"« Previous"}),e.jsxs("span",{className:"px-4 py-2 font-medium",children:["Page ",t.current_page]}),t.next_page_url&&e.jsx(Ce,{preserveScroll:!0,preserveState:!0,href:a(t.next_page_url),className:"rounded border px-4 py-2 hover:bg-gray-100",children:"Next »"})]})]})]})}function Gn({isOpen:t,onClose:n,onConfirm:r}){return e.jsx(Oe,{open:t,onOpenChange:s=>!s&&n(),children:e.jsxs(Le,{children:[e.jsx(Ge,{children:e.jsx(Be,{children:"Delete Bank Transfer"})}),e.jsx("div",{className:"py-4",children:e.jsx("p",{children:"Are you sure you want to delete this bank transfer record? This action cannot be undone."})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(N,{variant:"outline",onClick:n,children:"Cancel"}),e.jsx(N,{className:"text-white",variant:"destructive",onClick:r,children:"Delete"})]})]})})}var pe=["Enter"," "],Bn=["ArrowDown","PageUp","Home"],He=["ArrowUp","PageDown","End"],Un=[...Bn,...He],Kn={ltr:[...pe,"ArrowRight"],rtl:[...pe,"ArrowLeft"]},$n={ltr:["ArrowLeft"],rtl:["ArrowRight"]},W="Menu",[H,Hn,zn]=mn(W),[F,ze]=Ke(W,[zn,Te,$e]),ne=Te(),Ve=$e(),[Vn,O]=F(W),[Wn,Y]=F(W),We=t=>{const{__scopeMenu:n,open:r=!1,children:s,dir:a,onOpenChange:o,modal:m=!0}=t,l=ne(n),[d,x]=c.useState(null),u=c.useRef(!1),i=Ie(o),p=xn(a);return c.useEffect(()=>{const v=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(Dt,{...l,children:e.jsx(Vn,{scope:n,open:r,onOpenChange:i,content:d,onContentChange:x,children:e.jsx(Wn,{scope:n,onClose:c.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:u,dir:p,modal:m,children:s})})})};We.displayName=W;var Yn="MenuAnchor",he=c.forwardRef((t,n)=>{const{__scopeMenu:r,...s}=t,a=ne(r);return e.jsx(kt,{...a,...s,ref:n})});he.displayName=Yn;var fe="MenuPortal",[Xn,Ye]=F(fe,{forceMount:void 0}),Xe=t=>{const{__scopeMenu:n,forceMount:r,children:s,container:a}=t,o=O(fe,n);return e.jsx(Xn,{scope:n,forceMount:r,children:e.jsx(te,{present:r||o.open,children:e.jsx(zt,{asChild:!0,container:a,children:s})})})};Xe.displayName=fe;var M="MenuContent",[qn,ge]=F(M),qe=c.forwardRef((t,n)=>{const r=Ye(M,t.__scopeMenu),{forceMount:s=r.forceMount,...a}=t,o=O(M,t.__scopeMenu),m=Y(M,t.__scopeMenu);return e.jsx(H.Provider,{scope:t.__scopeMenu,children:e.jsx(te,{present:s||o.open,children:e.jsx(H.Slot,{scope:t.__scopeMenu,children:m.modal?e.jsx(Zn,{...a,ref:n}):e.jsx(Jn,{...a,ref:n})})})})}),Zn=c.forwardRef((t,n)=>{const r=O(M,t.__scopeMenu),s=c.useRef(null),a=V(n,s);return c.useEffect(()=>{const o=s.current;if(o)return Vt(o)},[]),e.jsx(ve,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:j(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Jn=c.forwardRef((t,n)=>{const r=O(M,t.__scopeMenu);return e.jsx(ve,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Qn=At("MenuContent.ScrollLock"),ve=c.forwardRef((t,n)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:m,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:x,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:p,onDismiss:v,disableOutsideScroll:g,...b}=t,f=O(M,r),y=Y(M,r),L=ne(r),D=Ve(r),I=Hn(r),[ae,X]=c.useState(null),q=c.useRef(null),wt=V(n,q,f.onContentChange),Z=c.useRef(0),J=c.useRef(""),Nt=c.useRef(0),oe=c.useRef(null),Ne=c.useRef("right"),ie=c.useRef(0),yt=g?Yt:c.Fragment,_t=g?{as:Qn,allowPinchZoom:!0}:void 0,Mt=h=>{var B,_e;const _=J.current+h,C=I().filter(k=>!k.disabled),P=document.activeElement,ce=(B=C.find(k=>k.ref.current===P))==null?void 0:B.textValue,le=C.map(k=>k.textValue),ye=ur(le,_,ce),K=(_e=C.find(k=>k.textValue===ye))==null?void 0:_e.ref.current;(function k(Me){J.current=Me,window.clearTimeout(Z.current),Me!==""&&(Z.current=window.setTimeout(()=>k(""),1e3))})(_),K&&setTimeout(()=>K.focus())};c.useEffect(()=>()=>window.clearTimeout(Z.current),[]),Wt();const G=c.useCallback(h=>{var C,P;return Ne.current===((C=oe.current)==null?void 0:C.side)&&xr(h,(P=oe.current)==null?void 0:P.area)},[]);return e.jsx(qn,{scope:r,searchRef:J,onItemEnter:c.useCallback(h=>{G(h)&&h.preventDefault()},[G]),onItemLeave:c.useCallback(h=>{var _;G(h)||((_=q.current)==null||_.focus(),X(null))},[G]),onTriggerLeave:c.useCallback(h=>{G(h)&&h.preventDefault()},[G]),pointerGraceTimerRef:Nt,onPointerGraceIntentChange:c.useCallback(h=>{oe.current=h},[]),children:e.jsx(yt,{..._t,children:e.jsx(Xt,{asChild:!0,trapped:a,onMountAutoFocus:j(o,h=>{var _;h.preventDefault(),(_=q.current)==null||_.focus({preventScroll:!0})}),onUnmountAutoFocus:m,children:e.jsx(Rt,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:x,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:p,onDismiss:v,children:e.jsx(hn,{asChild:!0,...D,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:ae,onCurrentTabStopIdChange:X,onEntryFocus:j(d,h=>{y.isUsingKeyboardRef.current||h.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Pt,{role:"menu","aria-orientation":"vertical","data-state":mt(f.open),"data-radix-menu-content":"",dir:y.dir,...L,...b,ref:wt,style:{outline:"none",...b.style},onKeyDown:j(b.onKeyDown,h=>{const C=h.target.closest("[data-radix-menu-content]")===h.currentTarget,P=h.ctrlKey||h.altKey||h.metaKey,ce=h.key.length===1;C&&(h.key==="Tab"&&h.preventDefault(),!P&&ce&&Mt(h.key));const le=q.current;if(h.target!==le||!Un.includes(h.key))return;h.preventDefault();const K=I().filter(B=>!B.disabled).map(B=>B.ref.current);He.includes(h.key)&&K.reverse(),lr(K)}),onBlur:j(t.onBlur,h=>{h.currentTarget.contains(h.target)||(window.clearTimeout(Z.current),J.current="")}),onPointerMove:j(t.onPointerMove,z(h=>{const _=h.target,C=ie.current!==h.clientX;if(h.currentTarget.contains(_)&&C){const P=h.clientX>ie.current?"right":"left";Ne.current=P,ie.current=h.clientX}}))})})})})})})});qe.displayName=M;var er="MenuGroup",je=c.forwardRef((t,n)=>{const{__scopeMenu:r,...s}=t;return e.jsx(U.div,{role:"group",...s,ref:n})});je.displayName=er;var tr="MenuLabel",Ze=c.forwardRef((t,n)=>{const{__scopeMenu:r,...s}=t;return e.jsx(U.div,{...s,ref:n})});Ze.displayName=tr;var Q="MenuItem",Pe="menu.itemSelect",re=c.forwardRef((t,n)=>{const{disabled:r=!1,onSelect:s,...a}=t,o=c.useRef(null),m=Y(Q,t.__scopeMenu),l=ge(Q,t.__scopeMenu),d=V(n,o),x=c.useRef(!1),u=()=>{const i=o.current;if(!r&&i){const p=new CustomEvent(Pe,{bubbles:!0,cancelable:!0});i.addEventListener(Pe,v=>s==null?void 0:s(v),{once:!0}),qt(i,p),p.defaultPrevented?x.current=!1:m.onClose()}};return e.jsx(Je,{...a,ref:d,disabled:r,onClick:j(t.onClick,u),onPointerDown:i=>{var p;(p=t.onPointerDown)==null||p.call(t,i),x.current=!0},onPointerUp:j(t.onPointerUp,i=>{var p;x.current||(p=i.currentTarget)==null||p.click()}),onKeyDown:j(t.onKeyDown,i=>{const p=l.searchRef.current!=="";r||p&&i.key===" "||pe.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});re.displayName=Q;var Je=c.forwardRef((t,n)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...o}=t,m=ge(Q,r),l=Ve(r),d=c.useRef(null),x=V(n,d),[u,i]=c.useState(!1),[p,v]=c.useState("");return c.useEffect(()=>{const g=d.current;g&&v((g.textContent??"").trim())},[o.children]),e.jsx(H.ItemSlot,{scope:r,disabled:s,textValue:a??p,children:e.jsx(pn,{asChild:!0,...l,focusable:!s,children:e.jsx(U.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:x,onPointerMove:j(t.onPointerMove,z(g=>{s?m.onItemLeave(g):(m.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:j(t.onPointerLeave,z(g=>m.onItemLeave(g))),onFocus:j(t.onFocus,()=>i(!0)),onBlur:j(t.onBlur,()=>i(!1))})})})}),nr="MenuCheckboxItem",Qe=c.forwardRef((t,n)=>{const{checked:r=!1,onCheckedChange:s,...a}=t;return e.jsx(st,{scope:t.__scopeMenu,checked:r,children:e.jsx(re,{role:"menuitemcheckbox","aria-checked":ee(r)?"mixed":r,...a,ref:n,"data-state":we(r),onSelect:j(a.onSelect,()=>s==null?void 0:s(ee(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Qe.displayName=nr;var et="MenuRadioGroup",[rr,sr]=F(et,{value:void 0,onValueChange:()=>{}}),tt=c.forwardRef((t,n)=>{const{value:r,onValueChange:s,...a}=t,o=Ie(s);return e.jsx(rr,{scope:t.__scopeMenu,value:r,onValueChange:o,children:e.jsx(je,{...a,ref:n})})});tt.displayName=et;var nt="MenuRadioItem",rt=c.forwardRef((t,n)=>{const{value:r,...s}=t,a=sr(nt,t.__scopeMenu),o=r===a.value;return e.jsx(st,{scope:t.__scopeMenu,checked:o,children:e.jsx(re,{role:"menuitemradio","aria-checked":o,...s,ref:n,"data-state":we(o),onSelect:j(s.onSelect,()=>{var m;return(m=a.onValueChange)==null?void 0:m.call(a,r)},{checkForDefaultPrevented:!1})})})});rt.displayName=nt;var be="MenuItemIndicator",[st,ar]=F(be,{checked:!1}),at=c.forwardRef((t,n)=>{const{__scopeMenu:r,forceMount:s,...a}=t,o=ar(be,r);return e.jsx(te,{present:s||ee(o.checked)||o.checked===!0,children:e.jsx(U.span,{...a,ref:n,"data-state":we(o.checked)})})});at.displayName=be;var or="MenuSeparator",ot=c.forwardRef((t,n)=>{const{__scopeMenu:r,...s}=t;return e.jsx(U.div,{role:"separator","aria-orientation":"horizontal",...s,ref:n})});ot.displayName=or;var ir="MenuArrow",it=c.forwardRef((t,n)=>{const{__scopeMenu:r,...s}=t,a=ne(r);return e.jsx(Et,{...a,...s,ref:n})});it.displayName=ir;var cr="MenuSub",[ks,ct]=F(cr),$="MenuSubTrigger",lt=c.forwardRef((t,n)=>{const r=O($,t.__scopeMenu),s=Y($,t.__scopeMenu),a=ct($,t.__scopeMenu),o=ge($,t.__scopeMenu),m=c.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=o,x={__scopeMenu:t.__scopeMenu},u=c.useCallback(()=>{m.current&&window.clearTimeout(m.current),m.current=null},[]);return c.useEffect(()=>u,[u]),c.useEffect(()=>{const i=l.current;return()=>{window.clearTimeout(i),d(null)}},[l,d]),e.jsx(he,{asChild:!0,...x,children:e.jsx(Je,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":mt(r.open),...t,ref:Fe(n,a.onTriggerChange),onClick:i=>{var p;(p=t.onClick)==null||p.call(t,i),!(t.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:j(t.onPointerMove,z(i=>{o.onItemEnter(i),!i.defaultPrevented&&!t.disabled&&!r.open&&!m.current&&(o.onPointerGraceIntentChange(null),m.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:j(t.onPointerLeave,z(i=>{var v,g;u();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const b=(g=r.content)==null?void 0:g.dataset.side,f=b==="right",y=f?-5:5,L=p[f?"left":"right"],D=p[f?"right":"left"];o.onPointerGraceIntentChange({area:[{x:i.clientX+y,y:i.clientY},{x:L,y:p.top},{x:D,y:p.top},{x:D,y:p.bottom},{x:L,y:p.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(i),i.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:j(t.onKeyDown,i=>{var v;const p=o.searchRef.current!=="";t.disabled||p&&i.key===" "||Kn[s.dir].includes(i.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),i.preventDefault())})})})});lt.displayName=$;var dt="MenuSubContent",ut=c.forwardRef((t,n)=>{const r=Ye(M,t.__scopeMenu),{forceMount:s=r.forceMount,...a}=t,o=O(M,t.__scopeMenu),m=Y(M,t.__scopeMenu),l=ct(dt,t.__scopeMenu),d=c.useRef(null),x=V(n,d);return e.jsx(H.Provider,{scope:t.__scopeMenu,children:e.jsx(te,{present:s||o.open,children:e.jsx(H.Slot,{scope:t.__scopeMenu,children:e.jsx(ve,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:x,align:"start",side:m.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var i;m.isUsingKeyboardRef.current&&((i=d.current)==null||i.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:j(t.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:j(t.onEscapeKeyDown,u=>{m.onClose(),u.preventDefault()}),onKeyDown:j(t.onKeyDown,u=>{var v;const i=u.currentTarget.contains(u.target),p=$n[m.dir].includes(u.key);i&&p&&(o.onOpenChange(!1),(v=l.trigger)==null||v.focus(),u.preventDefault())})})})})})});ut.displayName=dt;function mt(t){return t?"open":"closed"}function ee(t){return t==="indeterminate"}function we(t){return ee(t)?"indeterminate":t?"checked":"unchecked"}function lr(t){const n=document.activeElement;for(const r of t)if(r===n||(r.focus(),document.activeElement!==n))return}function dr(t,n){return t.map((r,s)=>t[(n+s)%t.length])}function ur(t,n,r){const a=n.length>1&&Array.from(n).every(x=>x===n[0])?n[0]:n,o=r?t.indexOf(r):-1;let m=dr(t,Math.max(o,0));a.length===1&&(m=m.filter(x=>x!==r));const d=m.find(x=>x.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function mr(t,n){const{x:r,y:s}=t;let a=!1;for(let o=0,m=n.length-1;o<n.length;m=o++){const l=n[o],d=n[m],x=l.x,u=l.y,i=d.x,p=d.y;u>s!=p>s&&r<(i-x)*(s-u)/(p-u)+x&&(a=!a)}return a}function xr(t,n){if(!n)return!1;const r={x:t.clientX,y:t.clientY};return mr(r,n)}function z(t){return n=>n.pointerType==="mouse"?t(n):void 0}var pr=We,hr=he,fr=Xe,gr=qe,vr=je,jr=Ze,br=re,wr=Qe,Nr=tt,yr=rt,_r=at,Mr=ot,Cr=it,Sr=lt,Dr=ut,se="DropdownMenu",[kr,Rs]=Ke(se,[ze]),w=ze(),[Rr,xt]=kr(se),pt=t=>{const{__scopeDropdownMenu:n,children:r,dir:s,open:a,defaultOpen:o,onOpenChange:m,modal:l=!0}=t,d=w(n),x=c.useRef(null),[u,i]=un({prop:a,defaultProp:o??!1,onChange:m,caller:se});return e.jsx(Rr,{scope:n,triggerId:Se(),triggerRef:x,contentId:Se(),open:u,onOpenChange:i,onOpenToggle:c.useCallback(()=>i(p=>!p),[i]),modal:l,children:e.jsx(pr,{...d,open:u,onOpenChange:i,dir:s,modal:l,children:r})})};pt.displayName=se;var ht="DropdownMenuTrigger",ft=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=t,o=xt(ht,r),m=w(r);return e.jsx(hr,{asChild:!0,...m,children:e.jsx(U.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Fe(n,o.triggerRef),onPointerDown:j(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:j(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ft.displayName=ht;var Pr="DropdownMenuPortal",gt=t=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(fr,{...s,...r})};gt.displayName=Pr;var vt="DropdownMenuContent",jt=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=xt(vt,r),o=w(r),m=c.useRef(!1);return e.jsx(gr,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...s,ref:n,onCloseAutoFocus:j(t.onCloseAutoFocus,l=>{var d;m.current||(d=a.triggerRef.current)==null||d.focus(),m.current=!1,l.preventDefault()}),onInteractOutside:j(t.onInteractOutside,l=>{const d=l.detail.originalEvent,x=d.button===0&&d.ctrlKey===!0,u=d.button===2||x;(!a.modal||u)&&(m.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jt.displayName=vt;var Er="DropdownMenuGroup",Tr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(vr,{...a,...s,ref:n})});Tr.displayName=Er;var Ir="DropdownMenuLabel",Ar=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(jr,{...a,...s,ref:n})});Ar.displayName=Ir;var Fr="DropdownMenuItem",bt=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(br,{...a,...s,ref:n})});bt.displayName=Fr;var Or="DropdownMenuCheckboxItem",Lr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(wr,{...a,...s,ref:n})});Lr.displayName=Or;var Gr="DropdownMenuRadioGroup",Br=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(Nr,{...a,...s,ref:n})});Br.displayName=Gr;var Ur="DropdownMenuRadioItem",Kr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(yr,{...a,...s,ref:n})});Kr.displayName=Ur;var $r="DropdownMenuItemIndicator",Hr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(_r,{...a,...s,ref:n})});Hr.displayName=$r;var zr="DropdownMenuSeparator",Vr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(Mr,{...a,...s,ref:n})});Vr.displayName=zr;var Wr="DropdownMenuArrow",Yr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(Cr,{...a,...s,ref:n})});Yr.displayName=Wr;var Xr="DropdownMenuSubTrigger",qr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(Sr,{...a,...s,ref:n})});qr.displayName=Xr;var Zr="DropdownMenuSubContent",Jr=c.forwardRef((t,n)=>{const{__scopeDropdownMenu:r,...s}=t,a=w(r);return e.jsx(Dr,{...a,...s,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jr.displayName=Zr;var Qr=pt,es=ft,ts=gt,ns=jt,rs=bt;function ss({...t}){return e.jsx(Qr,{"data-slot":"dropdown-menu",...t})}function as({...t}){return e.jsx(es,{"data-slot":"dropdown-menu-trigger",...t})}function os({className:t,sideOffset:n=4,...r}){return e.jsx(ts,{children:e.jsx(ns,{"data-slot":"dropdown-menu-content",sideOffset:n,className:A("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",t),...r})})}function Ee({className:t,inset:n,variant:r="default",...s}){return e.jsx(rs,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:A("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function is({tags:t=[]}){const[n,r]=c.useState(!1),[s,a]=c.useState(!1),[o,m]=c.useState(null),[l,d]=c.useState(null),x=ue({name:""}),u=ue({name:""});function i(f){f.preventDefault(),x.data.name.trim()&&x.post(route("bank-transfer-tags.store"),{preserveScroll:!0,onSuccess:()=>{x.reset(),a(!1)}})}function p(f,y){f.preventDefault(),u.data.name.trim()&&u.put(route("bank-transfer-tags.update",y),{preserveScroll:!0,onSuccess:()=>{u.reset(),m(null)}})}function v(f){m(f.id),u.setData("name",f.name)}function g(){m(null),u.reset(),u.clearErrors()}function b(){l&&me.delete(route("bank-transfer-tags.destroy",l.id),{preserveScroll:!0,onSuccess:()=>d(null)})}return e.jsxs(e.Fragment,{children:[e.jsxs(Dn,{open:n,onOpenChange:r,children:[e.jsx(kn,{asChild:!0,children:e.jsxs(N,{variant:"outline",className:"gap-2",children:[e.jsx(Re,{className:"h-4 w-4"}),"Manage Tags"]})}),e.jsxs(En,{className:"flex flex-col",children:[e.jsxs(Tn,{className:"px-2",children:[e.jsx(In,{children:"Manage Tags"}),e.jsx(An,{children:"Create, edit, and organize your transfer categories."})]}),e.jsxs("div",{className:"flex-1 overflow-hidden px-2",children:[e.jsx("div",{className:"mb-4",children:s?e.jsxs("form",{onSubmit:i,className:"space-y-2",children:[e.jsx(T,{placeholder:"Enter tag name...",value:x.data.name,onChange:f=>x.setData("name",f.target.value),className:x.errors.name?"border-red-500":"",autoFocus:!0}),x.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:x.errors.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{type:"submit",size:"sm",disabled:!x.data.name.trim()||x.processing,children:[e.jsx(De,{className:"mr-1 h-4 w-4"}),"Save"]}),e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(!1),x.reset(),x.clearErrors()},children:[e.jsx(xe,{className:"mr-1 h-4 w-4"}),"Cancel"]})]})]}):e.jsxs(N,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>a(!0),children:[e.jsx(ke,{className:"h-4 w-4"}),"Add New Tag"]})}),e.jsx("div",{className:"h-full overflow-y-auto pb-16 pr-2",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:e.jsx(Re,{className:"h-6 w-6 text-gray-400"})}),e.jsx("h3",{className:"mb-1 text-sm font-medium text-gray-900",children:"No tags yet"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"Create your first tag to categorize your bank transfers."}),e.jsxs(N,{size:"sm",onClick:()=>a(!0),children:[e.jsx(ke,{className:"mr-1 h-4 w-4"}),"Create Tag"]})]}):e.jsx("div",{className:"space-y-2",children:t.map(f=>e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-white p-3 transition-colors hover:bg-gray-50",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-blue-600",children:e.jsx("span",{className:"text-sm font-bold text-white",children:f.name.charAt(0).toUpperCase()})}),e.jsx("div",{className:"min-w-0 flex-1",children:o===f.id?e.jsxs("form",{onSubmit:y=>p(y,f.id),className:"space-y-2",children:[e.jsx(T,{value:u.data.name,onChange:y=>u.setData("name",y.target.value),className:`h-8 ${u.errors.name?"border-red-500":""}`,autoFocus:!0}),u.errors.name&&e.jsx("p",{className:"text-xs text-red-500",children:u.errors.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(N,{type:"submit",size:"sm",className:"h-7 px-2",disabled:!u.data.name.trim()||u.processing||u.data.name===f.name,children:e.jsx(De,{className:"h-3 w-3"})}),e.jsx(N,{type:"button",variant:"outline",size:"sm",className:"h-7 px-2",onClick:g,children:e.jsx(xe,{className:"h-3 w-3"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:f.name}),e.jsxs(dn,{variant:"secondary",className:"mt-1",children:[f.bank_transfers_count||0," transfer",(f.bank_transfers_count||0)!==1?"s":""]})]})}),o!==f.id&&e.jsxs(ss,{children:[e.jsx(as,{asChild:!0,children:e.jsxs(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[e.jsx(Cn,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(os,{align:"end",children:[e.jsxs(Ee,{onClick:()=>v(f),children:[e.jsx(_n,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(Ee,{onClick:()=>d(f),className:"text-red-600 focus:text-red-600",children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},f.id))})})]})]})]}),e.jsx(fn,{open:!!l,onOpenChange:f=>!f&&d(null),children:e.jsxs(gn,{children:[e.jsxs(vn,{children:[e.jsx(jn,{children:"Delete Tag"}),e.jsx(bn,{children:(l==null?void 0:l.bank_transfers_count)>0?e.jsxs(e.Fragment,{children:["Are you sure you want to delete ",e.jsxs("strong",{children:['"',l==null?void 0:l.name,'"']}),"?",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("span",{className:"text-amber-600",children:["This tag is used by ",l==null?void 0:l.bank_transfers_count," transfer",(l==null?void 0:l.bank_transfers_count)!==1?"s":"",". Those transfers will become untagged."]})]}):e.jsxs(e.Fragment,{children:["Are you sure you want to delete ",e.jsxs("strong",{children:['"',l==null?void 0:l.name,'"']}),"?",e.jsx("br",{}),e.jsx("br",{}),"This action cannot be undone."]})})]}),e.jsxs(wn,{children:[e.jsx(Nn,{children:"Cancel"}),e.jsx(yn,{onClick:b,className:"bg-red-600 hover:bg-red-700",children:"Delete Tag"})]})]})})]})}function Ps({bank_transfers:t=[],tags:n=[],last_balance:r=0,start_date:s="",end_date:a="",statistics:o=null}){const[m,l]=c.useState(!1),[d,x]=c.useState(null),u=new Date,i=new Date(u.getFullYear(),u.getMonth(),1).toISOString().slice(0,10),p=new Date(u.getFullYear(),u.getMonth()+1,0).toISOString().slice(0,10),[v,g]=c.useState(s||i),[b,f]=c.useState(a||p),y=(D,I)=>{const ae=I==="start"?D:v,X=I==="end"?D:b;I==="start"&&g(D),I==="end"&&f(D),me.get(route("bank-transfers.index"),{start_date:ae,end_date:X,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})};function L(){d&&me.delete(route("bank-transfers.destroy",d),{method:"delete",preserveScroll:!0,preserveState:!1,onSuccess:()=>x(null)})}return e.jsx(Tt,{breadcrumbs:[{title:"Bank Transfers",href:"/bank-transfers"}],children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Bank Transfers"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(is,{tags:n}),e.jsx(On,{tags:n,lastBalance:r,isOpen:m,setIsOpen:l})]})]}),e.jsx(It,{startDate:v,endDate:b,onChange:y}),e.jsx(Fn,{statistics:o,startDate:v,endDate:b}),e.jsx(Ln,{bankTransfers:t,onDeleteClick:x}),e.jsx(Gn,{isOpen:!!d,onClose:()=>x(null),onConfirm:L})]})})}export{Ps as default};
