import{r as V,j as a,c as mr,a as Ia,L as Ta,u as Cg}from"./app-b5TH7qpi.js";import{c as Oa,F as Xe}from"./createLucideIcon-BnPWQZze.js";import{C as Sr,a as Cr,b as Nr,c as Ir}from"./card-CMTpUMmk.js";import{R as Ng,A as Ig}from"./app-layout-Bphx-8Do.js";import{I as Tg}from"./InputError-BNKUSqbc.js";import{D as Rg,b as Eg,c as Lg,d as Og,f as jg}from"./dialog-DzsChp15.js";import{I as pn}from"./input-B3-hhHl4.js";import{S as wr,a as br,b as Ar,c as yr,d as Dn}from"./select-BmvOVhMb.js";import{B as Ra}from"./badge-BmgJJaNI.js";import{T as Fg,a as Dg,b as Ea,c as He,d as Pg,e as Ge}from"./table-BJwssc4R.js";import{D as Wg}from"./DateRangePicker-G2GbD83x.js";import"./index-BWs0ykPz.js";import"./index-CL-Jzw5W.js";import"./index-DnFNt8Qi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ja=Oa("Printer",Bg);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ug=Oa("Search",Mg);function Hg({open:W,onClose:ee,products:l,customers:Ee,form:b,items:G,setItems:X,amountPaid:he,setAmountPaid:ae,dueDate:ye,setDueDate:Le,paymentType:E,setPaymentType:ke,runningTotal:U}){V.useEffect(()=>{b.setData("items",G)},[G]),V.useEffect(()=>{b.setData("amount_paid",he)},[he]),V.useEffect(()=>{b.setData("due_date",ye)},[ye]),V.useEffect(()=>{b.setData("payment_type",E)},[E]);const le=m=>l.find(L=>String(L.id)===String(m))||null,xe=(m,L,de)=>{const ve=G.map((z,Qn)=>{if(Qn!==m)return z;let fe={...z,[L]:de};const Ct=le(fe.product_id);if(!Ct)return fe;const Vn=Ct.lines_per_carton||1;let et=0;if(Vn>1){const Cn=parseInt(fe.cartons)||0,nt=parseInt(fe.lines)||0;et=Cn*Vn+nt;const tn=(parseFloat(fe.unit_selling_price)||0)/Vn;fe.qty=et,fe.total=(tn*et).toFixed(2)}else{const Cn=parseInt(fe.qty)||0,nt=parseFloat(fe.unit_selling_price)||0;fe.qty=Cn,fe.total=(nt*Cn).toFixed(2),fe.cartons=void 0,fe.lines=void 0}return fe});X(ve)},ie=()=>{X([...G,{product_id:"",qty:"",unit_selling_price:"",total:"",cartons:0,lines:0}])},Oe=m=>{G.length!==1&&X(G.filter((L,de)=>de!==m))},Je=m=>{ae(m),E==="partial"&&(parseFloat(m)<=0||parseFloat(m)>=U?b.setError("amount_paid","For partial payments, the amount paid must be greater than 0 and less than the total."):b.setError("amount_paid",void 0))},N=m=>{ke(m),m==="credit"?(ae("0"),b.setError("amount_paid",void 0),b.data.customer_id||b.setData("customer_name","")):m==="cash"?(ae(U.toString()),b.setError("amount_paid",void 0)):m==="partial"&&(ae(""),b.setError("amount_paid",void 0),b.data.customer_id||b.setData("customer_name",""))};return a.jsx(Rg,{open:W,onOpenChange:ee,children:a.jsxs(Eg,{children:[a.jsx(Lg,{children:a.jsx(Og,{children:"Add Sales Transaction"})}),a.jsxs("form",{onSubmit:m=>{if(m.preventDefault(),E==="cash"&&parseFloat(he)!==U){b.setError("amount_paid","For cash payments, the amount paid must equal the total.");return}if(E==="credit"&&parseFloat(he)!==0){b.setError("amount_paid","For credit sales, the amount paid must be 0.");return}if(E==="partial"&&(parseFloat(he)<=0||parseFloat(he)>=U)){b.setError("amount_paid","For partial payments, the amount paid must be greater than 0 and less than the total.");return}b.post("/sales-transactions",{onSuccess:()=>ee()})},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"mb-1 block font-medium",children:["Transaction Date",a.jsx(pn,{type:"date",value:b.data.transaction_date,onChange:m=>b.setData("transaction_date",m.target.value),required:!0})]}),b.errors.transaction_date&&a.jsx("div",{className:"mt-1 text-xs text-red-500",children:b.errors.transaction_date})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"mb-1 block font-medium",children:["Customer ",(E==="credit"||E==="partial")&&a.jsx("span",{className:"text-red-500",children:"*"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(wr,{value:b.data.customer_id?String(b.data.customer_id):"none",onValueChange:m=>{m==="none"?b.setData("customer_id",null):(b.setData("customer_id",m),b.setData("customer_name",""))},children:[a.jsx(br,{className:E==="credit"||E==="partial"?"border-orange-500":"",children:a.jsx(Ar,{placeholder:"Select customer"})}),a.jsxs(yr,{children:[E==="cash"&&a.jsx(Dn,{value:"none",children:"-- No customer selected --"}),Ee.map(m=>a.jsx(Dn,{value:String(m.id),children:m.name},m.id))]})]}),!b.data.customer_id&&E==="cash"&&a.jsx(pn,{type:"text",placeholder:"Or enter customer name",value:b.data.customer_name,onChange:m=>b.setData("customer_name",m.target.value)})]})]}),(E==="credit"||E==="partial")&&!b.data.customer_id&&a.jsx("div",{className:"mt-2 rounded-md bg-orange-50 p-3 border border-orange-200",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-orange-800",children:"Registered Customer Required"}),a.jsx("div",{className:"mt-1 text-xs text-orange-700",children:"Credit and partial sales require selecting a registered customer to track who owes money."})]})]})}),b.errors.customer_id&&a.jsx("div",{className:"mt-1 text-xs text-red-500",children:b.errors.customer_id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block font-medium",children:"Items"}),a.jsxs("div",{className:"max-h-64 space-y-2 overflow-y-auto",children:[G.map((m,L)=>{const de=le(m.product_id),ve=(de==null?void 0:de.lines_per_carton)||1;return a.jsxs("div",{className:"grid w-full grid-cols-4 items-end gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsxs(wr,{value:m.product_id,onValueChange:z=>xe(L,"product_id",z),children:[a.jsx(br,{children:a.jsx(Ar,{placeholder:"Product"})}),a.jsx(yr,{children:l.map(z=>a.jsx(Dn,{value:String(z.id),children:z.name},z.id))})]})}),ve>1?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"",children:a.jsx(pn,{type:"number",min:"0",placeholder:"Cartons",value:m.cartons||"",onChange:z=>xe(L,"cartons",z.target.value)})}),a.jsx("div",{className:"",children:a.jsxs(wr,{value:m.lines!==void 0?String(m.lines):"",onValueChange:z=>xe(L,"lines",z),children:[a.jsx(br,{children:a.jsx(Ar,{placeholder:"Lines"})}),a.jsx(yr,{children:[...Array(ve).keys()].map(z=>a.jsx(Dn,{value:String(z+1),children:z+1},z+1))})]})})]}):a.jsx("div",{className:"",children:a.jsx(pn,{type:"number",min:"1",placeholder:"Qty",value:m.qty||"",onChange:z=>xe(L,"qty",z.target.value)})}),a.jsx("div",{className:"",children:a.jsx(pn,{type:"number",min:"0",step:"0.01",placeholder:"Unit Price",value:m.unit_selling_price||"",onChange:z=>xe(L,"unit_selling_price",z.target.value)})}),a.jsx("div",{className:"",children:a.jsx(pn,{type:"number",min:"0",step:"0.01",placeholder:"Total",value:m.total||"",readOnly:!0})}),a.jsx(Xe,{type:"button",variant:"destructive",size:"sm",className:"text-white",onClick:()=>Oe(L),disabled:G.length===1,children:"Remove"})]},L)}),a.jsx(Xe,{type:"button",variant:"outline",size:"sm",onClick:ie,children:"Add Item"})]}),b.errors.items&&a.jsx("div",{className:"mt-1 text-xs text-red-500",children:b.errors.items})]}),a.jsxs("div",{className:"text-lg font-bold",children:["Total: GH₵",U.toFixed(2)]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"mb-1 block font-medium",children:"Payment Type"}),a.jsxs(wr,{value:E,onValueChange:N,children:[a.jsx(br,{children:a.jsx(Ar,{placeholder:"Select payment type"})}),a.jsxs(yr,{children:[a.jsx(Dn,{value:"cash",children:"Cash"}),a.jsx(Dn,{value:"credit",children:"Credit"}),a.jsx(Dn,{value:"partial",children:"Partial"})]})]}),b.errors.payment_type&&a.jsx("div",{className:"mt-1 text-xs text-red-500",children:b.errors.payment_type})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"mb-1 block font-medium",children:"Amount Paid"}),a.jsx(pn,{type:"number",min:E==="partial"?1:0,max:E==="partial"?U-1:U,step:"0.01",value:he,onChange:m=>Je(m.target.value),disabled:E==="credit"||E==="cash"}),b.errors.amount_paid&&a.jsx(Tg,{message:b.errors.amount_paid,className:"mt-2"})]}),E!=="cash"&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"mb-1 block font-medium",children:"Due Date"}),a.jsx(pn,{type:"date",value:ye,onChange:m=>Le(m.target.value)}),b.errors.due_date&&a.jsx("div",{className:"mt-1 text-xs text-red-500",children:b.errors.due_date})]})]}),a.jsxs(jg,{children:[a.jsx(Xe,{type:"button",variant:"secondary",onClick:ee,children:"Cancel"}),a.jsx(Xe,{type:"submit",children:b.processing?"Saving..":"Save"})]})]})]})})}var St={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Gg=St.exports,La;function qg(){return La||(La=1,(function(W,ee){(function(){var l,Ee="4.17.21",b=200,G="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",X="Expected a function",he="Invalid `variable` option passed into `_.template`",ae="__lodash_hash_undefined__",ye=500,Le="__lodash_placeholder__",E=1,ke=2,U=4,le=1,xe=2,ie=1,Oe=2,Je=4,N=8,m=16,L=32,de=64,ve=128,z=256,Qn=512,fe=30,Ct="...",Vn=800,et=16,Cn=1,nt=2,Xi=3,tn=1/0,gn=9007199254740991,Fa=17976931348623157e292,Nt=NaN,Qe=4294967295,Da=Qe-1,Pa=Qe>>>1,Wa=[["ary",ve],["bind",ie],["bindKey",Oe],["curry",N],["curryRight",m],["flip",Qn],["partial",L],["partialRight",de],["rearg",z]],Pn="[object Arguments]",It="[object Array]",Ba="[object AsyncFunction]",tt="[object Boolean]",rt="[object Date]",Ma="[object DOMException]",Tt="[object Error]",Rt="[object Function]",ki="[object GeneratorFunction]",qe="[object Map]",it="[object Number]",Ua="[object Null]",rn="[object Object]",Ji="[object Promise]",Ha="[object Proxy]",ut="[object RegExp]",ze="[object Set]",st="[object String]",Et="[object Symbol]",Ga="[object Undefined]",at="[object WeakMap]",qa="[object WeakSet]",lt="[object ArrayBuffer]",Wn="[object DataView]",Tr="[object Float32Array]",Rr="[object Float64Array]",Er="[object Int8Array]",Lr="[object Int16Array]",Or="[object Int32Array]",jr="[object Uint8Array]",Fr="[object Uint8ClampedArray]",Dr="[object Uint16Array]",Pr="[object Uint32Array]",za=/\b__p \+= '';/g,$a=/\b(__p \+=) '' \+/g,Ka=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qi=/&(?:amp|lt|gt|quot|#39);/g,Vi=/[&<>"']/g,Ya=RegExp(Qi.source),Za=RegExp(Vi.source),Xa=/<%-([\s\S]+?)%>/g,ka=/<%([\s\S]+?)%>/g,eu=/<%=([\s\S]+?)%>/g,Ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qa=/^\w*$/,Va=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wr=/[\\^$.*+?()[\]{}|]/g,el=RegExp(Wr.source),Br=/^\s+/,nl=/\s/,tl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rl=/\{\n\/\* \[wrapped with (.+)\] \*/,il=/,? & /,ul=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sl=/[()=,{}\[\]\/\s]/,al=/\\(\\)?/g,ll=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nu=/\w*$/,fl=/^[-+]0x[0-9a-f]+$/i,ol=/^0b[01]+$/i,cl=/^\[object .+?Constructor\]$/,hl=/^0o[0-7]+$/i,dl=/^(?:0|[1-9]\d*)$/,pl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lt=/($^)/,gl=/['\n\r\u2028\u2029\\]/g,Ot="\\ud800-\\udfff",_l="\\u0300-\\u036f",xl="\\ufe20-\\ufe2f",vl="\\u20d0-\\u20ff",tu=_l+xl+vl,ru="\\u2700-\\u27bf",iu="a-z\\xdf-\\xf6\\xf8-\\xff",ml="\\xac\\xb1\\xd7\\xf7",wl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bl="\\u2000-\\u206f",Al=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uu="A-Z\\xc0-\\xd6\\xd8-\\xde",su="\\ufe0e\\ufe0f",au=ml+wl+bl+Al,Mr="['’]",yl="["+Ot+"]",lu="["+au+"]",jt="["+tu+"]",fu="\\d+",Sl="["+ru+"]",ou="["+iu+"]",cu="[^"+Ot+au+fu+ru+iu+uu+"]",Ur="\\ud83c[\\udffb-\\udfff]",Cl="(?:"+jt+"|"+Ur+")",hu="[^"+Ot+"]",Hr="(?:\\ud83c[\\udde6-\\uddff]){2}",Gr="[\\ud800-\\udbff][\\udc00-\\udfff]",Bn="["+uu+"]",du="\\u200d",pu="(?:"+ou+"|"+cu+")",Nl="(?:"+Bn+"|"+cu+")",gu="(?:"+Mr+"(?:d|ll|m|re|s|t|ve))?",_u="(?:"+Mr+"(?:D|LL|M|RE|S|T|VE))?",xu=Cl+"?",vu="["+su+"]?",Il="(?:"+du+"(?:"+[hu,Hr,Gr].join("|")+")"+vu+xu+")*",Tl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mu=vu+xu+Il,El="(?:"+[Sl,Hr,Gr].join("|")+")"+mu,Ll="(?:"+[hu+jt+"?",jt,Hr,Gr,yl].join("|")+")",Ol=RegExp(Mr,"g"),jl=RegExp(jt,"g"),qr=RegExp(Ur+"(?="+Ur+")|"+Ll+mu,"g"),Fl=RegExp([Bn+"?"+ou+"+"+gu+"(?="+[lu,Bn,"$"].join("|")+")",Nl+"+"+_u+"(?="+[lu,Bn+pu,"$"].join("|")+")",Bn+"?"+pu+"+"+gu,Bn+"+"+_u,Rl,Tl,fu,El].join("|"),"g"),Dl=RegExp("["+du+Ot+tu+su+"]"),Pl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bl=-1,K={};K[Tr]=K[Rr]=K[Er]=K[Lr]=K[Or]=K[jr]=K[Fr]=K[Dr]=K[Pr]=!0,K[Pn]=K[It]=K[lt]=K[tt]=K[Wn]=K[rt]=K[Tt]=K[Rt]=K[qe]=K[it]=K[rn]=K[ut]=K[ze]=K[st]=K[at]=!1;var $={};$[Pn]=$[It]=$[lt]=$[Wn]=$[tt]=$[rt]=$[Tr]=$[Rr]=$[Er]=$[Lr]=$[Or]=$[qe]=$[it]=$[rn]=$[ut]=$[ze]=$[st]=$[Et]=$[jr]=$[Fr]=$[Dr]=$[Pr]=!0,$[Tt]=$[Rt]=$[at]=!1;var Ml={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ul={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ql=parseFloat,zl=parseInt,wu=typeof mr=="object"&&mr&&mr.Object===Object&&mr,$l=typeof self=="object"&&self&&self.Object===Object&&self,ue=wu||$l||Function("return this")(),zr=ee&&!ee.nodeType&&ee,Nn=zr&&!0&&W&&!W.nodeType&&W,bu=Nn&&Nn.exports===zr,$r=bu&&wu.process,je=(function(){try{var c=Nn&&Nn.require&&Nn.require("util").types;return c||$r&&$r.binding&&$r.binding("util")}catch{}})(),Au=je&&je.isArrayBuffer,yu=je&&je.isDate,Su=je&&je.isMap,Cu=je&&je.isRegExp,Nu=je&&je.isSet,Iu=je&&je.isTypedArray;function Se(c,p,d){switch(d.length){case 0:return c.call(p);case 1:return c.call(p,d[0]);case 2:return c.call(p,d[0],d[1]);case 3:return c.call(p,d[0],d[1],d[2])}return c.apply(p,d)}function Kl(c,p,d,w){for(var I=-1,B=c==null?0:c.length;++I<B;){var ne=c[I];p(w,ne,d(ne),c)}return w}function Fe(c,p){for(var d=-1,w=c==null?0:c.length;++d<w&&p(c[d],d,c)!==!1;);return c}function Yl(c,p){for(var d=c==null?0:c.length;d--&&p(c[d],d,c)!==!1;);return c}function Tu(c,p){for(var d=-1,w=c==null?0:c.length;++d<w;)if(!p(c[d],d,c))return!1;return!0}function _n(c,p){for(var d=-1,w=c==null?0:c.length,I=0,B=[];++d<w;){var ne=c[d];p(ne,d,c)&&(B[I++]=ne)}return B}function Ft(c,p){var d=c==null?0:c.length;return!!d&&Mn(c,p,0)>-1}function Kr(c,p,d){for(var w=-1,I=c==null?0:c.length;++w<I;)if(d(p,c[w]))return!0;return!1}function Y(c,p){for(var d=-1,w=c==null?0:c.length,I=Array(w);++d<w;)I[d]=p(c[d],d,c);return I}function xn(c,p){for(var d=-1,w=p.length,I=c.length;++d<w;)c[I+d]=p[d];return c}function Yr(c,p,d,w){var I=-1,B=c==null?0:c.length;for(w&&B&&(d=c[++I]);++I<B;)d=p(d,c[I],I,c);return d}function Zl(c,p,d,w){var I=c==null?0:c.length;for(w&&I&&(d=c[--I]);I--;)d=p(d,c[I],I,c);return d}function Zr(c,p){for(var d=-1,w=c==null?0:c.length;++d<w;)if(p(c[d],d,c))return!0;return!1}var Xl=Xr("length");function kl(c){return c.split("")}function Jl(c){return c.match(ul)||[]}function Ru(c,p,d){var w;return d(c,function(I,B,ne){if(p(I,B,ne))return w=B,!1}),w}function Dt(c,p,d,w){for(var I=c.length,B=d+(w?1:-1);w?B--:++B<I;)if(p(c[B],B,c))return B;return-1}function Mn(c,p,d){return p===p?of(c,p,d):Dt(c,Eu,d)}function Ql(c,p,d,w){for(var I=d-1,B=c.length;++I<B;)if(w(c[I],p))return I;return-1}function Eu(c){return c!==c}function Lu(c,p){var d=c==null?0:c.length;return d?Jr(c,p)/d:Nt}function Xr(c){return function(p){return p==null?l:p[c]}}function kr(c){return function(p){return c==null?l:c[p]}}function Ou(c,p,d,w,I){return I(c,function(B,ne,q){d=w?(w=!1,B):p(d,B,ne,q)}),d}function Vl(c,p){var d=c.length;for(c.sort(p);d--;)c[d]=c[d].value;return c}function Jr(c,p){for(var d,w=-1,I=c.length;++w<I;){var B=p(c[w]);B!==l&&(d=d===l?B:d+B)}return d}function Qr(c,p){for(var d=-1,w=Array(c);++d<c;)w[d]=p(d);return w}function ef(c,p){return Y(p,function(d){return[d,c[d]]})}function ju(c){return c&&c.slice(0,Wu(c)+1).replace(Br,"")}function Ce(c){return function(p){return c(p)}}function Vr(c,p){return Y(p,function(d){return c[d]})}function ft(c,p){return c.has(p)}function Fu(c,p){for(var d=-1,w=c.length;++d<w&&Mn(p,c[d],0)>-1;);return d}function Du(c,p){for(var d=c.length;d--&&Mn(p,c[d],0)>-1;);return d}function nf(c,p){for(var d=c.length,w=0;d--;)c[d]===p&&++w;return w}var tf=kr(Ml),rf=kr(Ul);function uf(c){return"\\"+Gl[c]}function sf(c,p){return c==null?l:c[p]}function Un(c){return Dl.test(c)}function af(c){return Pl.test(c)}function lf(c){for(var p,d=[];!(p=c.next()).done;)d.push(p.value);return d}function ei(c){var p=-1,d=Array(c.size);return c.forEach(function(w,I){d[++p]=[I,w]}),d}function Pu(c,p){return function(d){return c(p(d))}}function vn(c,p){for(var d=-1,w=c.length,I=0,B=[];++d<w;){var ne=c[d];(ne===p||ne===Le)&&(c[d]=Le,B[I++]=d)}return B}function Pt(c){var p=-1,d=Array(c.size);return c.forEach(function(w){d[++p]=w}),d}function ff(c){var p=-1,d=Array(c.size);return c.forEach(function(w){d[++p]=[w,w]}),d}function of(c,p,d){for(var w=d-1,I=c.length;++w<I;)if(c[w]===p)return w;return-1}function cf(c,p,d){for(var w=d+1;w--;)if(c[w]===p)return w;return w}function Hn(c){return Un(c)?df(c):Xl(c)}function $e(c){return Un(c)?pf(c):kl(c)}function Wu(c){for(var p=c.length;p--&&nl.test(c.charAt(p)););return p}var hf=kr(Hl);function df(c){for(var p=qr.lastIndex=0;qr.test(c);)++p;return p}function pf(c){return c.match(qr)||[]}function gf(c){return c.match(Fl)||[]}var _f=(function c(p){p=p==null?ue:Gn.defaults(ue.Object(),p,Gn.pick(ue,Wl));var d=p.Array,w=p.Date,I=p.Error,B=p.Function,ne=p.Math,q=p.Object,ni=p.RegExp,xf=p.String,De=p.TypeError,Wt=d.prototype,vf=B.prototype,qn=q.prototype,Bt=p["__core-js_shared__"],Mt=vf.toString,H=qn.hasOwnProperty,mf=0,Bu=(function(){var e=/[^.]+$/.exec(Bt&&Bt.keys&&Bt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),Ut=qn.toString,wf=Mt.call(q),bf=ue._,Af=ni("^"+Mt.call(H).replace(Wr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=bu?p.Buffer:l,mn=p.Symbol,Gt=p.Uint8Array,Mu=Ht?Ht.allocUnsafe:l,qt=Pu(q.getPrototypeOf,q),Uu=q.create,Hu=qn.propertyIsEnumerable,zt=Wt.splice,Gu=mn?mn.isConcatSpreadable:l,ot=mn?mn.iterator:l,In=mn?mn.toStringTag:l,$t=(function(){try{var e=On(q,"defineProperty");return e({},"",{}),e}catch{}})(),yf=p.clearTimeout!==ue.clearTimeout&&p.clearTimeout,Sf=w&&w.now!==ue.Date.now&&w.now,Cf=p.setTimeout!==ue.setTimeout&&p.setTimeout,Kt=ne.ceil,Yt=ne.floor,ti=q.getOwnPropertySymbols,Nf=Ht?Ht.isBuffer:l,qu=p.isFinite,If=Wt.join,Tf=Pu(q.keys,q),te=ne.max,oe=ne.min,Rf=w.now,Ef=p.parseInt,zu=ne.random,Lf=Wt.reverse,ri=On(p,"DataView"),ct=On(p,"Map"),ii=On(p,"Promise"),zn=On(p,"Set"),ht=On(p,"WeakMap"),dt=On(q,"create"),Zt=ht&&new ht,$n={},Of=jn(ri),jf=jn(ct),Ff=jn(ii),Df=jn(zn),Pf=jn(ht),Xt=mn?mn.prototype:l,pt=Xt?Xt.valueOf:l,$u=Xt?Xt.toString:l;function u(e){if(k(e)&&!T(e)&&!(e instanceof D)){if(e instanceof Pe)return e;if(H.call(e,"__wrapped__"))return Ks(e)}return new Pe(e)}var Kn=(function(){function e(){}return function(n){if(!Z(n))return{};if(Uu)return Uu(n);e.prototype=n;var t=new e;return e.prototype=l,t}})();function kt(){}function Pe(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=l}u.templateSettings={escape:Xa,evaluate:ka,interpolate:eu,variable:"",imports:{_:u}},u.prototype=kt.prototype,u.prototype.constructor=u,Pe.prototype=Kn(kt.prototype),Pe.prototype.constructor=Pe;function D(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qe,this.__views__=[]}function Wf(){var e=new D(this.__wrapped__);return e.__actions__=me(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=me(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=me(this.__views__),e}function Bf(){if(this.__filtered__){var e=new D(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Mf(){var e=this.__wrapped__.value(),n=this.__dir__,t=T(e),r=n<0,i=t?e.length:0,s=Qo(0,i,this.__views__),f=s.start,o=s.end,h=o-f,g=r?o:f-1,_=this.__iteratees__,x=_.length,v=0,A=oe(h,this.__takeCount__);if(!t||!r&&i==h&&A==h)return gs(e,this.__actions__);var S=[];e:for(;h--&&v<A;){g+=n;for(var O=-1,C=e[g];++O<x;){var F=_[O],P=F.iteratee,Te=F.type,_e=P(C);if(Te==nt)C=_e;else if(!_e){if(Te==Cn)continue e;break e}}S[v++]=C}return S}D.prototype=Kn(kt.prototype),D.prototype.constructor=D;function Tn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Uf(){this.__data__=dt?dt(null):{},this.size=0}function Hf(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Gf(e){var n=this.__data__;if(dt){var t=n[e];return t===ae?l:t}return H.call(n,e)?n[e]:l}function qf(e){var n=this.__data__;return dt?n[e]!==l:H.call(n,e)}function zf(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=dt&&n===l?ae:n,this}Tn.prototype.clear=Uf,Tn.prototype.delete=Hf,Tn.prototype.get=Gf,Tn.prototype.has=qf,Tn.prototype.set=zf;function un(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function $f(){this.__data__=[],this.size=0}function Kf(e){var n=this.__data__,t=Jt(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():zt.call(n,t,1),--this.size,!0}function Yf(e){var n=this.__data__,t=Jt(n,e);return t<0?l:n[t][1]}function Zf(e){return Jt(this.__data__,e)>-1}function Xf(e,n){var t=this.__data__,r=Jt(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}un.prototype.clear=$f,un.prototype.delete=Kf,un.prototype.get=Yf,un.prototype.has=Zf,un.prototype.set=Xf;function sn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function kf(){this.size=0,this.__data__={hash:new Tn,map:new(ct||un),string:new Tn}}function Jf(e){var n=fr(this,e).delete(e);return this.size-=n?1:0,n}function Qf(e){return fr(this,e).get(e)}function Vf(e){return fr(this,e).has(e)}function eo(e,n){var t=fr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}sn.prototype.clear=kf,sn.prototype.delete=Jf,sn.prototype.get=Qf,sn.prototype.has=Vf,sn.prototype.set=eo;function Rn(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new sn;++n<t;)this.add(e[n])}function no(e){return this.__data__.set(e,ae),this}function to(e){return this.__data__.has(e)}Rn.prototype.add=Rn.prototype.push=no,Rn.prototype.has=to;function Ke(e){var n=this.__data__=new un(e);this.size=n.size}function ro(){this.__data__=new un,this.size=0}function io(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function uo(e){return this.__data__.get(e)}function so(e){return this.__data__.has(e)}function ao(e,n){var t=this.__data__;if(t instanceof un){var r=t.__data__;if(!ct||r.length<b-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new sn(r)}return t.set(e,n),this.size=t.size,this}Ke.prototype.clear=ro,Ke.prototype.delete=io,Ke.prototype.get=uo,Ke.prototype.has=so,Ke.prototype.set=ao;function Ku(e,n){var t=T(e),r=!t&&Fn(e),i=!t&&!r&&Sn(e),s=!t&&!r&&!i&&kn(e),f=t||r||i||s,o=f?Qr(e.length,xf):[],h=o.length;for(var g in e)(n||H.call(e,g))&&!(f&&(g=="length"||i&&(g=="offset"||g=="parent")||s&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||on(g,h)))&&o.push(g);return o}function Yu(e){var n=e.length;return n?e[gi(0,n-1)]:l}function lo(e,n){return or(me(e),En(n,0,e.length))}function fo(e){return or(me(e))}function ui(e,n,t){(t!==l&&!Ye(e[n],t)||t===l&&!(n in e))&&an(e,n,t)}function gt(e,n,t){var r=e[n];(!(H.call(e,n)&&Ye(r,t))||t===l&&!(n in e))&&an(e,n,t)}function Jt(e,n){for(var t=e.length;t--;)if(Ye(e[t][0],n))return t;return-1}function oo(e,n,t,r){return wn(e,function(i,s,f){n(r,i,t(i),f)}),r}function Zu(e,n){return e&&en(n,re(n),e)}function co(e,n){return e&&en(n,be(n),e)}function an(e,n,t){n=="__proto__"&&$t?$t(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function si(e,n){for(var t=-1,r=n.length,i=d(r),s=e==null;++t<r;)i[t]=s?l:Ui(e,n[t]);return i}function En(e,n,t){return e===e&&(t!==l&&(e=e<=t?e:t),n!==l&&(e=e>=n?e:n)),e}function We(e,n,t,r,i,s){var f,o=n&E,h=n&ke,g=n&U;if(t&&(f=i?t(e,r,i,s):t(e)),f!==l)return f;if(!Z(e))return e;var _=T(e);if(_){if(f=ec(e),!o)return me(e,f)}else{var x=ce(e),v=x==Rt||x==ki;if(Sn(e))return vs(e,o);if(x==rn||x==Pn||v&&!i){if(f=h||v?{}:Ws(e),!o)return h?qo(e,co(f,e)):Go(e,Zu(f,e))}else{if(!$[x])return i?e:{};f=nc(e,x,o)}}s||(s=new Ke);var A=s.get(e);if(A)return A;s.set(e,f),ha(e)?e.forEach(function(C){f.add(We(C,n,t,C,e,s))}):oa(e)&&e.forEach(function(C,F){f.set(F,We(C,n,t,F,e,s))});var S=g?h?Ni:Ci:h?be:re,O=_?l:S(e);return Fe(O||e,function(C,F){O&&(F=C,C=e[F]),gt(f,F,We(C,n,t,F,e,s))}),f}function ho(e){var n=re(e);return function(t){return Xu(t,e,n)}}function Xu(e,n,t){var r=t.length;if(e==null)return!r;for(e=q(e);r--;){var i=t[r],s=n[i],f=e[i];if(f===l&&!(i in e)||!s(f))return!1}return!0}function ku(e,n,t){if(typeof e!="function")throw new De(X);return At(function(){e.apply(l,t)},n)}function _t(e,n,t,r){var i=-1,s=Ft,f=!0,o=e.length,h=[],g=n.length;if(!o)return h;t&&(n=Y(n,Ce(t))),r?(s=Kr,f=!1):n.length>=b&&(s=ft,f=!1,n=new Rn(n));e:for(;++i<o;){var _=e[i],x=t==null?_:t(_);if(_=r||_!==0?_:0,f&&x===x){for(var v=g;v--;)if(n[v]===x)continue e;h.push(_)}else s(n,x,r)||h.push(_)}return h}var wn=ys(Ve),Ju=ys(li,!0);function po(e,n){var t=!0;return wn(e,function(r,i,s){return t=!!n(r,i,s),t}),t}function Qt(e,n,t){for(var r=-1,i=e.length;++r<i;){var s=e[r],f=n(s);if(f!=null&&(o===l?f===f&&!Ie(f):t(f,o)))var o=f,h=s}return h}function go(e,n,t,r){var i=e.length;for(t=R(t),t<0&&(t=-t>i?0:i+t),r=r===l||r>i?i:R(r),r<0&&(r+=i),r=t>r?0:pa(r);t<r;)e[t++]=n;return e}function Qu(e,n){var t=[];return wn(e,function(r,i,s){n(r,i,s)&&t.push(r)}),t}function se(e,n,t,r,i){var s=-1,f=e.length;for(t||(t=rc),i||(i=[]);++s<f;){var o=e[s];n>0&&t(o)?n>1?se(o,n-1,t,r,i):xn(i,o):r||(i[i.length]=o)}return i}var ai=Ss(),Vu=Ss(!0);function Ve(e,n){return e&&ai(e,n,re)}function li(e,n){return e&&Vu(e,n,re)}function Vt(e,n){return _n(n,function(t){return cn(e[t])})}function Ln(e,n){n=An(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[nn(n[t++])];return t&&t==r?e:l}function es(e,n,t){var r=n(e);return T(e)?r:xn(r,t(e))}function pe(e){return e==null?e===l?Ga:Ua:In&&In in q(e)?Jo(e):oc(e)}function fi(e,n){return e>n}function _o(e,n){return e!=null&&H.call(e,n)}function xo(e,n){return e!=null&&n in q(e)}function vo(e,n,t){return e>=oe(n,t)&&e<te(n,t)}function oi(e,n,t){for(var r=t?Kr:Ft,i=e[0].length,s=e.length,f=s,o=d(s),h=1/0,g=[];f--;){var _=e[f];f&&n&&(_=Y(_,Ce(n))),h=oe(_.length,h),o[f]=!t&&(n||i>=120&&_.length>=120)?new Rn(f&&_):l}_=e[0];var x=-1,v=o[0];e:for(;++x<i&&g.length<h;){var A=_[x],S=n?n(A):A;if(A=t||A!==0?A:0,!(v?ft(v,S):r(g,S,t))){for(f=s;--f;){var O=o[f];if(!(O?ft(O,S):r(e[f],S,t)))continue e}v&&v.push(S),g.push(A)}}return g}function mo(e,n,t,r){return Ve(e,function(i,s,f){n(r,t(i),s,f)}),r}function xt(e,n,t){n=An(n,e),e=Hs(e,n);var r=e==null?e:e[nn(Me(n))];return r==null?l:Se(r,e,t)}function ns(e){return k(e)&&pe(e)==Pn}function wo(e){return k(e)&&pe(e)==lt}function bo(e){return k(e)&&pe(e)==rt}function vt(e,n,t,r,i){return e===n?!0:e==null||n==null||!k(e)&&!k(n)?e!==e&&n!==n:Ao(e,n,t,r,vt,i)}function Ao(e,n,t,r,i,s){var f=T(e),o=T(n),h=f?It:ce(e),g=o?It:ce(n);h=h==Pn?rn:h,g=g==Pn?rn:g;var _=h==rn,x=g==rn,v=h==g;if(v&&Sn(e)){if(!Sn(n))return!1;f=!0,_=!1}if(v&&!_)return s||(s=new Ke),f||kn(e)?Fs(e,n,t,r,i,s):Xo(e,n,h,t,r,i,s);if(!(t&le)){var A=_&&H.call(e,"__wrapped__"),S=x&&H.call(n,"__wrapped__");if(A||S){var O=A?e.value():e,C=S?n.value():n;return s||(s=new Ke),i(O,C,t,r,s)}}return v?(s||(s=new Ke),ko(e,n,t,r,i,s)):!1}function yo(e){return k(e)&&ce(e)==qe}function ci(e,n,t,r){var i=t.length,s=i,f=!r;if(e==null)return!s;for(e=q(e);i--;){var o=t[i];if(f&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=t[i];var h=o[0],g=e[h],_=o[1];if(f&&o[2]){if(g===l&&!(h in e))return!1}else{var x=new Ke;if(r)var v=r(g,_,h,e,n,x);if(!(v===l?vt(_,g,le|xe,r,x):v))return!1}}return!0}function ts(e){if(!Z(e)||uc(e))return!1;var n=cn(e)?Af:cl;return n.test(jn(e))}function So(e){return k(e)&&pe(e)==ut}function Co(e){return k(e)&&ce(e)==ze}function No(e){return k(e)&&_r(e.length)&&!!K[pe(e)]}function rs(e){return typeof e=="function"?e:e==null?Ae:typeof e=="object"?T(e)?ss(e[0],e[1]):us(e):Ca(e)}function hi(e){if(!bt(e))return Tf(e);var n=[];for(var t in q(e))H.call(e,t)&&t!="constructor"&&n.push(t);return n}function Io(e){if(!Z(e))return fc(e);var n=bt(e),t=[];for(var r in e)r=="constructor"&&(n||!H.call(e,r))||t.push(r);return t}function di(e,n){return e<n}function is(e,n){var t=-1,r=we(e)?d(e.length):[];return wn(e,function(i,s,f){r[++t]=n(i,s,f)}),r}function us(e){var n=Ti(e);return n.length==1&&n[0][2]?Ms(n[0][0],n[0][1]):function(t){return t===e||ci(t,e,n)}}function ss(e,n){return Ei(e)&&Bs(n)?Ms(nn(e),n):function(t){var r=Ui(t,e);return r===l&&r===n?Hi(t,e):vt(n,r,le|xe)}}function er(e,n,t,r,i){e!==n&&ai(n,function(s,f){if(i||(i=new Ke),Z(s))To(e,n,f,t,er,r,i);else{var o=r?r(Oi(e,f),s,f+"",e,n,i):l;o===l&&(o=s),ui(e,f,o)}},be)}function To(e,n,t,r,i,s,f){var o=Oi(e,t),h=Oi(n,t),g=f.get(h);if(g){ui(e,t,g);return}var _=s?s(o,h,t+"",e,n,f):l,x=_===l;if(x){var v=T(h),A=!v&&Sn(h),S=!v&&!A&&kn(h);_=h,v||A||S?T(o)?_=o:J(o)?_=me(o):A?(x=!1,_=vs(h,!0)):S?(x=!1,_=ms(h,!0)):_=[]:yt(h)||Fn(h)?(_=o,Fn(o)?_=ga(o):(!Z(o)||cn(o))&&(_=Ws(h))):x=!1}x&&(f.set(h,_),i(_,h,r,s,f),f.delete(h)),ui(e,t,_)}function as(e,n){var t=e.length;if(t)return n+=n<0?t:0,on(n,t)?e[n]:l}function ls(e,n,t){n.length?n=Y(n,function(s){return T(s)?function(f){return Ln(f,s.length===1?s[0]:s)}:s}):n=[Ae];var r=-1;n=Y(n,Ce(y()));var i=is(e,function(s,f,o){var h=Y(n,function(g){return g(s)});return{criteria:h,index:++r,value:s}});return Vl(i,function(s,f){return Ho(s,f,t)})}function Ro(e,n){return fs(e,n,function(t,r){return Hi(e,r)})}function fs(e,n,t){for(var r=-1,i=n.length,s={};++r<i;){var f=n[r],o=Ln(e,f);t(o,f)&&mt(s,An(f,e),o)}return s}function Eo(e){return function(n){return Ln(n,e)}}function pi(e,n,t,r){var i=r?Ql:Mn,s=-1,f=n.length,o=e;for(e===n&&(n=me(n)),t&&(o=Y(e,Ce(t)));++s<f;)for(var h=0,g=n[s],_=t?t(g):g;(h=i(o,_,h,r))>-1;)o!==e&&zt.call(o,h,1),zt.call(e,h,1);return e}function os(e,n){for(var t=e?n.length:0,r=t-1;t--;){var i=n[t];if(t==r||i!==s){var s=i;on(i)?zt.call(e,i,1):vi(e,i)}}return e}function gi(e,n){return e+Yt(zu()*(n-e+1))}function Lo(e,n,t,r){for(var i=-1,s=te(Kt((n-e)/(t||1)),0),f=d(s);s--;)f[r?s:++i]=e,e+=t;return f}function _i(e,n){var t="";if(!e||n<1||n>gn)return t;do n%2&&(t+=e),n=Yt(n/2),n&&(e+=e);while(n);return t}function j(e,n){return ji(Us(e,n,Ae),e+"")}function Oo(e){return Yu(Jn(e))}function jo(e,n){var t=Jn(e);return or(t,En(n,0,t.length))}function mt(e,n,t,r){if(!Z(e))return e;n=An(n,e);for(var i=-1,s=n.length,f=s-1,o=e;o!=null&&++i<s;){var h=nn(n[i]),g=t;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(i!=f){var _=o[h];g=r?r(_,h,o):l,g===l&&(g=Z(_)?_:on(n[i+1])?[]:{})}gt(o,h,g),o=o[h]}return e}var cs=Zt?function(e,n){return Zt.set(e,n),e}:Ae,Fo=$t?function(e,n){return $t(e,"toString",{configurable:!0,enumerable:!1,value:qi(n),writable:!0})}:Ae;function Do(e){return or(Jn(e))}function Be(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var s=d(i);++r<i;)s[r]=e[r+n];return s}function Po(e,n){var t;return wn(e,function(r,i,s){return t=n(r,i,s),!t}),!!t}function nr(e,n,t){var r=0,i=e==null?r:e.length;if(typeof n=="number"&&n===n&&i<=Pa){for(;r<i;){var s=r+i>>>1,f=e[s];f!==null&&!Ie(f)&&(t?f<=n:f<n)?r=s+1:i=s}return i}return xi(e,n,Ae,t)}function xi(e,n,t,r){var i=0,s=e==null?0:e.length;if(s===0)return 0;n=t(n);for(var f=n!==n,o=n===null,h=Ie(n),g=n===l;i<s;){var _=Yt((i+s)/2),x=t(e[_]),v=x!==l,A=x===null,S=x===x,O=Ie(x);if(f)var C=r||S;else g?C=S&&(r||v):o?C=S&&v&&(r||!A):h?C=S&&v&&!A&&(r||!O):A||O?C=!1:C=r?x<=n:x<n;C?i=_+1:s=_}return oe(s,Da)}function hs(e,n){for(var t=-1,r=e.length,i=0,s=[];++t<r;){var f=e[t],o=n?n(f):f;if(!t||!Ye(o,h)){var h=o;s[i++]=f===0?0:f}}return s}function ds(e){return typeof e=="number"?e:Ie(e)?Nt:+e}function Ne(e){if(typeof e=="string")return e;if(T(e))return Y(e,Ne)+"";if(Ie(e))return $u?$u.call(e):"";var n=e+"";return n=="0"&&1/e==-tn?"-0":n}function bn(e,n,t){var r=-1,i=Ft,s=e.length,f=!0,o=[],h=o;if(t)f=!1,i=Kr;else if(s>=b){var g=n?null:Yo(e);if(g)return Pt(g);f=!1,i=ft,h=new Rn}else h=n?[]:o;e:for(;++r<s;){var _=e[r],x=n?n(_):_;if(_=t||_!==0?_:0,f&&x===x){for(var v=h.length;v--;)if(h[v]===x)continue e;n&&h.push(x),o.push(_)}else i(h,x,t)||(h!==o&&h.push(x),o.push(_))}return o}function vi(e,n){return n=An(n,e),e=Hs(e,n),e==null||delete e[nn(Me(n))]}function ps(e,n,t,r){return mt(e,n,t(Ln(e,n)),r)}function tr(e,n,t,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&n(e[s],s,e););return t?Be(e,r?0:s,r?s+1:i):Be(e,r?s+1:0,r?i:s)}function gs(e,n){var t=e;return t instanceof D&&(t=t.value()),Yr(n,function(r,i){return i.func.apply(i.thisArg,xn([r],i.args))},t)}function mi(e,n,t){var r=e.length;if(r<2)return r?bn(e[0]):[];for(var i=-1,s=d(r);++i<r;)for(var f=e[i],o=-1;++o<r;)o!=i&&(s[i]=_t(s[i]||f,e[o],n,t));return bn(se(s,1),n,t)}function _s(e,n,t){for(var r=-1,i=e.length,s=n.length,f={};++r<i;){var o=r<s?n[r]:l;t(f,e[r],o)}return f}function wi(e){return J(e)?e:[]}function bi(e){return typeof e=="function"?e:Ae}function An(e,n){return T(e)?e:Ei(e,n)?[e]:$s(M(e))}var Wo=j;function yn(e,n,t){var r=e.length;return t=t===l?r:t,!n&&t>=r?e:Be(e,n,t)}var xs=yf||function(e){return ue.clearTimeout(e)};function vs(e,n){if(n)return e.slice();var t=e.length,r=Mu?Mu(t):new e.constructor(t);return e.copy(r),r}function Ai(e){var n=new e.constructor(e.byteLength);return new Gt(n).set(new Gt(e)),n}function Bo(e,n){var t=n?Ai(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Mo(e){var n=new e.constructor(e.source,nu.exec(e));return n.lastIndex=e.lastIndex,n}function Uo(e){return pt?q(pt.call(e)):{}}function ms(e,n){var t=n?Ai(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function ws(e,n){if(e!==n){var t=e!==l,r=e===null,i=e===e,s=Ie(e),f=n!==l,o=n===null,h=n===n,g=Ie(n);if(!o&&!g&&!s&&e>n||s&&f&&h&&!o&&!g||r&&f&&h||!t&&h||!i)return 1;if(!r&&!s&&!g&&e<n||g&&t&&i&&!r&&!s||o&&t&&i||!f&&i||!h)return-1}return 0}function Ho(e,n,t){for(var r=-1,i=e.criteria,s=n.criteria,f=i.length,o=t.length;++r<f;){var h=ws(i[r],s[r]);if(h){if(r>=o)return h;var g=t[r];return h*(g=="desc"?-1:1)}}return e.index-n.index}function bs(e,n,t,r){for(var i=-1,s=e.length,f=t.length,o=-1,h=n.length,g=te(s-f,0),_=d(h+g),x=!r;++o<h;)_[o]=n[o];for(;++i<f;)(x||i<s)&&(_[t[i]]=e[i]);for(;g--;)_[o++]=e[i++];return _}function As(e,n,t,r){for(var i=-1,s=e.length,f=-1,o=t.length,h=-1,g=n.length,_=te(s-o,0),x=d(_+g),v=!r;++i<_;)x[i]=e[i];for(var A=i;++h<g;)x[A+h]=n[h];for(;++f<o;)(v||i<s)&&(x[A+t[f]]=e[i++]);return x}function me(e,n){var t=-1,r=e.length;for(n||(n=d(r));++t<r;)n[t]=e[t];return n}function en(e,n,t,r){var i=!t;t||(t={});for(var s=-1,f=n.length;++s<f;){var o=n[s],h=r?r(t[o],e[o],o,t,e):l;h===l&&(h=e[o]),i?an(t,o,h):gt(t,o,h)}return t}function Go(e,n){return en(e,Ri(e),n)}function qo(e,n){return en(e,Ds(e),n)}function rr(e,n){return function(t,r){var i=T(t)?Kl:oo,s=n?n():{};return i(t,e,y(r,2),s)}}function Yn(e){return j(function(n,t){var r=-1,i=t.length,s=i>1?t[i-1]:l,f=i>2?t[2]:l;for(s=e.length>3&&typeof s=="function"?(i--,s):l,f&&ge(t[0],t[1],f)&&(s=i<3?l:s,i=1),n=q(n);++r<i;){var o=t[r];o&&e(n,o,r,s)}return n})}function ys(e,n){return function(t,r){if(t==null)return t;if(!we(t))return e(t,r);for(var i=t.length,s=n?i:-1,f=q(t);(n?s--:++s<i)&&r(f[s],s,f)!==!1;);return t}}function Ss(e){return function(n,t,r){for(var i=-1,s=q(n),f=r(n),o=f.length;o--;){var h=f[e?o:++i];if(t(s[h],h,s)===!1)break}return n}}function zo(e,n,t){var r=n&ie,i=wt(e);function s(){var f=this&&this!==ue&&this instanceof s?i:e;return f.apply(r?t:this,arguments)}return s}function Cs(e){return function(n){n=M(n);var t=Un(n)?$e(n):l,r=t?t[0]:n.charAt(0),i=t?yn(t,1).join(""):n.slice(1);return r[e]()+i}}function Zn(e){return function(n){return Yr(ya(Aa(n).replace(Ol,"")),e,"")}}function wt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Kn(e.prototype),r=e.apply(t,n);return Z(r)?r:t}}function $o(e,n,t){var r=wt(e);function i(){for(var s=arguments.length,f=d(s),o=s,h=Xn(i);o--;)f[o]=arguments[o];var g=s<3&&f[0]!==h&&f[s-1]!==h?[]:vn(f,h);if(s-=g.length,s<t)return Es(e,n,ir,i.placeholder,l,f,g,l,l,t-s);var _=this&&this!==ue&&this instanceof i?r:e;return Se(_,this,f)}return i}function Ns(e){return function(n,t,r){var i=q(n);if(!we(n)){var s=y(t,3);n=re(n),t=function(o){return s(i[o],o,i)}}var f=e(n,t,r);return f>-1?i[s?n[f]:f]:l}}function Is(e){return fn(function(n){var t=n.length,r=t,i=Pe.prototype.thru;for(e&&n.reverse();r--;){var s=n[r];if(typeof s!="function")throw new De(X);if(i&&!f&&lr(s)=="wrapper")var f=new Pe([],!0)}for(r=f?r:t;++r<t;){s=n[r];var o=lr(s),h=o=="wrapper"?Ii(s):l;h&&Li(h[0])&&h[1]==(ve|N|L|z)&&!h[4].length&&h[9]==1?f=f[lr(h[0])].apply(f,h[3]):f=s.length==1&&Li(s)?f[o]():f.thru(s)}return function(){var g=arguments,_=g[0];if(f&&g.length==1&&T(_))return f.plant(_).value();for(var x=0,v=t?n[x].apply(this,g):_;++x<t;)v=n[x].call(this,v);return v}})}function ir(e,n,t,r,i,s,f,o,h,g){var _=n&ve,x=n&ie,v=n&Oe,A=n&(N|m),S=n&Qn,O=v?l:wt(e);function C(){for(var F=arguments.length,P=d(F),Te=F;Te--;)P[Te]=arguments[Te];if(A)var _e=Xn(C),Re=nf(P,_e);if(r&&(P=bs(P,r,i,A)),s&&(P=As(P,s,f,A)),F-=Re,A&&F<g){var Q=vn(P,_e);return Es(e,n,ir,C.placeholder,t,P,Q,o,h,g-F)}var Ze=x?t:this,dn=v?Ze[e]:e;return F=P.length,o?P=cc(P,o):S&&F>1&&P.reverse(),_&&h<F&&(P.length=h),this&&this!==ue&&this instanceof C&&(dn=O||wt(dn)),dn.apply(Ze,P)}return C}function Ts(e,n){return function(t,r){return mo(t,e,n(r),{})}}function ur(e,n){return function(t,r){var i;if(t===l&&r===l)return n;if(t!==l&&(i=t),r!==l){if(i===l)return r;typeof t=="string"||typeof r=="string"?(t=Ne(t),r=Ne(r)):(t=ds(t),r=ds(r)),i=e(t,r)}return i}}function yi(e){return fn(function(n){return n=Y(n,Ce(y())),j(function(t){var r=this;return e(n,function(i){return Se(i,r,t)})})})}function sr(e,n){n=n===l?" ":Ne(n);var t=n.length;if(t<2)return t?_i(n,e):n;var r=_i(n,Kt(e/Hn(n)));return Un(n)?yn($e(r),0,e).join(""):r.slice(0,e)}function Ko(e,n,t,r){var i=n&ie,s=wt(e);function f(){for(var o=-1,h=arguments.length,g=-1,_=r.length,x=d(_+h),v=this&&this!==ue&&this instanceof f?s:e;++g<_;)x[g]=r[g];for(;h--;)x[g++]=arguments[++o];return Se(v,i?t:this,x)}return f}function Rs(e){return function(n,t,r){return r&&typeof r!="number"&&ge(n,t,r)&&(t=r=l),n=hn(n),t===l?(t=n,n=0):t=hn(t),r=r===l?n<t?1:-1:hn(r),Lo(n,t,r,e)}}function ar(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=Ue(n),t=Ue(t)),e(n,t)}}function Es(e,n,t,r,i,s,f,o,h,g){var _=n&N,x=_?f:l,v=_?l:f,A=_?s:l,S=_?l:s;n|=_?L:de,n&=~(_?de:L),n&Je||(n&=-4);var O=[e,n,i,A,x,S,v,o,h,g],C=t.apply(l,O);return Li(e)&&Gs(C,O),C.placeholder=r,qs(C,e,n)}function Si(e){var n=ne[e];return function(t,r){if(t=Ue(t),r=r==null?0:oe(R(r),292),r&&qu(t)){var i=(M(t)+"e").split("e"),s=n(i[0]+"e"+(+i[1]+r));return i=(M(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(t)}}var Yo=zn&&1/Pt(new zn([,-0]))[1]==tn?function(e){return new zn(e)}:Ki;function Ls(e){return function(n){var t=ce(n);return t==qe?ei(n):t==ze?ff(n):ef(n,e(n))}}function ln(e,n,t,r,i,s,f,o){var h=n&Oe;if(!h&&typeof e!="function")throw new De(X);var g=r?r.length:0;if(g||(n&=-97,r=i=l),f=f===l?f:te(R(f),0),o=o===l?o:R(o),g-=i?i.length:0,n&de){var _=r,x=i;r=i=l}var v=h?l:Ii(e),A=[e,n,t,r,i,_,x,s,f,o];if(v&&lc(A,v),e=A[0],n=A[1],t=A[2],r=A[3],i=A[4],o=A[9]=A[9]===l?h?0:e.length:te(A[9]-g,0),!o&&n&(N|m)&&(n&=-25),!n||n==ie)var S=zo(e,n,t);else n==N||n==m?S=$o(e,n,o):(n==L||n==(ie|L))&&!i.length?S=Ko(e,n,t,r):S=ir.apply(l,A);var O=v?cs:Gs;return qs(O(S,A),e,n)}function Os(e,n,t,r){return e===l||Ye(e,qn[t])&&!H.call(r,t)?n:e}function js(e,n,t,r,i,s){return Z(e)&&Z(n)&&(s.set(n,e),er(e,n,l,js,s),s.delete(n)),e}function Zo(e){return yt(e)?l:e}function Fs(e,n,t,r,i,s){var f=t&le,o=e.length,h=n.length;if(o!=h&&!(f&&h>o))return!1;var g=s.get(e),_=s.get(n);if(g&&_)return g==n&&_==e;var x=-1,v=!0,A=t&xe?new Rn:l;for(s.set(e,n),s.set(n,e);++x<o;){var S=e[x],O=n[x];if(r)var C=f?r(O,S,x,n,e,s):r(S,O,x,e,n,s);if(C!==l){if(C)continue;v=!1;break}if(A){if(!Zr(n,function(F,P){if(!ft(A,P)&&(S===F||i(S,F,t,r,s)))return A.push(P)})){v=!1;break}}else if(!(S===O||i(S,O,t,r,s))){v=!1;break}}return s.delete(e),s.delete(n),v}function Xo(e,n,t,r,i,s,f){switch(t){case Wn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case lt:return!(e.byteLength!=n.byteLength||!s(new Gt(e),new Gt(n)));case tt:case rt:case it:return Ye(+e,+n);case Tt:return e.name==n.name&&e.message==n.message;case ut:case st:return e==n+"";case qe:var o=ei;case ze:var h=r&le;if(o||(o=Pt),e.size!=n.size&&!h)return!1;var g=f.get(e);if(g)return g==n;r|=xe,f.set(e,n);var _=Fs(o(e),o(n),r,i,s,f);return f.delete(e),_;case Et:if(pt)return pt.call(e)==pt.call(n)}return!1}function ko(e,n,t,r,i,s){var f=t&le,o=Ci(e),h=o.length,g=Ci(n),_=g.length;if(h!=_&&!f)return!1;for(var x=h;x--;){var v=o[x];if(!(f?v in n:H.call(n,v)))return!1}var A=s.get(e),S=s.get(n);if(A&&S)return A==n&&S==e;var O=!0;s.set(e,n),s.set(n,e);for(var C=f;++x<h;){v=o[x];var F=e[v],P=n[v];if(r)var Te=f?r(P,F,v,n,e,s):r(F,P,v,e,n,s);if(!(Te===l?F===P||i(F,P,t,r,s):Te)){O=!1;break}C||(C=v=="constructor")}if(O&&!C){var _e=e.constructor,Re=n.constructor;_e!=Re&&"constructor"in e&&"constructor"in n&&!(typeof _e=="function"&&_e instanceof _e&&typeof Re=="function"&&Re instanceof Re)&&(O=!1)}return s.delete(e),s.delete(n),O}function fn(e){return ji(Us(e,l,Xs),e+"")}function Ci(e){return es(e,re,Ri)}function Ni(e){return es(e,be,Ds)}var Ii=Zt?function(e){return Zt.get(e)}:Ki;function lr(e){for(var n=e.name+"",t=$n[n],r=H.call($n,n)?t.length:0;r--;){var i=t[r],s=i.func;if(s==null||s==e)return i.name}return n}function Xn(e){var n=H.call(u,"placeholder")?u:e;return n.placeholder}function y(){var e=u.iteratee||zi;return e=e===zi?rs:e,arguments.length?e(arguments[0],arguments[1]):e}function fr(e,n){var t=e.__data__;return ic(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Ti(e){for(var n=re(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,Bs(i)]}return n}function On(e,n){var t=sf(e,n);return ts(t)?t:l}function Jo(e){var n=H.call(e,In),t=e[In];try{e[In]=l;var r=!0}catch{}var i=Ut.call(e);return r&&(n?e[In]=t:delete e[In]),i}var Ri=ti?function(e){return e==null?[]:(e=q(e),_n(ti(e),function(n){return Hu.call(e,n)}))}:Yi,Ds=ti?function(e){for(var n=[];e;)xn(n,Ri(e)),e=qt(e);return n}:Yi,ce=pe;(ri&&ce(new ri(new ArrayBuffer(1)))!=Wn||ct&&ce(new ct)!=qe||ii&&ce(ii.resolve())!=Ji||zn&&ce(new zn)!=ze||ht&&ce(new ht)!=at)&&(ce=function(e){var n=pe(e),t=n==rn?e.constructor:l,r=t?jn(t):"";if(r)switch(r){case Of:return Wn;case jf:return qe;case Ff:return Ji;case Df:return ze;case Pf:return at}return n});function Qo(e,n,t){for(var r=-1,i=t.length;++r<i;){var s=t[r],f=s.size;switch(s.type){case"drop":e+=f;break;case"dropRight":n-=f;break;case"take":n=oe(n,e+f);break;case"takeRight":e=te(e,n-f);break}}return{start:e,end:n}}function Vo(e){var n=e.match(rl);return n?n[1].split(il):[]}function Ps(e,n,t){n=An(n,e);for(var r=-1,i=n.length,s=!1;++r<i;){var f=nn(n[r]);if(!(s=e!=null&&t(e,f)))break;e=e[f]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&_r(i)&&on(f,i)&&(T(e)||Fn(e)))}function ec(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&H.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function Ws(e){return typeof e.constructor=="function"&&!bt(e)?Kn(qt(e)):{}}function nc(e,n,t){var r=e.constructor;switch(n){case lt:return Ai(e);case tt:case rt:return new r(+e);case Wn:return Bo(e,t);case Tr:case Rr:case Er:case Lr:case Or:case jr:case Fr:case Dr:case Pr:return ms(e,t);case qe:return new r;case it:case st:return new r(e);case ut:return Mo(e);case ze:return new r;case Et:return Uo(e)}}function tc(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(tl,`{
/* [wrapped with `+n+`] */
`)}function rc(e){return T(e)||Fn(e)||!!(Gu&&e&&e[Gu])}function on(e,n){var t=typeof e;return n=n??gn,!!n&&(t=="number"||t!="symbol"&&dl.test(e))&&e>-1&&e%1==0&&e<n}function ge(e,n,t){if(!Z(t))return!1;var r=typeof n;return(r=="number"?we(t)&&on(n,t.length):r=="string"&&n in t)?Ye(t[n],e):!1}function Ei(e,n){if(T(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ie(e)?!0:Qa.test(e)||!Ja.test(e)||n!=null&&e in q(n)}function ic(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Li(e){var n=lr(e),t=u[n];if(typeof t!="function"||!(n in D.prototype))return!1;if(e===t)return!0;var r=Ii(t);return!!r&&e===r[0]}function uc(e){return!!Bu&&Bu in e}var sc=Bt?cn:Zi;function bt(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||qn;return e===t}function Bs(e){return e===e&&!Z(e)}function Ms(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==l||e in q(t))}}function ac(e){var n=pr(e,function(r){return t.size===ye&&t.clear(),r}),t=n.cache;return n}function lc(e,n){var t=e[1],r=n[1],i=t|r,s=i<(ie|Oe|ve),f=r==ve&&t==N||r==ve&&t==z&&e[7].length<=n[8]||r==(ve|z)&&n[7].length<=n[8]&&t==N;if(!(s||f))return e;r&ie&&(e[2]=n[2],i|=t&ie?0:Je);var o=n[3];if(o){var h=e[3];e[3]=h?bs(h,o,n[4]):o,e[4]=h?vn(e[3],Le):n[4]}return o=n[5],o&&(h=e[5],e[5]=h?As(h,o,n[6]):o,e[6]=h?vn(e[5],Le):n[6]),o=n[7],o&&(e[7]=o),r&ve&&(e[8]=e[8]==null?n[8]:oe(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=i,e}function fc(e){var n=[];if(e!=null)for(var t in q(e))n.push(t);return n}function oc(e){return Ut.call(e)}function Us(e,n,t){return n=te(n===l?e.length-1:n,0),function(){for(var r=arguments,i=-1,s=te(r.length-n,0),f=d(s);++i<s;)f[i]=r[n+i];i=-1;for(var o=d(n+1);++i<n;)o[i]=r[i];return o[n]=t(f),Se(e,this,o)}}function Hs(e,n){return n.length<2?e:Ln(e,Be(n,0,-1))}function cc(e,n){for(var t=e.length,r=oe(n.length,t),i=me(e);r--;){var s=n[r];e[r]=on(s,t)?i[s]:l}return e}function Oi(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Gs=zs(cs),At=Cf||function(e,n){return ue.setTimeout(e,n)},ji=zs(Fo);function qs(e,n,t){var r=n+"";return ji(e,tc(r,hc(Vo(r),t)))}function zs(e){var n=0,t=0;return function(){var r=Rf(),i=et-(r-t);if(t=r,i>0){if(++n>=Vn)return arguments[0]}else n=0;return e.apply(l,arguments)}}function or(e,n){var t=-1,r=e.length,i=r-1;for(n=n===l?r:n;++t<n;){var s=gi(t,i),f=e[s];e[s]=e[t],e[t]=f}return e.length=n,e}var $s=ac(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Va,function(t,r,i,s){n.push(i?s.replace(al,"$1"):r||t)}),n});function nn(e){if(typeof e=="string"||Ie(e))return e;var n=e+"";return n=="0"&&1/e==-tn?"-0":n}function jn(e){if(e!=null){try{return Mt.call(e)}catch{}try{return e+""}catch{}}return""}function hc(e,n){return Fe(Wa,function(t){var r="_."+t[0];n&t[1]&&!Ft(e,r)&&e.push(r)}),e.sort()}function Ks(e){if(e instanceof D)return e.clone();var n=new Pe(e.__wrapped__,e.__chain__);return n.__actions__=me(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function dc(e,n,t){(t?ge(e,n,t):n===l)?n=1:n=te(R(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var i=0,s=0,f=d(Kt(r/n));i<r;)f[s++]=Be(e,i,i+=n);return f}function pc(e){for(var n=-1,t=e==null?0:e.length,r=0,i=[];++n<t;){var s=e[n];s&&(i[r++]=s)}return i}function gc(){var e=arguments.length;if(!e)return[];for(var n=d(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return xn(T(t)?me(t):[t],se(n,1))}var _c=j(function(e,n){return J(e)?_t(e,se(n,1,J,!0)):[]}),xc=j(function(e,n){var t=Me(n);return J(t)&&(t=l),J(e)?_t(e,se(n,1,J,!0),y(t,2)):[]}),vc=j(function(e,n){var t=Me(n);return J(t)&&(t=l),J(e)?_t(e,se(n,1,J,!0),l,t):[]});function mc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===l?1:R(n),Be(e,n<0?0:n,r)):[]}function wc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===l?1:R(n),n=r-n,Be(e,0,n<0?0:n)):[]}function bc(e,n){return e&&e.length?tr(e,y(n,3),!0,!0):[]}function Ac(e,n){return e&&e.length?tr(e,y(n,3),!0):[]}function yc(e,n,t,r){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&ge(e,n,t)&&(t=0,r=i),go(e,n,t,r)):[]}function Ys(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:R(t);return i<0&&(i=te(r+i,0)),Dt(e,y(n,3),i)}function Zs(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return t!==l&&(i=R(t),i=t<0?te(r+i,0):oe(i,r-1)),Dt(e,y(n,3),i,!0)}function Xs(e){var n=e==null?0:e.length;return n?se(e,1):[]}function Sc(e){var n=e==null?0:e.length;return n?se(e,tn):[]}function Cc(e,n){var t=e==null?0:e.length;return t?(n=n===l?1:R(n),se(e,n)):[]}function Nc(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r}function ks(e){return e&&e.length?e[0]:l}function Ic(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:R(t);return i<0&&(i=te(r+i,0)),Mn(e,n,i)}function Tc(e){var n=e==null?0:e.length;return n?Be(e,0,-1):[]}var Rc=j(function(e){var n=Y(e,wi);return n.length&&n[0]===e[0]?oi(n):[]}),Ec=j(function(e){var n=Me(e),t=Y(e,wi);return n===Me(t)?n=l:t.pop(),t.length&&t[0]===e[0]?oi(t,y(n,2)):[]}),Lc=j(function(e){var n=Me(e),t=Y(e,wi);return n=typeof n=="function"?n:l,n&&t.pop(),t.length&&t[0]===e[0]?oi(t,l,n):[]});function Oc(e,n){return e==null?"":If.call(e,n)}function Me(e){var n=e==null?0:e.length;return n?e[n-1]:l}function jc(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r;return t!==l&&(i=R(t),i=i<0?te(r+i,0):oe(i,r-1)),n===n?cf(e,n,i):Dt(e,Eu,i,!0)}function Fc(e,n){return e&&e.length?as(e,R(n)):l}var Dc=j(Js);function Js(e,n){return e&&e.length&&n&&n.length?pi(e,n):e}function Pc(e,n,t){return e&&e.length&&n&&n.length?pi(e,n,y(t,2)):e}function Wc(e,n,t){return e&&e.length&&n&&n.length?pi(e,n,l,t):e}var Bc=fn(function(e,n){var t=e==null?0:e.length,r=si(e,n);return os(e,Y(n,function(i){return on(i,t)?+i:i}).sort(ws)),r});function Mc(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,i=[],s=e.length;for(n=y(n,3);++r<s;){var f=e[r];n(f,r,e)&&(t.push(f),i.push(r))}return os(e,i),t}function Fi(e){return e==null?e:Lf.call(e)}function Uc(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&ge(e,n,t)?(n=0,t=r):(n=n==null?0:R(n),t=t===l?r:R(t)),Be(e,n,t)):[]}function Hc(e,n){return nr(e,n)}function Gc(e,n,t){return xi(e,n,y(t,2))}function qc(e,n){var t=e==null?0:e.length;if(t){var r=nr(e,n);if(r<t&&Ye(e[r],n))return r}return-1}function zc(e,n){return nr(e,n,!0)}function $c(e,n,t){return xi(e,n,y(t,2),!0)}function Kc(e,n){var t=e==null?0:e.length;if(t){var r=nr(e,n,!0)-1;if(Ye(e[r],n))return r}return-1}function Yc(e){return e&&e.length?hs(e):[]}function Zc(e,n){return e&&e.length?hs(e,y(n,2)):[]}function Xc(e){var n=e==null?0:e.length;return n?Be(e,1,n):[]}function kc(e,n,t){return e&&e.length?(n=t||n===l?1:R(n),Be(e,0,n<0?0:n)):[]}function Jc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===l?1:R(n),n=r-n,Be(e,n<0?0:n,r)):[]}function Qc(e,n){return e&&e.length?tr(e,y(n,3),!1,!0):[]}function Vc(e,n){return e&&e.length?tr(e,y(n,3)):[]}var eh=j(function(e){return bn(se(e,1,J,!0))}),nh=j(function(e){var n=Me(e);return J(n)&&(n=l),bn(se(e,1,J,!0),y(n,2))}),th=j(function(e){var n=Me(e);return n=typeof n=="function"?n:l,bn(se(e,1,J,!0),l,n)});function rh(e){return e&&e.length?bn(e):[]}function ih(e,n){return e&&e.length?bn(e,y(n,2)):[]}function uh(e,n){return n=typeof n=="function"?n:l,e&&e.length?bn(e,l,n):[]}function Di(e){if(!(e&&e.length))return[];var n=0;return e=_n(e,function(t){if(J(t))return n=te(t.length,n),!0}),Qr(n,function(t){return Y(e,Xr(t))})}function Qs(e,n){if(!(e&&e.length))return[];var t=Di(e);return n==null?t:Y(t,function(r){return Se(n,l,r)})}var sh=j(function(e,n){return J(e)?_t(e,n):[]}),ah=j(function(e){return mi(_n(e,J))}),lh=j(function(e){var n=Me(e);return J(n)&&(n=l),mi(_n(e,J),y(n,2))}),fh=j(function(e){var n=Me(e);return n=typeof n=="function"?n:l,mi(_n(e,J),l,n)}),oh=j(Di);function ch(e,n){return _s(e||[],n||[],gt)}function hh(e,n){return _s(e||[],n||[],mt)}var dh=j(function(e){var n=e.length,t=n>1?e[n-1]:l;return t=typeof t=="function"?(e.pop(),t):l,Qs(e,t)});function Vs(e){var n=u(e);return n.__chain__=!0,n}function ph(e,n){return n(e),e}function cr(e,n){return n(e)}var gh=fn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,i=function(s){return si(s,e)};return n>1||this.__actions__.length||!(r instanceof D)||!on(t)?this.thru(i):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:cr,args:[i],thisArg:l}),new Pe(r,this.__chain__).thru(function(s){return n&&!s.length&&s.push(l),s}))});function _h(){return Vs(this)}function xh(){return new Pe(this.value(),this.__chain__)}function vh(){this.__values__===l&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length,n=e?l:this.__values__[this.__index__++];return{done:e,value:n}}function mh(){return this}function wh(e){for(var n,t=this;t instanceof kt;){var r=Ks(t);r.__index__=0,r.__values__=l,n?i.__wrapped__=r:n=r;var i=r;t=t.__wrapped__}return i.__wrapped__=e,n}function bh(){var e=this.__wrapped__;if(e instanceof D){var n=e;return this.__actions__.length&&(n=new D(this)),n=n.reverse(),n.__actions__.push({func:cr,args:[Fi],thisArg:l}),new Pe(n,this.__chain__)}return this.thru(Fi)}function Ah(){return gs(this.__wrapped__,this.__actions__)}var yh=rr(function(e,n,t){H.call(e,t)?++e[t]:an(e,t,1)});function Sh(e,n,t){var r=T(e)?Tu:po;return t&&ge(e,n,t)&&(n=l),r(e,y(n,3))}function Ch(e,n){var t=T(e)?_n:Qu;return t(e,y(n,3))}var Nh=Ns(Ys),Ih=Ns(Zs);function Th(e,n){return se(hr(e,n),1)}function Rh(e,n){return se(hr(e,n),tn)}function Eh(e,n,t){return t=t===l?1:R(t),se(hr(e,n),t)}function ea(e,n){var t=T(e)?Fe:wn;return t(e,y(n,3))}function na(e,n){var t=T(e)?Yl:Ju;return t(e,y(n,3))}var Lh=rr(function(e,n,t){H.call(e,t)?e[t].push(n):an(e,t,[n])});function Oh(e,n,t,r){e=we(e)?e:Jn(e),t=t&&!r?R(t):0;var i=e.length;return t<0&&(t=te(i+t,0)),xr(e)?t<=i&&e.indexOf(n,t)>-1:!!i&&Mn(e,n,t)>-1}var jh=j(function(e,n,t){var r=-1,i=typeof n=="function",s=we(e)?d(e.length):[];return wn(e,function(f){s[++r]=i?Se(n,f,t):xt(f,n,t)}),s}),Fh=rr(function(e,n,t){an(e,t,n)});function hr(e,n){var t=T(e)?Y:is;return t(e,y(n,3))}function Dh(e,n,t,r){return e==null?[]:(T(n)||(n=n==null?[]:[n]),t=r?l:t,T(t)||(t=t==null?[]:[t]),ls(e,n,t))}var Ph=rr(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Wh(e,n,t){var r=T(e)?Yr:Ou,i=arguments.length<3;return r(e,y(n,4),t,i,wn)}function Bh(e,n,t){var r=T(e)?Zl:Ou,i=arguments.length<3;return r(e,y(n,4),t,i,Ju)}function Mh(e,n){var t=T(e)?_n:Qu;return t(e,gr(y(n,3)))}function Uh(e){var n=T(e)?Yu:Oo;return n(e)}function Hh(e,n,t){(t?ge(e,n,t):n===l)?n=1:n=R(n);var r=T(e)?lo:jo;return r(e,n)}function Gh(e){var n=T(e)?fo:Do;return n(e)}function qh(e){if(e==null)return 0;if(we(e))return xr(e)?Hn(e):e.length;var n=ce(e);return n==qe||n==ze?e.size:hi(e).length}function zh(e,n,t){var r=T(e)?Zr:Po;return t&&ge(e,n,t)&&(n=l),r(e,y(n,3))}var $h=j(function(e,n){if(e==null)return[];var t=n.length;return t>1&&ge(e,n[0],n[1])?n=[]:t>2&&ge(n[0],n[1],n[2])&&(n=[n[0]]),ls(e,se(n,1),[])}),dr=Sf||function(){return ue.Date.now()};function Kh(e,n){if(typeof n!="function")throw new De(X);return e=R(e),function(){if(--e<1)return n.apply(this,arguments)}}function ta(e,n,t){return n=t?l:n,n=e&&n==null?e.length:n,ln(e,ve,l,l,l,l,n)}function ra(e,n){var t;if(typeof n!="function")throw new De(X);return e=R(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=l),t}}var Pi=j(function(e,n,t){var r=ie;if(t.length){var i=vn(t,Xn(Pi));r|=L}return ln(e,r,n,t,i)}),ia=j(function(e,n,t){var r=ie|Oe;if(t.length){var i=vn(t,Xn(ia));r|=L}return ln(n,r,e,t,i)});function ua(e,n,t){n=t?l:n;var r=ln(e,N,l,l,l,l,l,n);return r.placeholder=ua.placeholder,r}function sa(e,n,t){n=t?l:n;var r=ln(e,m,l,l,l,l,l,n);return r.placeholder=sa.placeholder,r}function aa(e,n,t){var r,i,s,f,o,h,g=0,_=!1,x=!1,v=!0;if(typeof e!="function")throw new De(X);n=Ue(n)||0,Z(t)&&(_=!!t.leading,x="maxWait"in t,s=x?te(Ue(t.maxWait)||0,n):s,v="trailing"in t?!!t.trailing:v);function A(Q){var Ze=r,dn=i;return r=i=l,g=Q,f=e.apply(dn,Ze),f}function S(Q){return g=Q,o=At(F,n),_?A(Q):f}function O(Q){var Ze=Q-h,dn=Q-g,Na=n-Ze;return x?oe(Na,s-dn):Na}function C(Q){var Ze=Q-h,dn=Q-g;return h===l||Ze>=n||Ze<0||x&&dn>=s}function F(){var Q=dr();if(C(Q))return P(Q);o=At(F,O(Q))}function P(Q){return o=l,v&&r?A(Q):(r=i=l,f)}function Te(){o!==l&&xs(o),g=0,r=h=i=o=l}function _e(){return o===l?f:P(dr())}function Re(){var Q=dr(),Ze=C(Q);if(r=arguments,i=this,h=Q,Ze){if(o===l)return S(h);if(x)return xs(o),o=At(F,n),A(h)}return o===l&&(o=At(F,n)),f}return Re.cancel=Te,Re.flush=_e,Re}var Yh=j(function(e,n){return ku(e,1,n)}),Zh=j(function(e,n,t){return ku(e,Ue(n)||0,t)});function Xh(e){return ln(e,Qn)}function pr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new De(X);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var f=e.apply(this,r);return t.cache=s.set(i,f)||s,f};return t.cache=new(pr.Cache||sn),t}pr.Cache=sn;function gr(e){if(typeof e!="function")throw new De(X);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function kh(e){return ra(2,e)}var Jh=Wo(function(e,n){n=n.length==1&&T(n[0])?Y(n[0],Ce(y())):Y(se(n,1),Ce(y()));var t=n.length;return j(function(r){for(var i=-1,s=oe(r.length,t);++i<s;)r[i]=n[i].call(this,r[i]);return Se(e,this,r)})}),Wi=j(function(e,n){var t=vn(n,Xn(Wi));return ln(e,L,l,n,t)}),la=j(function(e,n){var t=vn(n,Xn(la));return ln(e,de,l,n,t)}),Qh=fn(function(e,n){return ln(e,z,l,l,l,n)});function Vh(e,n){if(typeof e!="function")throw new De(X);return n=n===l?n:R(n),j(e,n)}function ed(e,n){if(typeof e!="function")throw new De(X);return n=n==null?0:te(R(n),0),j(function(t){var r=t[n],i=yn(t,0,n);return r&&xn(i,r),Se(e,this,i)})}function nd(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new De(X);return Z(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),aa(e,n,{leading:r,maxWait:n,trailing:i})}function td(e){return ta(e,1)}function rd(e,n){return Wi(bi(n),e)}function id(){if(!arguments.length)return[];var e=arguments[0];return T(e)?e:[e]}function ud(e){return We(e,U)}function sd(e,n){return n=typeof n=="function"?n:l,We(e,U,n)}function ad(e){return We(e,E|U)}function ld(e,n){return n=typeof n=="function"?n:l,We(e,E|U,n)}function fd(e,n){return n==null||Xu(e,n,re(n))}function Ye(e,n){return e===n||e!==e&&n!==n}var od=ar(fi),cd=ar(function(e,n){return e>=n}),Fn=ns((function(){return arguments})())?ns:function(e){return k(e)&&H.call(e,"callee")&&!Hu.call(e,"callee")},T=d.isArray,hd=Au?Ce(Au):wo;function we(e){return e!=null&&_r(e.length)&&!cn(e)}function J(e){return k(e)&&we(e)}function dd(e){return e===!0||e===!1||k(e)&&pe(e)==tt}var Sn=Nf||Zi,pd=yu?Ce(yu):bo;function gd(e){return k(e)&&e.nodeType===1&&!yt(e)}function _d(e){if(e==null)return!0;if(we(e)&&(T(e)||typeof e=="string"||typeof e.splice=="function"||Sn(e)||kn(e)||Fn(e)))return!e.length;var n=ce(e);if(n==qe||n==ze)return!e.size;if(bt(e))return!hi(e).length;for(var t in e)if(H.call(e,t))return!1;return!0}function xd(e,n){return vt(e,n)}function vd(e,n,t){t=typeof t=="function"?t:l;var r=t?t(e,n):l;return r===l?vt(e,n,l,t):!!r}function Bi(e){if(!k(e))return!1;var n=pe(e);return n==Tt||n==Ma||typeof e.message=="string"&&typeof e.name=="string"&&!yt(e)}function md(e){return typeof e=="number"&&qu(e)}function cn(e){if(!Z(e))return!1;var n=pe(e);return n==Rt||n==ki||n==Ba||n==Ha}function fa(e){return typeof e=="number"&&e==R(e)}function _r(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gn}function Z(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function k(e){return e!=null&&typeof e=="object"}var oa=Su?Ce(Su):yo;function wd(e,n){return e===n||ci(e,n,Ti(n))}function bd(e,n,t){return t=typeof t=="function"?t:l,ci(e,n,Ti(n),t)}function Ad(e){return ca(e)&&e!=+e}function yd(e){if(sc(e))throw new I(G);return ts(e)}function Sd(e){return e===null}function Cd(e){return e==null}function ca(e){return typeof e=="number"||k(e)&&pe(e)==it}function yt(e){if(!k(e)||pe(e)!=rn)return!1;var n=qt(e);if(n===null)return!0;var t=H.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Mt.call(t)==wf}var Mi=Cu?Ce(Cu):So;function Nd(e){return fa(e)&&e>=-gn&&e<=gn}var ha=Nu?Ce(Nu):Co;function xr(e){return typeof e=="string"||!T(e)&&k(e)&&pe(e)==st}function Ie(e){return typeof e=="symbol"||k(e)&&pe(e)==Et}var kn=Iu?Ce(Iu):No;function Id(e){return e===l}function Td(e){return k(e)&&ce(e)==at}function Rd(e){return k(e)&&pe(e)==qa}var Ed=ar(di),Ld=ar(function(e,n){return e<=n});function da(e){if(!e)return[];if(we(e))return xr(e)?$e(e):me(e);if(ot&&e[ot])return lf(e[ot]());var n=ce(e),t=n==qe?ei:n==ze?Pt:Jn;return t(e)}function hn(e){if(!e)return e===0?e:0;if(e=Ue(e),e===tn||e===-tn){var n=e<0?-1:1;return n*Fa}return e===e?e:0}function R(e){var n=hn(e),t=n%1;return n===n?t?n-t:n:0}function pa(e){return e?En(R(e),0,Qe):0}function Ue(e){if(typeof e=="number")return e;if(Ie(e))return Nt;if(Z(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Z(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ju(e);var t=ol.test(e);return t||hl.test(e)?zl(e.slice(2),t?2:8):fl.test(e)?Nt:+e}function ga(e){return en(e,be(e))}function Od(e){return e?En(R(e),-gn,gn):e===0?e:0}function M(e){return e==null?"":Ne(e)}var jd=Yn(function(e,n){if(bt(n)||we(n)){en(n,re(n),e);return}for(var t in n)H.call(n,t)&&gt(e,t,n[t])}),_a=Yn(function(e,n){en(n,be(n),e)}),vr=Yn(function(e,n,t,r){en(n,be(n),e,r)}),Fd=Yn(function(e,n,t,r){en(n,re(n),e,r)}),Dd=fn(si);function Pd(e,n){var t=Kn(e);return n==null?t:Zu(t,n)}var Wd=j(function(e,n){e=q(e);var t=-1,r=n.length,i=r>2?n[2]:l;for(i&&ge(n[0],n[1],i)&&(r=1);++t<r;)for(var s=n[t],f=be(s),o=-1,h=f.length;++o<h;){var g=f[o],_=e[g];(_===l||Ye(_,qn[g])&&!H.call(e,g))&&(e[g]=s[g])}return e}),Bd=j(function(e){return e.push(l,js),Se(xa,l,e)});function Md(e,n){return Ru(e,y(n,3),Ve)}function Ud(e,n){return Ru(e,y(n,3),li)}function Hd(e,n){return e==null?e:ai(e,y(n,3),be)}function Gd(e,n){return e==null?e:Vu(e,y(n,3),be)}function qd(e,n){return e&&Ve(e,y(n,3))}function zd(e,n){return e&&li(e,y(n,3))}function $d(e){return e==null?[]:Vt(e,re(e))}function Kd(e){return e==null?[]:Vt(e,be(e))}function Ui(e,n,t){var r=e==null?l:Ln(e,n);return r===l?t:r}function Yd(e,n){return e!=null&&Ps(e,n,_o)}function Hi(e,n){return e!=null&&Ps(e,n,xo)}var Zd=Ts(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Ut.call(n)),e[n]=t},qi(Ae)),Xd=Ts(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Ut.call(n)),H.call(e,n)?e[n].push(t):e[n]=[t]},y),kd=j(xt);function re(e){return we(e)?Ku(e):hi(e)}function be(e){return we(e)?Ku(e,!0):Io(e)}function Jd(e,n){var t={};return n=y(n,3),Ve(e,function(r,i,s){an(t,n(r,i,s),r)}),t}function Qd(e,n){var t={};return n=y(n,3),Ve(e,function(r,i,s){an(t,i,n(r,i,s))}),t}var Vd=Yn(function(e,n,t){er(e,n,t)}),xa=Yn(function(e,n,t,r){er(e,n,t,r)}),ep=fn(function(e,n){var t={};if(e==null)return t;var r=!1;n=Y(n,function(s){return s=An(s,e),r||(r=s.length>1),s}),en(e,Ni(e),t),r&&(t=We(t,E|ke|U,Zo));for(var i=n.length;i--;)vi(t,n[i]);return t});function np(e,n){return va(e,gr(y(n)))}var tp=fn(function(e,n){return e==null?{}:Ro(e,n)});function va(e,n){if(e==null)return{};var t=Y(Ni(e),function(r){return[r]});return n=y(n),fs(e,t,function(r,i){return n(r,i[0])})}function rp(e,n,t){n=An(n,e);var r=-1,i=n.length;for(i||(i=1,e=l);++r<i;){var s=e==null?l:e[nn(n[r])];s===l&&(r=i,s=t),e=cn(s)?s.call(e):s}return e}function ip(e,n,t){return e==null?e:mt(e,n,t)}function up(e,n,t,r){return r=typeof r=="function"?r:l,e==null?e:mt(e,n,t,r)}var ma=Ls(re),wa=Ls(be);function sp(e,n,t){var r=T(e),i=r||Sn(e)||kn(e);if(n=y(n,4),t==null){var s=e&&e.constructor;i?t=r?new s:[]:Z(e)?t=cn(s)?Kn(qt(e)):{}:t={}}return(i?Fe:Ve)(e,function(f,o,h){return n(t,f,o,h)}),t}function ap(e,n){return e==null?!0:vi(e,n)}function lp(e,n,t){return e==null?e:ps(e,n,bi(t))}function fp(e,n,t,r){return r=typeof r=="function"?r:l,e==null?e:ps(e,n,bi(t),r)}function Jn(e){return e==null?[]:Vr(e,re(e))}function op(e){return e==null?[]:Vr(e,be(e))}function cp(e,n,t){return t===l&&(t=n,n=l),t!==l&&(t=Ue(t),t=t===t?t:0),n!==l&&(n=Ue(n),n=n===n?n:0),En(Ue(e),n,t)}function hp(e,n,t){return n=hn(n),t===l?(t=n,n=0):t=hn(t),e=Ue(e),vo(e,n,t)}function dp(e,n,t){if(t&&typeof t!="boolean"&&ge(e,n,t)&&(n=t=l),t===l&&(typeof n=="boolean"?(t=n,n=l):typeof e=="boolean"&&(t=e,e=l)),e===l&&n===l?(e=0,n=1):(e=hn(e),n===l?(n=e,e=0):n=hn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var i=zu();return oe(e+i*(n-e+ql("1e-"+((i+"").length-1))),n)}return gi(e,n)}var pp=Zn(function(e,n,t){return n=n.toLowerCase(),e+(t?ba(n):n)});function ba(e){return Gi(M(e).toLowerCase())}function Aa(e){return e=M(e),e&&e.replace(pl,tf).replace(jl,"")}function gp(e,n,t){e=M(e),n=Ne(n);var r=e.length;t=t===l?r:En(R(t),0,r);var i=t;return t-=n.length,t>=0&&e.slice(t,i)==n}function _p(e){return e=M(e),e&&Za.test(e)?e.replace(Vi,rf):e}function xp(e){return e=M(e),e&&el.test(e)?e.replace(Wr,"\\$&"):e}var vp=Zn(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),mp=Zn(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),wp=Cs("toLowerCase");function bp(e,n,t){e=M(e),n=R(n);var r=n?Hn(e):0;if(!n||r>=n)return e;var i=(n-r)/2;return sr(Yt(i),t)+e+sr(Kt(i),t)}function Ap(e,n,t){e=M(e),n=R(n);var r=n?Hn(e):0;return n&&r<n?e+sr(n-r,t):e}function yp(e,n,t){e=M(e),n=R(n);var r=n?Hn(e):0;return n&&r<n?sr(n-r,t)+e:e}function Sp(e,n,t){return t||n==null?n=0:n&&(n=+n),Ef(M(e).replace(Br,""),n||0)}function Cp(e,n,t){return(t?ge(e,n,t):n===l)?n=1:n=R(n),_i(M(e),n)}function Np(){var e=arguments,n=M(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Ip=Zn(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function Tp(e,n,t){return t&&typeof t!="number"&&ge(e,n,t)&&(n=t=l),t=t===l?Qe:t>>>0,t?(e=M(e),e&&(typeof n=="string"||n!=null&&!Mi(n))&&(n=Ne(n),!n&&Un(e))?yn($e(e),0,t):e.split(n,t)):[]}var Rp=Zn(function(e,n,t){return e+(t?" ":"")+Gi(n)});function Ep(e,n,t){return e=M(e),t=t==null?0:En(R(t),0,e.length),n=Ne(n),e.slice(t,t+n.length)==n}function Lp(e,n,t){var r=u.templateSettings;t&&ge(e,n,t)&&(n=l),e=M(e),n=vr({},n,r,Os);var i=vr({},n.imports,r.imports,Os),s=re(i),f=Vr(i,s),o,h,g=0,_=n.interpolate||Lt,x="__p += '",v=ni((n.escape||Lt).source+"|"+_.source+"|"+(_===eu?ll:Lt).source+"|"+(n.evaluate||Lt).source+"|$","g"),A="//# sourceURL="+(H.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bl+"]")+`
`;e.replace(v,function(C,F,P,Te,_e,Re){return P||(P=Te),x+=e.slice(g,Re).replace(gl,uf),F&&(o=!0,x+=`' +
__e(`+F+`) +
'`),_e&&(h=!0,x+=`';
`+_e+`;
__p += '`),P&&(x+=`' +
((__t = (`+P+`)) == null ? '' : __t) +
'`),g=Re+C.length,C}),x+=`';
`;var S=H.call(n,"variable")&&n.variable;if(!S)x=`with (obj) {
`+x+`
}
`;else if(sl.test(S))throw new I(he);x=(h?x.replace(za,""):x).replace($a,"$1").replace(Ka,"$1;"),x="function("+(S||"obj")+`) {
`+(S?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var O=Sa(function(){return B(s,A+"return "+x).apply(l,f)});if(O.source=x,Bi(O))throw O;return O}function Op(e){return M(e).toLowerCase()}function jp(e){return M(e).toUpperCase()}function Fp(e,n,t){if(e=M(e),e&&(t||n===l))return ju(e);if(!e||!(n=Ne(n)))return e;var r=$e(e),i=$e(n),s=Fu(r,i),f=Du(r,i)+1;return yn(r,s,f).join("")}function Dp(e,n,t){if(e=M(e),e&&(t||n===l))return e.slice(0,Wu(e)+1);if(!e||!(n=Ne(n)))return e;var r=$e(e),i=Du(r,$e(n))+1;return yn(r,0,i).join("")}function Pp(e,n,t){if(e=M(e),e&&(t||n===l))return e.replace(Br,"");if(!e||!(n=Ne(n)))return e;var r=$e(e),i=Fu(r,$e(n));return yn(r,i).join("")}function Wp(e,n){var t=fe,r=Ct;if(Z(n)){var i="separator"in n?n.separator:i;t="length"in n?R(n.length):t,r="omission"in n?Ne(n.omission):r}e=M(e);var s=e.length;if(Un(e)){var f=$e(e);s=f.length}if(t>=s)return e;var o=t-Hn(r);if(o<1)return r;var h=f?yn(f,0,o).join(""):e.slice(0,o);if(i===l)return h+r;if(f&&(o+=h.length-o),Mi(i)){if(e.slice(o).search(i)){var g,_=h;for(i.global||(i=ni(i.source,M(nu.exec(i))+"g")),i.lastIndex=0;g=i.exec(_);)var x=g.index;h=h.slice(0,x===l?o:x)}}else if(e.indexOf(Ne(i),o)!=o){var v=h.lastIndexOf(i);v>-1&&(h=h.slice(0,v))}return h+r}function Bp(e){return e=M(e),e&&Ya.test(e)?e.replace(Qi,hf):e}var Mp=Zn(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),Gi=Cs("toUpperCase");function ya(e,n,t){return e=M(e),n=t?l:n,n===l?af(e)?gf(e):Jl(e):e.match(n)||[]}var Sa=j(function(e,n){try{return Se(e,l,n)}catch(t){return Bi(t)?t:new I(t)}}),Up=fn(function(e,n){return Fe(n,function(t){t=nn(t),an(e,t,Pi(e[t],e))}),e});function Hp(e){var n=e==null?0:e.length,t=y();return e=n?Y(e,function(r){if(typeof r[1]!="function")throw new De(X);return[t(r[0]),r[1]]}):[],j(function(r){for(var i=-1;++i<n;){var s=e[i];if(Se(s[0],this,r))return Se(s[1],this,r)}})}function Gp(e){return ho(We(e,E))}function qi(e){return function(){return e}}function qp(e,n){return e==null||e!==e?n:e}var zp=Is(),$p=Is(!0);function Ae(e){return e}function zi(e){return rs(typeof e=="function"?e:We(e,E))}function Kp(e){return us(We(e,E))}function Yp(e,n){return ss(e,We(n,E))}var Zp=j(function(e,n){return function(t){return xt(t,e,n)}}),Xp=j(function(e,n){return function(t){return xt(e,t,n)}});function $i(e,n,t){var r=re(n),i=Vt(n,r);t==null&&!(Z(n)&&(i.length||!r.length))&&(t=n,n=e,e=this,i=Vt(n,re(n)));var s=!(Z(t)&&"chain"in t)||!!t.chain,f=cn(e);return Fe(i,function(o){var h=n[o];e[o]=h,f&&(e.prototype[o]=function(){var g=this.__chain__;if(s||g){var _=e(this.__wrapped__),x=_.__actions__=me(this.__actions__);return x.push({func:h,args:arguments,thisArg:e}),_.__chain__=g,_}return h.apply(e,xn([this.value()],arguments))})}),e}function kp(){return ue._===this&&(ue._=bf),this}function Ki(){}function Jp(e){return e=R(e),j(function(n){return as(n,e)})}var Qp=yi(Y),Vp=yi(Tu),eg=yi(Zr);function Ca(e){return Ei(e)?Xr(nn(e)):Eo(e)}function ng(e){return function(n){return e==null?l:Ln(e,n)}}var tg=Rs(),rg=Rs(!0);function Yi(){return[]}function Zi(){return!1}function ig(){return{}}function ug(){return""}function sg(){return!0}function ag(e,n){if(e=R(e),e<1||e>gn)return[];var t=Qe,r=oe(e,Qe);n=y(n),e-=Qe;for(var i=Qr(r,n);++t<e;)n(t);return i}function lg(e){return T(e)?Y(e,nn):Ie(e)?[e]:me($s(M(e)))}function fg(e){var n=++mf;return M(e)+n}var og=ur(function(e,n){return e+n},0),cg=Si("ceil"),hg=ur(function(e,n){return e/n},1),dg=Si("floor");function pg(e){return e&&e.length?Qt(e,Ae,fi):l}function gg(e,n){return e&&e.length?Qt(e,y(n,2),fi):l}function _g(e){return Lu(e,Ae)}function xg(e,n){return Lu(e,y(n,2))}function vg(e){return e&&e.length?Qt(e,Ae,di):l}function mg(e,n){return e&&e.length?Qt(e,y(n,2),di):l}var wg=ur(function(e,n){return e*n},1),bg=Si("round"),Ag=ur(function(e,n){return e-n},0);function yg(e){return e&&e.length?Jr(e,Ae):0}function Sg(e,n){return e&&e.length?Jr(e,y(n,2)):0}return u.after=Kh,u.ary=ta,u.assign=jd,u.assignIn=_a,u.assignInWith=vr,u.assignWith=Fd,u.at=Dd,u.before=ra,u.bind=Pi,u.bindAll=Up,u.bindKey=ia,u.castArray=id,u.chain=Vs,u.chunk=dc,u.compact=pc,u.concat=gc,u.cond=Hp,u.conforms=Gp,u.constant=qi,u.countBy=yh,u.create=Pd,u.curry=ua,u.curryRight=sa,u.debounce=aa,u.defaults=Wd,u.defaultsDeep=Bd,u.defer=Yh,u.delay=Zh,u.difference=_c,u.differenceBy=xc,u.differenceWith=vc,u.drop=mc,u.dropRight=wc,u.dropRightWhile=bc,u.dropWhile=Ac,u.fill=yc,u.filter=Ch,u.flatMap=Th,u.flatMapDeep=Rh,u.flatMapDepth=Eh,u.flatten=Xs,u.flattenDeep=Sc,u.flattenDepth=Cc,u.flip=Xh,u.flow=zp,u.flowRight=$p,u.fromPairs=Nc,u.functions=$d,u.functionsIn=Kd,u.groupBy=Lh,u.initial=Tc,u.intersection=Rc,u.intersectionBy=Ec,u.intersectionWith=Lc,u.invert=Zd,u.invertBy=Xd,u.invokeMap=jh,u.iteratee=zi,u.keyBy=Fh,u.keys=re,u.keysIn=be,u.map=hr,u.mapKeys=Jd,u.mapValues=Qd,u.matches=Kp,u.matchesProperty=Yp,u.memoize=pr,u.merge=Vd,u.mergeWith=xa,u.method=Zp,u.methodOf=Xp,u.mixin=$i,u.negate=gr,u.nthArg=Jp,u.omit=ep,u.omitBy=np,u.once=kh,u.orderBy=Dh,u.over=Qp,u.overArgs=Jh,u.overEvery=Vp,u.overSome=eg,u.partial=Wi,u.partialRight=la,u.partition=Ph,u.pick=tp,u.pickBy=va,u.property=Ca,u.propertyOf=ng,u.pull=Dc,u.pullAll=Js,u.pullAllBy=Pc,u.pullAllWith=Wc,u.pullAt=Bc,u.range=tg,u.rangeRight=rg,u.rearg=Qh,u.reject=Mh,u.remove=Mc,u.rest=Vh,u.reverse=Fi,u.sampleSize=Hh,u.set=ip,u.setWith=up,u.shuffle=Gh,u.slice=Uc,u.sortBy=$h,u.sortedUniq=Yc,u.sortedUniqBy=Zc,u.split=Tp,u.spread=ed,u.tail=Xc,u.take=kc,u.takeRight=Jc,u.takeRightWhile=Qc,u.takeWhile=Vc,u.tap=ph,u.throttle=nd,u.thru=cr,u.toArray=da,u.toPairs=ma,u.toPairsIn=wa,u.toPath=lg,u.toPlainObject=ga,u.transform=sp,u.unary=td,u.union=eh,u.unionBy=nh,u.unionWith=th,u.uniq=rh,u.uniqBy=ih,u.uniqWith=uh,u.unset=ap,u.unzip=Di,u.unzipWith=Qs,u.update=lp,u.updateWith=fp,u.values=Jn,u.valuesIn=op,u.without=sh,u.words=ya,u.wrap=rd,u.xor=ah,u.xorBy=lh,u.xorWith=fh,u.zip=oh,u.zipObject=ch,u.zipObjectDeep=hh,u.zipWith=dh,u.entries=ma,u.entriesIn=wa,u.extend=_a,u.extendWith=vr,$i(u,u),u.add=og,u.attempt=Sa,u.camelCase=pp,u.capitalize=ba,u.ceil=cg,u.clamp=cp,u.clone=ud,u.cloneDeep=ad,u.cloneDeepWith=ld,u.cloneWith=sd,u.conformsTo=fd,u.deburr=Aa,u.defaultTo=qp,u.divide=hg,u.endsWith=gp,u.eq=Ye,u.escape=_p,u.escapeRegExp=xp,u.every=Sh,u.find=Nh,u.findIndex=Ys,u.findKey=Md,u.findLast=Ih,u.findLastIndex=Zs,u.findLastKey=Ud,u.floor=dg,u.forEach=ea,u.forEachRight=na,u.forIn=Hd,u.forInRight=Gd,u.forOwn=qd,u.forOwnRight=zd,u.get=Ui,u.gt=od,u.gte=cd,u.has=Yd,u.hasIn=Hi,u.head=ks,u.identity=Ae,u.includes=Oh,u.indexOf=Ic,u.inRange=hp,u.invoke=kd,u.isArguments=Fn,u.isArray=T,u.isArrayBuffer=hd,u.isArrayLike=we,u.isArrayLikeObject=J,u.isBoolean=dd,u.isBuffer=Sn,u.isDate=pd,u.isElement=gd,u.isEmpty=_d,u.isEqual=xd,u.isEqualWith=vd,u.isError=Bi,u.isFinite=md,u.isFunction=cn,u.isInteger=fa,u.isLength=_r,u.isMap=oa,u.isMatch=wd,u.isMatchWith=bd,u.isNaN=Ad,u.isNative=yd,u.isNil=Cd,u.isNull=Sd,u.isNumber=ca,u.isObject=Z,u.isObjectLike=k,u.isPlainObject=yt,u.isRegExp=Mi,u.isSafeInteger=Nd,u.isSet=ha,u.isString=xr,u.isSymbol=Ie,u.isTypedArray=kn,u.isUndefined=Id,u.isWeakMap=Td,u.isWeakSet=Rd,u.join=Oc,u.kebabCase=vp,u.last=Me,u.lastIndexOf=jc,u.lowerCase=mp,u.lowerFirst=wp,u.lt=Ed,u.lte=Ld,u.max=pg,u.maxBy=gg,u.mean=_g,u.meanBy=xg,u.min=vg,u.minBy=mg,u.stubArray=Yi,u.stubFalse=Zi,u.stubObject=ig,u.stubString=ug,u.stubTrue=sg,u.multiply=wg,u.nth=Fc,u.noConflict=kp,u.noop=Ki,u.now=dr,u.pad=bp,u.padEnd=Ap,u.padStart=yp,u.parseInt=Sp,u.random=dp,u.reduce=Wh,u.reduceRight=Bh,u.repeat=Cp,u.replace=Np,u.result=rp,u.round=bg,u.runInContext=c,u.sample=Uh,u.size=qh,u.snakeCase=Ip,u.some=zh,u.sortedIndex=Hc,u.sortedIndexBy=Gc,u.sortedIndexOf=qc,u.sortedLastIndex=zc,u.sortedLastIndexBy=$c,u.sortedLastIndexOf=Kc,u.startCase=Rp,u.startsWith=Ep,u.subtract=Ag,u.sum=yg,u.sumBy=Sg,u.template=Lp,u.times=ag,u.toFinite=hn,u.toInteger=R,u.toLength=pa,u.toLower=Op,u.toNumber=Ue,u.toSafeInteger=Od,u.toString=M,u.toUpper=jp,u.trim=Fp,u.trimEnd=Dp,u.trimStart=Pp,u.truncate=Wp,u.unescape=Bp,u.uniqueId=fg,u.upperCase=Mp,u.upperFirst=Gi,u.each=ea,u.eachRight=na,u.first=ks,$i(u,(function(){var e={};return Ve(u,function(n,t){H.call(u.prototype,t)||(e[t]=n)}),e})(),{chain:!1}),u.VERSION=Ee,Fe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),Fe(["drop","take"],function(e,n){D.prototype[e]=function(t){t=t===l?1:te(R(t),0);var r=this.__filtered__&&!n?new D(this):this.clone();return r.__filtered__?r.__takeCount__=oe(t,r.__takeCount__):r.__views__.push({size:oe(t,Qe),type:e+(r.__dir__<0?"Right":"")}),r},D.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Fe(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==Cn||t==Xi;D.prototype[e]=function(i){var s=this.clone();return s.__iteratees__.push({iteratee:y(i,3),type:t}),s.__filtered__=s.__filtered__||r,s}}),Fe(["head","last"],function(e,n){var t="take"+(n?"Right":"");D.prototype[e]=function(){return this[t](1).value()[0]}}),Fe(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");D.prototype[e]=function(){return this.__filtered__?new D(this):this[t](1)}}),D.prototype.compact=function(){return this.filter(Ae)},D.prototype.find=function(e){return this.filter(e).head()},D.prototype.findLast=function(e){return this.reverse().find(e)},D.prototype.invokeMap=j(function(e,n){return typeof e=="function"?new D(this):this.map(function(t){return xt(t,e,n)})}),D.prototype.reject=function(e){return this.filter(gr(y(e)))},D.prototype.slice=function(e,n){e=R(e);var t=this;return t.__filtered__&&(e>0||n<0)?new D(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==l&&(n=R(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},D.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},D.prototype.toArray=function(){return this.take(Qe)},Ve(D.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=u[r?"take"+(n=="last"?"Right":""):n],s=r||/^find/.test(n);i&&(u.prototype[n]=function(){var f=this.__wrapped__,o=r?[1]:arguments,h=f instanceof D,g=o[0],_=h||T(f),x=function(F){var P=i.apply(u,xn([F],o));return r&&v?P[0]:P};_&&t&&typeof g=="function"&&g.length!=1&&(h=_=!1);var v=this.__chain__,A=!!this.__actions__.length,S=s&&!v,O=h&&!A;if(!s&&_){f=O?f:new D(this);var C=e.apply(f,o);return C.__actions__.push({func:cr,args:[x],thisArg:l}),new Pe(C,v)}return S&&O?e.apply(this,o):(C=this.thru(x),S?r?C.value()[0]:C.value():C)})}),Fe(["pop","push","shift","sort","splice","unshift"],function(e){var n=Wt[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var s=this.value();return n.apply(T(s)?s:[],i)}return this[t](function(f){return n.apply(T(f)?f:[],i)})}}),Ve(D.prototype,function(e,n){var t=u[n];if(t){var r=t.name+"";H.call($n,r)||($n[r]=[]),$n[r].push({name:n,func:t})}}),$n[ir(l,Oe).name]=[{name:"wrapper",func:l}],D.prototype.clone=Wf,D.prototype.reverse=Bf,D.prototype.value=Mf,u.prototype.at=gh,u.prototype.chain=_h,u.prototype.commit=xh,u.prototype.next=vh,u.prototype.plant=wh,u.prototype.reverse=bh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Ah,u.prototype.first=u.prototype.head,ot&&(u.prototype[ot]=mh),u}),Gn=_f();Nn?((Nn.exports=Gn)._=Gn,zr._=Gn):ue._=Gn}).call(Gg)})(St,St.exports)),St.exports}var zg=qg();const $g=({transaction:W,onClose:ee})=>{const l=()=>{window.print()},Ee=W.sale_items.reduce((b,G)=>b+parseFloat(G.total),0);return a.jsx("div",{className:"bg-opacity-50 fixed inset-0 z-50 flex items-center justify-center bg-black p-4",children:a.jsxs("div",{className:"max-h-[90vh] w-full max-w-md overflow-y-auto rounded-lg bg-white p-8 print:max-w-none print:shadow-none",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"mb-2 text-2xl font-bold",children:"CREDIT"}),a.jsx("h2",{className:"text-xl font-bold",children:"RECEIPT"}),a.jsx("div",{className:"mt-2 border-t-2 border-black"})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-bold",children:"DATE"}),a.jsx("span",{className:"ml-4 flex-1 border-b border-black",children:W.date})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-bold",children:"CREDITOR"}),a.jsx("span",{className:"ml-4 flex-1 border-b border-black",children:W.customer})]}),a.jsx("div",{children:a.jsx("span",{className:"font-bold",children:"DESCRIPTION"})})]}),a.jsxs("table",{className:"mb-4 w-full border-2 border-black",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2 border-black",children:[a.jsx("th",{className:"border-r-2 border-black p-2 text-left font-bold",children:"PRODUCT"}),a.jsx("th",{className:"border-r-2 border-black p-2 text-left font-bold",children:"QTY"}),a.jsx("th",{className:"border-r-2 border-black p-2 text-left font-bold",children:"UNIT PRICE"}),a.jsx("th",{className:"p-2 text-left font-bold",children:"AMOUNT"})]})}),a.jsx("tbody",{children:W.sale_items.map((b,G)=>a.jsxs("tr",{className:"border-b border-black",children:[a.jsx("td",{className:"border-r-2 border-black p-2",children:b.product}),a.jsx("td",{className:"border-r-2 border-black p-2",children:b.quantity}),a.jsxs("td",{className:"border-r-2 border-black p-2",children:["GH₵",parseFloat(b.unit_selling_price).toFixed(2)]}),a.jsxs("td",{className:"p-2",children:["GH₵",parseFloat(b.total).toFixed(2)]})]},G))})]}),a.jsxs("div",{className:"mb-6 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg font-bold",children:"TOTAL"}),a.jsxs("div",{className:"min-w-[100px] border-2 border-black p-2 text-center",children:["GH₵",Ee.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-bold",children:"AMOUNT PAID"}),a.jsxs("div",{className:"min-w-[100px] border-2 border-black p-2 text-center",children:["GH₵",parseFloat(W.amount_paid).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-bold text-red-600",children:"AMOUNT OWED"}),a.jsxs("div",{className:"min-w-[100px] border-2 border-red-600 p-2 text-center font-bold text-red-600",children:["GH₵",parseFloat(W.amount_owed).toFixed(2)]})]})]}),a.jsx("div",{className:"border-t-2 border-black pt-4",children:a.jsx("div",{className:"text-center",children:a.jsx("h3",{className:"text-lg font-bold",children:"CREDIT TRANSACTION"})})}),a.jsxs("div",{className:"mt-6 flex gap-2 print:hidden",children:[a.jsxs(Xe,{onClick:l,className:"flex-1",children:[a.jsx(ja,{className:"mr-2 h-4 w-4"}),"Print"]}),a.jsx(Xe,{onClick:ee,variant:"outline",className:"flex-1",children:"Close"})]})]})})},Kg=({transaction:W,onClose:ee})=>{const l=()=>{window.print()},Ee=W.sale_items.reduce((b,G)=>b+parseFloat(G.total),0);return a.jsx("div",{className:"bg-opacity-50 fixed inset-0 z-50 flex items-center justify-center bg-black p-4",children:a.jsxs("div",{className:"max-h-[90vh] w-full max-w-md overflow-y-auto rounded-lg bg-white p-8 print:max-w-none print:shadow-none",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h1",{className:"mb-2 text-2xl font-bold",children:"INVOICE"}),a.jsx("h2",{className:"text-xl font-bold",children:"RECEIPT"}),a.jsx("div",{className:"mt-2 border-t-2 border-black"})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-bold",children:"DATE"}),a.jsx("span",{className:"ml-4 flex-1 border-b border-black",children:W.date})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-bold",children:"CUSTOMER"}),a.jsx("span",{className:"ml-4 flex-1 border-b border-black",children:W.customer})]}),a.jsx("div",{children:a.jsx("span",{className:"font-bold",children:"DESCRIPTION"})})]}),a.jsxs("table",{className:"mb-4 w-full border-2 border-black",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2 border-black",children:[a.jsx("th",{className:"border-r-2 border-black p-2 text-left font-bold",children:"PRODUCT"}),a.jsx("th",{className:"border-r-2 border-black p-2 text-left font-bold",children:"QTY"}),a.jsx("th",{className:"border-r-2 border-black p-2 text-left font-bold",children:"UNIT PRICE"}),a.jsx("th",{className:"p-2 text-left font-bold",children:"AMOUNT"})]})}),a.jsx("tbody",{children:W.sale_items.map((b,G)=>a.jsxs("tr",{className:"border-b border-black",children:[a.jsx("td",{className:"border-r-2 border-black p-2",children:b.product}),a.jsx("td",{className:"border-r-2 border-black p-2",children:b.quantity}),a.jsxs("td",{className:"border-r-2 border-black p-2",children:["GH₵",parseFloat(b.unit_selling_price).toFixed(2)]}),a.jsxs("td",{className:"p-2",children:["GH₵",parseFloat(b.total).toFixed(2)]})]},G))})]}),a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("span",{className:"text-xl font-bold",children:"TOTAL"}),a.jsxs("div",{className:"min-w-[100px] border-2 border-black p-2 text-center",children:["GH₵",Ee.toFixed(2)]})]}),a.jsx("div",{className:"border-t-2 border-black pt-4",children:a.jsx("div",{className:"text-center",children:a.jsx("h3",{className:"text-lg font-bold",children:"INSTANT PAYMENT"})})}),a.jsxs("div",{className:"mt-6 flex gap-2 print:hidden",children:[a.jsxs(Xe,{onClick:l,className:"flex-1",children:[a.jsx(ja,{className:"mr-2 h-4 w-4"}),"Print"]}),a.jsx(Xe,{onClick:ee,variant:"outline",className:"flex-1",children:"Close"})]})]})})},Yg=({searchTerm:W,onSearchChange:ee})=>a.jsx("div",{className:"mb-4 flex items-center space-x-2",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ug,{className:"text-muted-foreground absolute top-2.5 left-2 h-4 w-4"}),a.jsx(pn,{placeholder:"Search by Transaction ID, Customer, or Product...",value:W,onChange:l=>ee(l.target.value),className:"pl-8"})]})}),Zg=({sales_transactions:W})=>{const[ee,l]=V.useState(null),[Ee,b]=V.useState(null),[G,X]=V.useState(""),he=new Date().toISOString().slice(0,10),ae=new Date(Date.now()-2880*60*1e3).toISOString().slice(0,10),[ye,Le]=V.useState(ae),[E,ke]=V.useState(he),U=W.current_page,le=V.useCallback(zg.debounce((N,m,L,de)=>{Ia.get(route("sales-transactions.index"),{search:N,start_date:m,end_date:L,page:de},{preserveState:!0,preserveScroll:!0,replace:!0})},500),[]);V.useEffect(()=>{le(G,ye,E,U)},[G,ye,E,U,le]);const xe=(N,m)=>{m==="start"?Le(N):ke(N)},ie=N=>{window.confirm("Are you sure you want to delete this transaction?")&&Ia.delete(route("sales-transactions.destroy",N))},Oe=N=>{l(N),N.status==="Completed"&&parseFloat(N.amount_owed)===0?b("instant"):b("credit")},Je=()=>{l(null),b(null)};return a.jsxs(a.Fragment,{children:[a.jsx(Wg,{startDate:ye,endDate:E,onChange:xe}),a.jsxs(Sr,{children:[a.jsxs(Cr,{children:[a.jsx(Nr,{children:"Sales Transactions"}),a.jsx(Yg,{searchTerm:G,onSearchChange:X})]}),a.jsxs(Ir,{children:[a.jsxs(Fg,{children:[a.jsx(Dg,{children:a.jsxs(Ea,{children:[a.jsx(He,{children:"Transaction ID"}),a.jsx(He,{children:"Date"}),a.jsx(He,{children:"Customer"}),a.jsx(He,{children:"Product"}),a.jsx(He,{children:"Quantity"}),a.jsx(He,{children:"Unit Price"}),a.jsx(He,{children:"Total"}),a.jsx(He,{children:"Payment Type"}),a.jsx(He,{children:"Amount Paid"}),a.jsx(He,{children:"Amount Owed"}),a.jsx(He,{children:"Status"}),a.jsx(He,{children:"Actions"})]})}),a.jsx(Pg,{children:W.data.map(N=>a.jsxs(Ea,{children:[a.jsx(Ge,{className:"font-medium",children:N.id}),a.jsx(Ge,{children:N.date}),a.jsx(Ge,{children:N.customer}),a.jsx(Ge,{children:N.sale_items.map((m,L)=>a.jsx("div",{children:m.product},L))}),a.jsx(Ge,{children:N.sale_items.map((m,L)=>a.jsx("div",{children:m.quantity},L))}),a.jsx(Ge,{children:N.sale_items.map((m,L)=>a.jsxs("div",{children:["GH₵",parseFloat(m.unit_selling_price).toFixed(2)]},L))}),a.jsx(Ge,{className:"font-medium",children:N.sale_items.map((m,L)=>a.jsxs("div",{children:["GH₵",parseFloat(m.total).toFixed(2)]},L))}),a.jsx(Ge,{children:a.jsx(Ra,{variant:N.status==="Partial"?"secondary":N.payment_type==="Cash"?"default":"secondary",children:N.status==="Partial"?"Partial":N.payment_type})}),a.jsxs(Ge,{children:["GH₵",parseFloat(N.amount_paid).toFixed(2)]}),a.jsxs(Ge,{children:["GH₵",parseFloat(N.amount_owed).toFixed(2)]}),a.jsx(Ge,{children:a.jsx(Ra,{variant:N.status==="Completed"?"default":N.status==="Partial"?"secondary":N.status==="Credit"?"outline":"secondary",children:N.status})}),a.jsx(Ge,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>Oe(N),className:"text-blue-600 hover:text-blue-800",children:[a.jsx(Ng,{className:"mr-1 h-4 w-4"}),"Receipt"]}),a.jsx(Xe,{variant:"destructive",size:"sm",onClick:()=>ie(N.id),className:"text-white",children:"Delete"})]})})]},N.id))})]}),W.data.length===0?a.jsx("div",{className:"text-muted-foreground py-8 text-center",children:"No transactions found matching your search."}):a.jsxs("div",{className:"my-3 flex items-center justify-center gap-4",children:[W.prev_page_url&&a.jsx(Ta,{preserveScroll:!0,preserveState:!0,href:W.prev_page_url,className:"rounded border px-4 py-2 hover:bg-gray-100",children:"« Previous"}),a.jsxs("span",{className:"px-4 py-2 font-medium",children:["Page ",W.current_page]}),W.next_page_url&&a.jsx(Ta,{preserveScroll:!0,preserveState:!0,href:W.next_page_url,className:"rounded border px-4 py-2 hover:bg-gray-100",children:"Next »"})]})]})]}),ee&&Ee==="instant"&&a.jsx(Kg,{transaction:ee,onClose:Je}),ee&&Ee==="credit"&&a.jsx($g,{transaction:ee,onClose:Je})]})};function f_({sales_transactions:W=[],products:ee=[],customers:l=[]}){const[Ee,b]=V.useState(!1),[G,X]=V.useState([{product_id:"",qty:"",unit_selling_price:"",total:""}]),[he,ae]=V.useState(""),[ye,Le]=V.useState(""),[E,ke]=V.useState("cash"),U=Cg({customer_id:"",customer_name:"",transaction_date:new Date().toISOString().split("T")[0],items:G,amount_paid:"",due_date:"",payment_type:"cash"});V.useEffect(()=>{U.setData("items",G)},[G]),V.useEffect(()=>{U.setData("amount_paid",he)},[he]),V.useEffect(()=>{U.setData("due_date",ye)},[ye]),V.useEffect(()=>{U.setData("payment_type",E)},[E]);const le=G.reduce((m,L)=>m+(parseFloat(L.total)||0),0);V.useEffect(()=>{E==="cash"&&(ae(le.toString()),U.setError("amount_paid",void 0)),E==="credit"&&(ae("0"),U.setError("amount_paid",void 0))},[E,le]);const xe=()=>{X([{product_id:"",qty:"",unit_selling_price:"",total:""}]),ae(""),Le(""),ke("cash"),U.reset(),U.setData({customer_id:"",customer_name:"",transaction_date:new Date().toISOString().split("T")[0],items:[{product_id:"",qty:"",unit_selling_price:"",total:""}],amount_paid:"",due_date:"",payment_type:"cash"}),b(!0)},ie=()=>{b(!1),X([{product_id:"",qty:"",unit_selling_price:"",total:""}]),ae(""),Le(""),ke("cash"),U.reset(),U.setData({customer_id:"",customer_name:"",transaction_date:new Date().toISOString().split("T")[0],items:[{product_id:"",qty:"",unit_selling_price:"",total:""}],amount_paid:"",due_date:"",payment_type:"cash"})},Oe=[{title:"Sales Transactions",href:"/sales-transactions"}],Je=W.data.filter(m=>m.status==="Completed").reduce((m,L)=>m+parseFloat(L.amount_paid),0),N=W.data.filter(m=>m.payment_type==="Credit").reduce((m,L)=>m+parseFloat(L.total),0)+W.data.filter(m=>m.payment_type==="Partial").reduce((m,L)=>m+parseFloat(L.amount_owed),0);return a.jsx(Ig,{breadcrumbs:Oe,children:a.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Sales & Transactions"}),a.jsx(Xe,{onClick:xe,children:"Add Transaction"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsxs(Sr,{children:[a.jsx(Cr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsx(Nr,{className:"text-sm font-medium",children:"Total Sales"})}),a.jsxs(Ir,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["GH₵",(Je+N).toFixed(2)]}),a.jsx("p",{className:"text-muted-foreground text-xs",children:"All transactions"})]})]}),a.jsxs(Sr,{children:[a.jsx(Cr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsx(Nr,{className:"text-sm font-medium",children:"Cash Sales"})}),a.jsxs(Ir,{children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["GH₵",Je.toFixed(2)]}),a.jsx("p",{className:"text-muted-foreground text-xs",children:"Cash payments"})]})]}),a.jsxs(Sr,{children:[a.jsx(Cr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsx(Nr,{className:"text-sm font-medium",children:"Credit Sales"})}),a.jsxs(Ir,{children:[a.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["GH₵",N.toFixed(2)]}),a.jsx("p",{className:"text-muted-foreground text-xs",children:"Credit payments"})]})]})]}),a.jsx(Zg,{sales_transactions:W}),a.jsx(Hg,{open:Ee,onClose:ie,products:ee,customers:l,form:U,items:G,setItems:X,amountPaid:he,setAmountPaid:ae,dueDate:ye,setDueDate:Le,paymentType:E,setPaymentType:ke,runningTotal:le})]})})}export{f_ as default};
