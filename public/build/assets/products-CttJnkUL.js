import{r as p,m as U,j as e,S as V}from"./app-Ce3Kbmu8.js";import{I as i}from"./InputError-C3hxAlCD.js";import{B as R}from"./badge-CYJzuaTI.js";import{F as o}from"./createLucideIcon-BNyeBq2C.js";import{C as G,a as J,b as K,c as Q}from"./card-liKxn8zH.js";import{D as b,a as W,b as S,c as _,d as C,e as P}from"./dialog-B0gxyw8h.js";import{I as n}from"./index-VVkaOZnK.js";import{L as l}from"./label-CIeJA2j2.js";import{S as D,a as A,b as T,c as w,d as E}from"./select-Do_oSiQD.js";import{T as X,a as Y,b as u,c as d,d as Z,e as c}from"./table-BO93YxB9.js";import{A as $,P as ee}from"./app-layout-DHsqifG0.js";import{P as se}from"./plus-CNrSpQLo.js";import{S as re}from"./square-pen-CLw-Fe5Y.js";import{T as ae}from"./trash-2-DdAEcpIZ.js";import"./index-AKkmNQ4A.js";import"./index-CFyVS69_.js";import"./index-DRiGhLAp.js";function Se({products:x=[],suppliers:te=[],errors:ie={}}){var N,f;const[F,m]=p.useState(!1),[q,h]=p.useState(!1),[I,g]=p.useState(null),{data:t,setData:a,post:k,put:B,processing:j,reset:v,errors:r}=U({name:"",description:"",category:"",supplier_id:"",lines_per_carton:1}),L=[{title:"Products",href:"/products"}];function O(s){s.preventDefault(),k(route("products.store"),{onSuccess:()=>{v(),m(!1)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function M(s){g(s),a({name:s.name,description:s.description||"",category:s.category,supplier_id:s.supplier_id?s.supplier_id.toString():"",lines_per_carton:s.lines_per_carton}),h(!0)}function z(s){s.preventDefault(),B(route("products.update",I.id),{onSuccess:()=>{v(),h(!1),g(null)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function H(s){confirm("Are you sure you want to delete this product?")&&V.delete(route("products.destroy",s),{preserveScroll:!0,preserveState:!0,only:["products","flash"]})}return e.jsx($,{breadcrumbs:L,children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"mb-4 rounded border border-blue-200 bg-blue-50 p-4 text-blue-900",children:[e.jsx("strong",{children:"Note:"})," This page is for managing your ",e.jsx("b",{children:"product catalog"})," only.",e.jsx("br",{}),e.jsxs("ul",{className:"mt-2 list-disc pl-6",children:[e.jsx("li",{children:"Add, edit, or remove product details (name, price, supplier, etc.) here."}),e.jsx("li",{children:e.jsxs("b",{children:["All stock changes (add, remove, adjust) are done in ",e.jsx("u",{children:"Inventory Management"}),", not here."]})}),e.jsx("li",{children:"Think of this as your “master list” of what you could possibly have in your store."})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Products"}),e.jsxs(b,{open:F,onOpenChange:m,children:[e.jsx(W,{asChild:!0,children:e.jsxs(o,{onClick:()=>m(!0),children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),e.jsxs(S,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(C,{children:"Add New Product"}),e.jsx(P,{children:"Enter the product details. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:O,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(n,{id:"name",placeholder:"Enter product name",value:t.name,onChange:s=>a("name",s.target.value),required:!0}),r.name&&e.jsx(i,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(D,{value:(N=t.lines_per_carton)==null?void 0:N.toString(),onValueChange:s=>a("lines_per_carton",s),required:!0,children:[e.jsx(A,{children:e.jsx(T,{placeholder:"Select lines per carton"})}),e.jsx(w,{children:[1,2,3,4,5].map(s=>e.jsx(E,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(i,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(n,{id:"description",placeholder:"Product description",value:t.description,onChange:s=>a("description",s.target.value)}),r.description&&e.jsx(i,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(n,{id:"category",placeholder:"e.g., Frozen, Chilled, Beverages",value:t.category,onChange:s=>a("category",s.target.value),required:!0}),r.category&&e.jsx(i,{message:r.category,className:"mt-2"})]})]}),e.jsx(o,{type:"submit",disabled:j,children:"Add Product"})]})]})]})]}),e.jsx(b,{open:q,onOpenChange:h,children:e.jsxs(S,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(C,{children:"Edit Product"}),e.jsx(P,{children:"Update the product information. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:z,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(n,{id:"edit-name",placeholder:"Enter product name",value:t.name,onChange:s=>a("name",s.target.value),required:!0}),r.name&&e.jsx(i,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(D,{value:(f=t.lines_per_carton)==null?void 0:f.toString(),onValueChange:s=>a("lines_per_carton",s),required:!0,children:[e.jsx(A,{children:e.jsx(T,{placeholder:"Select lines per carton"})}),e.jsx(w,{children:[1,2,3,4,5].map(s=>e.jsx(E,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(i,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(n,{id:"edit-description",placeholder:"Product description",value:t.description,onChange:s=>a("description",s.target.value)}),r.description&&e.jsx(i,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(n,{id:"edit-category",placeholder:"e.g., Frozen, Chilled, Beverages",value:t.category,onChange:s=>a("category",s.target.value),required:!0}),r.category&&e.jsx(i,{message:r.category,className:"mt-2"})]})]}),e.jsx(o,{type:"submit",disabled:j,children:"Update Product"})]})]})}),e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Product Directory"]})}),e.jsx(Q,{children:e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs(u,{children:[e.jsx(d,{children:"Product Name"}),e.jsx(d,{children:"Lines per Carton"}),e.jsx(d,{children:"Category"}),e.jsx(d,{children:"Supplier"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Actions"})]})}),e.jsxs(Z,{children:[x.map(s=>{var y;return e.jsxs(u,{children:[e.jsx(c,{className:"font-medium",children:s.name}),e.jsx(c,{children:s.lines_per_carton}),e.jsx(c,{children:s.category}),e.jsx(c,{children:((y=s.supplier)==null?void 0:y.name)||"N/A"}),e.jsx(c,{children:e.jsx(R,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx(c,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>M(s),children:e.jsx(re,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>H(s.id),children:e.jsx(ae,{className:"h-4 w-4"})})]})})]},s.id)}),x.length===0&&e.jsx(u,{children:e.jsx(c,{colSpan:5,className:"text-muted-foreground py-8 text-center",children:"No products found. Add your first product to get started."})})]})]})})]})]})})}export{Se as default};
