import{r as p,u as H,j as e,a as U}from"./app-1Notxd3e.js";import{I as i}from"./InputError-CYqUW_vg.js";import{B as V}from"./badge-C5cK0jYn.js";import{F as d}from"./createLucideIcon-B7W1q_uQ.js";import{C as R,a as G,b as J,c as K}from"./card-DfvEkdop.js";import{D as y,a as Q,b,c as _,d as C,e as S}from"./dialog-Dx9yVP87.js";import{I as c}from"./index-Xk3s--Yf.js";import{L as l}from"./label-Brq_mziV.js";import{S as P,a as D,b as A,c as T,d as w}from"./select-B8ZnsxfS.js";import{T as W,a as X,b as u,c as o,d as Y,e as n}from"./table-B4nc4C0T.js";import{A as Z,P as $}from"./app-layout-DP6IZWd4.js";import{P as ee}from"./plus-6p939pSQ.js";import{S as se}from"./square-pen-D_U6rt0r.js";import{T as re}from"./trash-2-DYDRsOaj.js";import"./index-BxglnvVj.js";import"./index-BIqwGjeY.js";import"./index-C4amr-KH.js";function be({products:x=[],suppliers:ae=[],errors:te={}}){var N,f;const[F,m]=p.useState(!1),[E,h]=p.useState(!1),[q,g]=p.useState(null),{data:t,setData:a,post:I,put:k,processing:j,reset:v,errors:r}=H({name:"",description:"",category:"",supplier_id:"",lines_per_carton:1}),B=[{title:"Products",href:"/products"}];function L(s){s.preventDefault(),I(route("products.store"),{onSuccess:()=>{v(),m(!1)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function O(s){g(s),a({name:s.name,description:s.description||"",category:s.category,supplier_id:s.supplier_id?s.supplier_id.toString():"",lines_per_carton:s.lines_per_carton}),h(!0)}function M(s){s.preventDefault(),k(route("products.update",q.id),{onSuccess:()=>{v(),h(!1),g(null)},preserveScroll:!0,preserveState:!0,only:["products","errors","flash"]})}function z(s){confirm("Are you sure you want to delete this product?")&&U.delete(route("products.destroy",s),{preserveScroll:!0,preserveState:!0,only:["products","flash"]})}return e.jsx(Z,{breadcrumbs:B,children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsxs("div",{className:"mb-4 rounded border border-blue-200 bg-blue-50 p-4 text-blue-900",children:[e.jsx("strong",{children:"Note:"})," This page is for managing your ",e.jsx("b",{children:"product catalog"})," only.",e.jsx("br",{}),e.jsxs("ul",{className:"mt-2 list-disc pl-6",children:[e.jsx("li",{children:"Add, edit, or remove product details (name, price, supplier, etc.) here."}),e.jsx("li",{children:e.jsxs("b",{children:["All stock changes (add, remove, adjust) are done in ",e.jsx("u",{children:"Inventory Management"}),", not here."]})}),e.jsx("li",{children:"Think of this as your “master list” of what you could possibly have in your store."})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Products"}),e.jsxs(y,{open:F,onOpenChange:m,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(d,{onClick:()=>m(!0),children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),e.jsxs(b,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(C,{children:"Add New Product"}),e.jsx(S,{children:"Enter the product details. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:L,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(c,{id:"name",placeholder:"Enter product name",value:t.name,onChange:s=>a("name",s.target.value),required:!0}),r.name&&e.jsx(i,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(P,{value:(N=t.lines_per_carton)==null?void 0:N.toString(),onValueChange:s=>a("lines_per_carton",s),required:!0,children:[e.jsx(D,{children:e.jsx(A,{placeholder:"Select lines per carton"})}),e.jsx(T,{children:[1,2,3,4,5].map(s=>e.jsx(w,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(i,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(c,{id:"description",placeholder:"Product description",value:t.description,onChange:s=>a("description",s.target.value)}),r.description&&e.jsx(i,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(c,{id:"category",placeholder:"e.g., Frozen, Chilled, Beverages",value:t.category,onChange:s=>a("category",s.target.value),required:!0}),r.category&&e.jsx(i,{message:r.category,className:"mt-2"})]})]}),e.jsx(d,{type:"submit",disabled:j,children:"Add Product"})]})]})]})]}),e.jsx(y,{open:E,onOpenChange:h,children:e.jsxs(b,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(C,{children:"Edit Product"}),e.jsx(S,{children:"Update the product information. All fields marked with * are required."})]}),e.jsxs("form",{onSubmit:M,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-name",className:"text-right",children:"Product Name *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(c,{id:"edit-name",placeholder:"Enter product name",value:t.name,onChange:s=>a("name",s.target.value),required:!0}),r.name&&e.jsx(i,{message:r.name,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"lines_per_carton",className:"text-right",children:"Lines per Carton *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(P,{value:(f=t.lines_per_carton)==null?void 0:f.toString(),onValueChange:s=>a("lines_per_carton",s),required:!0,children:[e.jsx(D,{children:e.jsx(A,{placeholder:"Select lines per carton"})}),e.jsx(T,{children:[1,2,3,4,5].map(s=>e.jsx(w,{value:s.toString(),children:s},s))})]}),r.lines_per_carton&&e.jsx(i,{message:r.lines_per_carton,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-description",className:"text-right",children:"Description"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(c,{id:"edit-description",placeholder:"Product description",value:t.description,onChange:s=>a("description",s.target.value)}),r.description&&e.jsx(i,{message:r.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(l,{htmlFor:"edit-category",className:"text-right",children:"Category *"}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(c,{id:"edit-category",placeholder:"e.g., Frozen, Chilled, Beverages",value:t.category,onChange:s=>a("category",s.target.value),required:!0}),r.category&&e.jsx(i,{message:r.category,className:"mt-2"})]})]}),e.jsx(d,{type:"submit",disabled:j,children:"Update Product"})]})]})}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Product Directory"]})}),e.jsx(K,{children:e.jsxs(W,{children:[e.jsx(X,{children:e.jsxs(u,{children:[e.jsx(o,{children:"Product Name"}),e.jsx(o,{children:"Lines per Carton"}),e.jsx(o,{children:"Category"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Actions"})]})}),e.jsxs(Y,{children:[x.map(s=>e.jsxs(u,{children:[e.jsx(n,{className:"font-medium",children:s.name}),e.jsx(n,{children:s.lines_per_carton}),e.jsx(n,{children:s.category}),e.jsx(n,{children:e.jsx(V,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx(n,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>O(s),children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>z(s.id),children:e.jsx(re,{className:"h-4 w-4"})})]})})]},s.id)),x.length===0&&e.jsx(u,{children:e.jsx(n,{colSpan:5,className:"text-muted-foreground py-8 text-center",children:"No products found. Add your first product to get started."})})]})]})})]})]})})}export{be as default};
