import{j as e,r as S,S as T}from"./app-D2J-B9oG.js";import{A as R,P as v}from"./app-layout-GD4HsK_H.js";import{C as _,a as P,b as y,c as C}from"./card-BYx1Opn1.js";import{T as D,a as $,b as i,c as x,d as A,e as s}from"./table-Cf-Jrtd-.js";import{D as B}from"./DateRangePicker-Dya-fL7I.js";import{D as E}from"./dollar-sign-Kn39pwoQ.js";import{a as Q}from"./createLucideIcon-C6_Fh7Gx.js";import"./index-Cutdopr1.js";import"./index-amgbxTWX.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],I=Q("Calendar",M);function N({title:o,products:t,totalQty:g,totalAmount:n,totalAmountColor:l,showAmountPaid:a=!1,totalAmountPaid:d,onPageChange:h}){const j=()=>e.jsxs("nav",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{disabled:!t.prev_page_url,onClick:()=>h(t.current_page-1),className:`rounded border px-3 py-1 ${t.prev_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Previous"}),e.jsx("span",{className:"rounded border px-3 py-1",children:t.current_page}),e.jsx("button",{disabled:!t.next_page_url,onClick:()=>h(t.current_page+1),className:`rounded border px-3 py-1 ${t.next_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Next"})]});return e.jsxs(_,{children:[e.jsx(P,{children:e.jsx(y,{children:o})}),e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx($,{children:e.jsxs(i,{children:[e.jsx(x,{children:"Product"}),e.jsx(x,{children:"Quantity"}),e.jsx(x,{children:"Total Amount"}),a&&e.jsx(x,{children:"Amount Paid"})]})}),e.jsxs(A,{children:[t.data.length===0?e.jsx(i,{children:e.jsx(s,{colSpan:a?4:3,className:"text-center text-gray-500",children:"No records found"})}):t.data.map((c,b)=>e.jsxs(i,{children:[e.jsx(s,{className:"font-medium",children:c.product}),e.jsx(s,{children:c.qty}),e.jsxs(s,{className:"font-medium",children:["GH₵",parseFloat(c.total_amount).toFixed(2)]}),a&&e.jsxs(s,{className:"font-medium",children:["GH₵",parseFloat(c.amount_paid||0).toFixed(2)]})]},b)),e.jsxs(i,{className:`bg-${l==="text-green-600"?"green":l==="text-orange-600"?"orange":"yellow"}-50`,children:[e.jsx(s,{className:"font-bold",children:"Total Products"}),e.jsx(s,{className:"font-bold",children:g}),e.jsxs(s,{className:`font-bold ${l}`,children:["GH₵",n.toFixed(2)]}),a&&e.jsxs(s,{className:"font-bold text-green-600",children:["GH₵",d.toFixed(2)]})]})]})]}),j()]})]})}function w({title:o,sales:t,amountTotal:g,amountColor:n,onPageChange:l}){const a=()=>e.jsxs("nav",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{disabled:!t.prev_page_url,onClick:()=>l(t.current_page-1),className:`rounded border px-3 py-1 ${t.prev_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Previous"}),e.jsx("span",{className:"rounded border px-3 py-1",children:t.current_page}),e.jsx("button",{disabled:!t.next_page_url,onClick:()=>l(t.current_page+1),className:`rounded border px-3 py-1 ${t.next_page_url?"bg-white hover:bg-gray-100":"cursor-not-allowed bg-gray-200"}`,children:"Next"})]});return e.jsxs(_,{children:[e.jsx(P,{children:e.jsx(y,{children:o})}),e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx($,{children:e.jsxs(i,{children:[e.jsx(x,{children:"Time"}),e.jsx(x,{children:"Customer"}),e.jsx(x,{children:"Products"}),e.jsx(x,{children:"Amount"})]})}),e.jsxs(A,{children:[t.data.length===0?e.jsx(i,{children:e.jsx(s,{colSpan:4,className:"text-center text-gray-500",children:"No records found"})}):t.data.map((d,h)=>e.jsxs(i,{children:[e.jsx(s,{children:d.time}),e.jsx(s,{className:"font-medium",children:d.customer}),e.jsx(s,{children:d.products}),e.jsxs(s,{className:"font-medium",children:["GH₵",parseFloat(d.amount).toFixed(2)]})]},h)),e.jsxs(i,{className:n==="text-green-600"?"bg-green-50":"bg-orange-50",children:[e.jsxs(s,{colSpan:3,className:"font-bold",children:["Total ",o]}),e.jsxs(s,{className:`font-bold ${n}`,children:["GH₵",g.toFixed(2)]})]})]})]}),a()]})]})}function m({title:o,icon:t,amount:g,subtitle:n,color:l}){return e.jsxs(_,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(y,{className:"text-sm font-medium",children:o}),e.jsx(t,{className:`h-4 w-4 ${l}`})]}),e.jsxs(C,{children:[e.jsx("div",{className:`text-2xl font-bold ${l}`,children:g}),e.jsx("p",{className:"text-muted-foreground text-xs",children:n})]})]})}function X({cash_sales:o,credit_sales:t,products_bought:g,credited_products:n,partial_products:l,summary:a,start_date:d,end_date:h}){const j=new Date().toISOString().slice(0,10),[c,b]=S.useState(d||j),[f,F]=S.useState(h||j),H=(r,u)=>{const k=u==="start"?r:c,G=u==="end"?r:f;u==="start"&&b(r),u==="end"&&F(r),T.get(route("daily-sales-report.index"),{start_date:k,end_date:G,cash_page:1,credit_page:1,bought_page:1,credited_page:1,partial_page:1},{preserveState:!0,preserveScroll:!0,replace:!0})},p=(r,u)=>{T.get(route("daily-sales-report.index"),{start_date:c,end_date:f,[r]:u},{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsx(R,{breadcrumbs:[{title:"Daily Sales Report",href:"/daily-sales-report"}],children:e.jsxs("div",{className:"min-h-screen space-y-6 bg-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Daily Sales Report"})}),e.jsx(B,{startDate:c,endDate:f,onChange:H}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[e.jsx(m,{title:"Cash Sales",icon:E,amount:`GH₵${a.cashTotal.toFixed(2)}`,subtitle:`${o.data.length} transactions`,color:"text-green-600"}),e.jsx(m,{title:"Credit Sales",icon:v,amount:`GH₵${a.creditTotal.toFixed(2)}`,subtitle:`${t.data.length} transactions`,color:"text-orange-600"}),e.jsx(m,{title:"Grand Total",icon:I,amount:`GH₵${a.grandTotal.toFixed(2)}`,subtitle:"Cash + Credit",color:"text-blue-600"}),e.jsx(m,{title:"Products Sold",icon:v,amount:a.totalProductsSold,subtitle:"Total units",color:"text-purple-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx(w,{title:"Cash Sales",sales:o,amountTotal:a.cashTotal,amountColor:"text-green-600",onPageChange:r=>p("cash_page",r)}),e.jsx(w,{title:"Credit Sales",sales:t,amountTotal:a.creditTotal,amountColor:"text-orange-600",onPageChange:r=>p("credit_page",r)})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx(N,{title:"Products Bought (Cash Sales by Product)",products:g,totalQty:a.totalProductsBought,totalAmount:a.totalProductsBoughtAmount,totalAmountColor:"text-green-600",onPageChange:r=>p("bought_page",r)}),e.jsx(N,{title:"Credited Products (Credit Sales by Product)",products:n,totalQty:a.totalCreditedProducts,totalAmount:a.totalCreditedProductsAmount,totalAmountColor:"text-orange-600",onPageChange:r=>p("credited_page",r)}),e.jsx(N,{title:"Partial Products (Partial product Sales)",products:l,totalQty:a.totalPartialProducts,totalAmount:a.totalPartialProductsAmount,totalAmountColor:"text-yellow-600",showAmountPaid:!0,totalAmountPaid:a.totalPartialProductsAmountPaid,onPageChange:r=>p("partial_page",r)})]})]})})}export{X as default};
